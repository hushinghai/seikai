// http://stackoverflow.com/questions/2790001/fixing-javascript-array-functions-in-internet-explorer-indexof-foreach-etc
"bind"in Function.prototype||(Function.prototype.bind=function(a){var b=this;if(arguments.length<=1)return function(){return b.apply(a,arguments)};var c=Array.prototype.slice.call(arguments,1);return function(){return b.apply(a,0===arguments.length?c:c.concat(Array.prototype.slice.call(arguments)))}}),"trim"in String.prototype||(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}),"indexOf"in Array.prototype||(Array.prototype.indexOf=function(a,b){void 0===b&&(b=0),0>b&&(b+=this.length),0>b&&(b=0);for(var c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1}),"lastIndexOf"in Array.prototype||(Array.prototype.lastIndexOf=function(a,b){for(void 0===b&&(b=this.length-1),0>b&&(b+=this.length),b>this.length-1&&(b=this.length-1),b++;b-->0;)if(b in this&&this[b]===a)return b;return-1}),"forEach"in Array.prototype||(Array.prototype.forEach=function(a,b){for(var c=0,d=this.length;d>c;c++)c in this&&a.call(b,this[c],c,this)}),"map"in Array.prototype||(Array.prototype.map=function(a,b){for(var c=new Array(this.length),d=0,e=this.length;e>d;d++)d in this&&(c[d]=a.call(b,this[d],d,this));return c}),"filter"in Array.prototype||(Array.prototype.filter=function(a,b){for(var c,d=[],e=0,f=this.length;f>e;e++)e in this&&a.call(b,c=this[e],e,this)&&d.push(c);return d}),"every"in Array.prototype||(Array.prototype.every=function(a,b){for(var c=0,d=this.length;d>c;c++)if(c in this&&!a.call(b,this[c],c,this))return!1;return!0}),"some"in Array.prototype||(Array.prototype.some=function(a,b){for(var c=0,d=this.length;d>c;c++)if(c in this&&a.call(b,this[c],c,this))return!0;return!1}),/*!
 * jQuery BBQ: Back Button & Query Library - v1.2.1 - 2/17/2010
 * http://benalman.com/projects/jquery-bbq-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
// About: License
// 
// Copyright (c) 2010 "Cowboy" Ben Alman,
// Dual licensed under the MIT and GPL licenses.
// http://benalman.com/about/license/
// 
// About: Examples
// 
// These working examples, complete with fully commented code, illustrate a few
// ways in which this plugin can be used.
// 
// Basic AJAX     - http://benalman.com/code/projects/jquery-bbq/examples/fragment-basic/
// Advanced AJAX  - http://benalman.com/code/projects/jquery-bbq/examples/fragment-advanced/
// jQuery UI Tabs - http://benalman.com/code/projects/jquery-bbq/examples/fragment-jquery-ui-tabs/
// Deparam        - http://benalman.com/code/projects/jquery-bbq/examples/deparam/
// 
// About: Support and Testing
// 
// Information about what version or versions of jQuery this plugin has been
// tested with, what browsers it has been tested in, and where the unit tests
// reside (so you can test it yourself).
// 
// jQuery Versions - 1.3.2, 1.4.1, 1.4.2
// Browsers Tested - Internet Explorer 6-8, Firefox 2-3.7, Safari 3-4,
//                   Chrome 4-5, Opera 9.6-10.1.
// Unit Tests      - http://benalman.com/code/projects/jquery-bbq/unit/
// 
// About: Release History
// 
// 1.2.1 - (2/17/2010) Actually fixed the stale window.location Safari bug from
//         <jQuery hashchange event> in BBQ, which was the main reason for the
//         previous release!
// 1.2   - (2/16/2010) Integrated <jQuery hashchange event> v1.2, which fixes a
//         Safari bug, the event can now be bound before DOM ready, and IE6/7
//         page should no longer scroll when the event is first bound. Also
//         added the <jQuery.param.fragment.noEscape> method, and reworked the
//         <hashchange event (BBQ)> internal "add" method to be compatible with
//         changes made to the jQuery 1.4.2 special events API.
// 1.1.1 - (1/22/2010) Integrated <jQuery hashchange event> v1.1, which fixes an
//         obscure IE8 EmulateIE7 meta tag compatibility mode bug.
// 1.1   - (1/9/2010) Broke out the jQuery BBQ event.special <hashchange event>
//         functionality into a separate plugin for users who want just the
//         basic event & back button support, without all the extra awesomeness
//         that BBQ provides. This plugin will be included as part of jQuery BBQ,
//         but also be available separately. See <jQuery hashchange event>
//         plugin for more information. Also added the <jQuery.bbq.removeState>
//         method and added additional <jQuery.deparam> examples.
// 1.0.3 - (12/2/2009) Fixed an issue in IE 6 where location.search and
//         location.hash would report incorrectly if the hash contained the ?
//         character. Also <jQuery.param.querystring> and <jQuery.param.fragment>
//         will no longer parse params out of a URL that doesn't contain ? or #,
//         respectively.
// 1.0.2 - (10/10/2009) Fixed an issue in IE 6/7 where the hidden IFRAME caused
//         a "This page contains both secure and nonsecure items." warning when
//         used on an https:// page.
// 1.0.1 - (10/7/2009) Fixed an issue in IE 8. Since both "IE7" and "IE8
//         Compatibility View" modes erroneously report that the browser
//         supports the native window.onhashchange event, a slightly more
//         robust test needed to be added.
// 1.0   - (10/2/2009) Initial release
function(a,b){"$:nomunge";function c(a){return"string"==typeof a}function d(a){var b=r.call(arguments,1);return function(){return a.apply(this,b.concat(r.call(arguments)))}}function e(a){return a.replace(/^[^#]*#?(.*)$/,"$1")}function f(a){return a.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function g(d,e,f,g,h){var i,k,m,n,o;return g!==j?(m=f.match(d?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/),o=m[3]||"",2===h&&c(g)?k=g.replace(d?E:D,""):(n=l(m[2]),g=c(g)?l[d?y:x](g):g,k=2===h?g:1===h?a.extend({},g,n):a.extend({},n,g),k=t(k),d&&(k=k.replace(q,s))),i=m[1]+(d?"#":k||!m[1]?"?":"")+k+o):i=e(f!==j?f:b[A][B]),i}function h(a,b,d){return b===j||"boolean"==typeof b?(d=b,b=t[a?y:x]()):b=c(b)?b.replace(a?E:D,""):b,l(b,d)}function i(b,d,e,f){return c(e)||"object"==typeof e||(f=e,e=d,d=j),this.each(function(){var c=a(this),g=d||p()[(this.nodeName||"").toLowerCase()]||"",h=g&&c.attr(g)||"";c.attr(g,t[b](h,e,f))})}var j,k,l,m,n,o,p,q,r=Array.prototype.slice,s=decodeURIComponent,t=a.param,u=a.bbq=a.bbq||{},v=a.event.special,w="hashchange",x="querystring",y="fragment",z="elemUrlAttr",A="location",B="href",C="src",D=/^.*\?|#.*$/g,E=/^.*\#/,F={};t[x]=d(g,0,f),t[y]=k=d(g,1,e),k.noEscape=function(b){b=b||"";var c=a.map(b.split(""),encodeURIComponent);q=new RegExp(c.join("|"),"g")},k.noEscape(",/"),a.deparam=l=function(b,c){var d={},e={"true":!0,"false":!1,"null":null};return a.each(b.replace(/\+/g," ").split("&"),function(b,f){var g,h=f.split("="),i=s(h[0]),k=d,l=0,m=i.split("]["),n=m.length-1;if(/\[/.test(m[0])&&/\]$/.test(m[n])?(m[n]=m[n].replace(/\]$/,""),m=m.shift().split("[").concat(m),n=m.length-1):n=0,2===h.length)if(g=s(h[1]),c&&(g=g&&!isNaN(g)?+g:"undefined"===g?j:e[g]!==j?e[g]:g),n)for(;n>=l;l++)i=""===m[l]?k.length:m[l],k=k[i]=n>l?k[i]||(m[l+1]&&isNaN(m[l+1])?{}:[]):g;else a.isArray(d[i])?d[i].push(g):d[i]=d[i]!==j?[d[i],g]:g;else i&&(d[i]=c?j:"")}),d},l[x]=d(h,0),l[y]=m=d(h,1),a[z]||(a[z]=function(b){return a.extend(F,b)})({a:B,base:B,iframe:C,img:C,input:C,form:"action",link:B,script:C}),p=a[z],a.fn[x]=d(i,x),a.fn[y]=d(i,y),u.pushState=n=function(a,d){c(a)&&/^#/.test(a)&&d===j&&(d=2);var e=a!==j,f=k(b[A][B],e?a:{},e?d:2);b[A][B]=f+(/#/.test(f)?"":"#")},u.getState=o=function(a,b){return a===j||"boolean"==typeof a?m(a):m(b)[a]},u.removeState=function(b){var c={};b!==j&&(c=o(),a.each(a.isArray(b)?b:arguments,function(a,b){delete c[b]})),n(c,2)},v[w]=a.extend(v[w],{add:function(b){function c(a){var b=a[y]=k();a.getState=function(a,c){return a===j||"boolean"==typeof a?l(b,a):l(b,c)[a]},d.apply(this,arguments)}var d;return a.isFunction(b)?(d=b,c):(d=b.handler,b.handler=c,void 0)}})}(jQuery,this),/*!
 * jQuery hashchange event - v1.2 - 2/11/2010
 * http://benalman.com/projects/jquery-hashchange-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
// About: License
// 
// Copyright (c) 2010 "Cowboy" Ben Alman,
// Dual licensed under the MIT and GPL licenses.
// http://benalman.com/about/license/
// 
// About: Examples
// 
// This working example, complete with fully commented code, illustrate one way
// in which this plugin can be used.
// 
// hashchange event - http://benalman.com/code/projects/jquery-hashchange/examples/hashchange/
// 
// About: Support and Testing
// 
// Information about what version or versions of jQuery this plugin has been
// tested with, what browsers it has been tested in, and where the unit tests
// reside (so you can test it yourself).
// 
// jQuery Versions - 1.3.2, 1.4.1, 1.4.2
// Browsers Tested - Internet Explorer 6-8, Firefox 2-3.7, Safari 3-4, Chrome, Opera 9.6-10.1.
// Unit Tests      - http://benalman.com/code/projects/jquery-hashchange/unit/
// 
// About: Known issues
// 
// While this jQuery hashchange event implementation is quite stable and robust,
// there are a few unfortunate browser bugs surrounding expected hashchange
// event-based behaviors, independent of any JavaScript window.onhashchange
// abstraction. See the following examples for more information:
// 
// Chrome: Back Button - http://benalman.com/code/projects/jquery-hashchange/examples/bug-chrome-back-button/
// Firefox: Remote XMLHttpRequest - http://benalman.com/code/projects/jquery-hashchange/examples/bug-firefox-remote-xhr/
// WebKit: Back Button in an Iframe - http://benalman.com/code/projects/jquery-hashchange/examples/bug-webkit-hash-iframe/
// Safari: Back Button from a different domain - http://benalman.com/code/projects/jquery-hashchange/examples/bug-safari-back-from-diff-domain/
// 
// About: Release History
// 
// 1.2   - (2/11/2010) Fixed a bug where coming back to a page using this plugin
//         from a page on another domain would cause an error in Safari 4. Also,
//         IE6/7 Iframe is now inserted after the body (this actually works),
//         which prevents the page from scrolling when the event is first bound.
//         Event can also now be bound before DOM ready, but it won't be usable
//         before then in IE6/7.
// 1.1   - (1/21/2010) Incorporated document.documentMode test to fix IE8 bug
//         where browser version is incorrectly reported as 8.0, despite
//         inclusion of the X-UA-Compatible IE=EmulateIE7 meta tag.
// 1.0   - (1/9/2010) Initial Release. Broke out the jQuery BBQ event.special
//         window.onhashchange functionality into a separate plugin for users
//         who want just the basic event & back button support, without all the
//         extra awesomeness that BBQ provides. This plugin will be included as
//         part of jQuery BBQ, but also be available separately.
function(a,b,c){"$:nomunge";function d(a){return a=a||b[g][i],a.replace(/^[^#]*#?(.*)$/,"$1")}var e,f=a.event.special,g="location",h="hashchange",i="href",j=a.browser,k=document.documentMode,l=j.msie&&(k===c||8>k),m="on"+h in b&&!l;a[h+"Delay"]=100,f[h]=a.extend(f[h],{setup:function(){return m?!1:(a(e.start),void 0)},teardown:function(){return m?!1:(a(e.stop),void 0)}}),e=function(){function c(){j=k=function(a){return a},l&&(f=a('<iframe src="javascript:0"/>').hide().insertAfter("body")[0].contentWindow,k=function(){return d(f.document[g][i])},j=function(a,b){if(a!==b){var c=f.document;c.open().close(),c[g].hash="#"+a}},j(d()))}var e,f,j,k,m={};return m.start=function(){if(!e){var f=d();j||c(),function l(){var c=d(),m=k(f);c!==f?(j(f=c,m),a(b).trigger(h)):m!==f&&(b[g][i]=b[g][i].replace(/#.*/,"")+"#"+m),e=setTimeout(l,a[h+"Delay"])}()}},m.stop=function(){f||(e&&clearTimeout(e),e=0)},m}()}(jQuery,this),/*
 * jQuery miniColors: A small color selector
 *
 * Copyright 2011 Cory LaViska for A Beautiful Site, LLC. (http://abeautifulsite.net/)
 *
 * Dual licensed under the MIT or GPL Version 2 licenses
 *
 *
 * Usage:
 *
 *	1. Link to jQuery: <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.0/jquery.min.js"></script>
 *
 *  2. Link to miniColors: <script type="text/javascript" src="jquery.miniColors.js"></script>
 *
 *  3. Include miniColors stylesheet: <link type="text/css" rel="stylesheet" href="jquery.miniColors.css" />
 *
 *	4. Apply $([selector]).miniColors() to one or more INPUT elements
 *
 *
 * Options:
 *
 *	disabled		[true|false]
 *	readonly		[true|false]
 *
 *
 *  Specify options on creation:
 *
 *		$([selector]).miniColors({
 *
 *			optionName: value,
 *			optionName: value,
 *			...
 *
 *		});
 *
 *
 * Methods:
 *
 *	Call a method using: $([selector]).miniColors('methodName', [value]);
 *
 *	disabled		[true|false]
 *	readonly		[true|false]
 *	value			[hex value]
 *	destroy
 *
 *
 * Events:
 *
 *	Attach events on creation:
 *
 *		$([selector]).miniColors({
 *
 *			change: function(hex, rgb) { ... }
 *
 *		});
 *
 *	change(hex, rgb)	called when the color value changes; 'this' will refer to the original input element;
 *                      hex is the string hex value of the selected color; rgb is an object with the RGB values
 *
 *
 * Change log:
 *
 *	- v0.1 (2011-02-24) - Initial release
 *
 *
 * Attribution:
 *
 *	- The color picker icon is based on an icon from the amazing Fugue icon set: 
 *    http://p.yusukekamiyamane.com/
 *
 *	- The gradient image, the hue image, and the math functions are courtesy of 
 *    the eyecon.co jQuery color picker: http://www.eyecon.ro/colorpicker/
 *
 *
*/
jQuery&&function(a){a.extend(a.fn,{miniColors:function(b,c){var d=function(b,c){var d=q(b.val());d||(d="FFFFFF");var e=v(d),f=a('<a class="miniColors-trigger" style="background-color: #'+d+'" href="#"></a>');f.insertAfter(b),b.addClass("miniColors").attr("maxlength",7).attr("autocomplete","off"),b.data("trigger",f),b.data("hsb",e),c.change&&b.data("change",c.change),c.readonly&&b.attr("readonly",!0),c.disabled&&g(b),f.bind("click.miniColors",function(a){a.preventDefault(),b.trigger("focus")}),b.bind("focus.miniColors",function(){i(b)}),b.bind("blur.miniColors",function(){var a=q(b.val());b.val(a?"#"+a:"")}),b.bind("keydown.miniColors",function(a){9===a.keyCode&&j(b)}),b.bind("keyup.miniColors",function(){var a=b.val().replace(/[^A-F0-9#]/gi,"");b.val(a),n(b)||b.data("trigger").css("backgroundColor","#FFF")}),b.bind("paste.miniColors",function(){setTimeout(function(){b.trigger("keyup")},5)})},e=function(b){j(),b=a(b),b.data("trigger").remove(),b.removeAttr("autocomplete"),b.removeData("trigger"),b.removeData("selector"),b.removeData("hsb"),b.removeData("huePicker"),b.removeData("colorPicker"),b.removeData("mousebutton"),b.removeData("moving"),b.unbind("click.miniColors"),b.unbind("focus.miniColors"),b.unbind("blur.miniColors"),b.unbind("keyup.miniColors"),b.unbind("keydown.miniColors"),b.unbind("paste.miniColors"),a(document).unbind("mousedown.miniColors"),a(document).unbind("mousemove.miniColors")},f=function(a){a.attr("disabled",!1),a.data("trigger").css("opacity",1)},g=function(a){j(a),a.attr("disabled",!0),a.data("trigger").css("opacity",.5)},i=function(b){if(b.attr("disabled"))return!1;j();var c=a('<div class="miniColors-selector"></div>');c.append('<div class="miniColors-colors" style="background-color: #FFF;"><div class="miniColors-colorPicker"></div></div>'),c.append('<div class="miniColors-hues"><div class="miniColors-huePicker"></div></div>'),c.css({top:b.is(":visible")?b.offset().top+b.outerHeight():b.data("trigger").offset().top+b.data("trigger").outerHeight(),left:b.is(":visible")?b.offset().left:b.data("trigger").offset().left,display:"none"}).addClass(b.attr("class"));var d=b.data("hsb");c.find(".miniColors-colors").css("backgroundColor","#"+w({h:d.h,s:100,b:100}));var e=b.data("colorPosition");e||(e=o(d)),c.find(".miniColors-colorPicker").css("top",e.y+"px").css("left",e.x+"px");var f=b.data("huePosition");f||(f=p(d)),c.find(".miniColors-huePicker").css("top",f.y+"px"),b.data("selector",c),b.data("huePicker",c.find(".miniColors-huePicker")),b.data("colorPicker",c.find(".miniColors-colorPicker")),b.data("mousebutton",0),b.addClass("active"),a("BODY").append(c),c.fadeIn(100),a(document).bind("mousedown.miniColors",function(c){b.data("mousebutton",1),a(c.target).parents().andSelf().hasClass("miniColors-colors")&&(c.preventDefault(),b.data("moving","colors"),k(b,c)),a(c.target).parents().andSelf().hasClass("miniColors-hues")&&(c.preventDefault(),b.data("moving","hues"),l(b,c)),a(c.target).parents().andSelf().hasClass("miniColors-selector")||a(c.target).parents().andSelf().hasClass("miniColors")||j(b)}),a(document).bind("mouseup.miniColors",function(){b.data("mousebutton",0),b.removeData("moving")}),a(document).bind("mousemove.miniColors",function(a){1===b.data("mousebutton")&&("colors"===b.data("moving")&&k(b,a),"hues"===b.data("moving")&&l(b,a))})},j=function(b){b||(b=".miniColors"),a(b).each(function(){var b=a(this).data("selector");a(this).removeData("selector"),a(this).removeClass("active"),a(b).fadeOut(100,function(){a(this).remove()})}),a(document).unbind("mousedown.miniColors"),a(document).unbind("mousemove.miniColors")},k=function(b,c){var d=b.data("colorPicker");d.hide();var e={x:c.clientX-b.data("selector").find(".miniColors-colors").offset().left+a(document).scrollLeft()-5,y:c.clientY-b.data("selector").find(".miniColors-colors").offset().top+a(document).scrollTop()-5};e.x<=-5&&(e.x=-5),e.x>=144&&(e.x=144),e.y<=-5&&(e.y=-5),e.y>=144&&(e.y=144),b.data("colorPosition",e),d.css("left",e.x).css("top",e.y).show();var f=Math.round(.67*(e.x+5));0>f&&(f=0),f>100&&(f=100);var g=100-Math.round(.67*(e.y+5));0>g&&(g=0),g>100&&(g=100);var h=b.data("hsb");h.s=f,h.b=g,m(b,h,!0)},l=function(b,c){var d=b.data("huePicker");d.hide();var e={y:c.clientY-b.data("selector").find(".miniColors-colors").offset().top+a(document).scrollTop()-1};e.y<=-1&&(e.y=-1),e.y>=149&&(e.y=149),b.data("huePosition",e),d.css("top",e.y).show();var f=Math.round(2.4*(150-e.y-1));0>f&&(f=0),f>360&&(f=360);var g=b.data("hsb");g.h=f,m(b,g,!0)},m=function(a,b,c){a.data("hsb",b);var d=w(b);c&&a.val("#"+d),a.data("trigger").css("backgroundColor","#"+d),a.data("selector")&&a.data("selector").find(".miniColors-colors").css("backgroundColor","#"+w({h:b.h,s:100,b:100})),a.data("change")&&a.data("change").call(a,"#"+d,r(b))},n=function(b){var c=q(b.val());if(!c)return!1;var d=v(c),e=b.data("hsb");if(d.h===e.h&&d.s===e.s&&d.b===e.b)return!0;var f=o(d),g=a(b.data("colorPicker"));g.css("top",f.y+"px").css("left",f.x+"px");var h=p(d),i=a(b.data("huePicker"));return i.css("top",h.y+"px"),m(b,d,!1),!0},o=function(a){var b=Math.ceil(a.s/.67);0>b&&(b=0),b>150&&(b=150);var c=150-Math.ceil(a.b/.67);return 0>c&&(c=0),c>150&&(c=150),{x:b-5,y:c-5}},p=function(a){var b=150-a.h/2.4;return 0>b&&(h=0),b>150&&(h=150),{y:b-1}},q=function(a){return a=a.replace(/[^A-Fa-f0-9]/,""),3==a.length&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]),6===a.length?a:null},r=function(a){var b={},c=Math.round(a.h),d=Math.round(255*a.s/100),e=Math.round(255*a.b/100);if(0==d)b.r=b.g=b.b=e;else{var f=e,g=(255-d)*e/255,h=(f-g)*(c%60)/60;360==c&&(c=0),60>c?(b.r=f,b.b=g,b.g=g+h):120>c?(b.g=f,b.b=g,b.r=f-h):180>c?(b.g=f,b.r=g,b.b=g+h):240>c?(b.b=f,b.r=g,b.g=f-h):300>c?(b.b=f,b.g=g,b.r=g+h):360>c?(b.r=f,b.g=g,b.b=f-h):(b.r=0,b.g=0,b.b=0)}return{r:Math.round(b.r),g:Math.round(b.g),b:Math.round(b.b)}},s=function(b){var c=[b.r.toString(16),b.g.toString(16),b.b.toString(16)];return a.each(c,function(a,b){1==b.length&&(c[a]="0"+b)}),c.join("")},t=function(a){var a=parseInt(a.indexOf("#")>-1?a.substring(1):a,16);return{r:a>>16,g:(65280&a)>>8,b:255&a}},u=function(a){var b={h:0,s:0,b:0},c=Math.min(a.r,a.g,a.b),d=Math.max(a.r,a.g,a.b),e=d-c;return b.b=d,b.s=0!=d?255*e/d:0,b.h=0!=b.s?a.r==d?(a.g-a.b)/e:a.g==d?2+(a.b-a.r)/e:4+(a.r-a.g)/e:-1,b.h*=60,b.h<0&&(b.h+=360),b.s*=100/255,b.b*=100/255,b},v=function(a){var b=u(t(a));return 0===b.s&&(b.h=360),b},w=function(a){return s(r(a))};switch(b){case"readonly":return a(this).each(function(){a(this).attr("readonly",c)}),a(this);case"disabled":return a(this).each(function(){c?g(a(this)):f(a(this))}),a(this);case"value":return a(this).each(function(){a(this).val(c).trigger("keyup")}),a(this);case"destroy":return a(this).each(function(){e(a(this))}),a(this);default:return b||(b={}),a(this).each(function(){"input"===a(this)[0].tagName.toLowerCase()&&(a(this).data("trigger")||d(a(this),b,c))}),a(this)}}})}(jQuery),/**
* hoverIntent is similar to jQuery's built-in "hover" function except that
* instead of firing the onMouseOver event immediately, hoverIntent checks
* to see if the user's mouse has slowed down (beneath the sensitivity
* threshold) before firing the onMouseOver event.
* 
* hoverIntent r6 // 2011.02.26 // jQuery 1.5.1+
* <http://cherne.net/brian/resources/jquery.hoverIntent.html>
* 
* hoverIntent is currently available for use in all personal or commercial 
* projects under both MIT and GPL licenses. This means that you can choose 
* the license that best suits your project, and use it accordingly.
* 
* // basic usage (just like .hover) receives onMouseOver and onMouseOut functions
* $("ul li").hoverIntent( showNav , hideNav );
* 
* // advanced usage receives configuration object only
* $("ul li").hoverIntent({
*	sensitivity: 7, // number = sensitivity threshold (must be 1 or higher)
*	interval: 100,   // number = milliseconds of polling interval
*	over: showNav,  // function = onMouseOver callback (required)
*	timeout: 0,   // number = milliseconds delay before onMouseOut function call
*	out: hideNav    // function = onMouseOut callback (required)
* });
* 
* @param  f  onMouseOver function || An object with configuration options
* @param  g  onMouseOut function  || Nothing (use configuration options object)
* @author    Brian Cherne brian(at)cherne(dot)net
*/
function(a){a.fn.hoverIntent=function(b,c){var d={sensitivity:7,interval:100,timeout:0};d=a.extend(d,c?{over:b,out:c}:b);var e,f,g,h,i=function(a){e=a.pageX,f=a.pageY},j=function(b,c){return c.hoverIntent_t=clearTimeout(c.hoverIntent_t),Math.abs(g-e)+Math.abs(h-f)<d.sensitivity?(a(c).unbind("mousemove",i),c.hoverIntent_s=1,d.over.apply(c,[b])):(g=e,h=f,c.hoverIntent_t=setTimeout(function(){j(b,c)},d.interval),void 0)},k=function(a,b){return b.hoverIntent_t=clearTimeout(b.hoverIntent_t),b.hoverIntent_s=0,d.out.apply(b,[a])},l=function(b){var c=jQuery.extend({},b),e=this;e.hoverIntent_t&&(e.hoverIntent_t=clearTimeout(e.hoverIntent_t)),"mouseenter"==b.type?(g=c.pageX,h=c.pageY,a(e).bind("mousemove",i),1!=e.hoverIntent_s&&(e.hoverIntent_t=setTimeout(function(){j(c,e)},d.interval))):(a(e).unbind("mousemove",i),1==e.hoverIntent_s&&(e.hoverIntent_t=setTimeout(function(){k(c,e)},d.timeout)))};return this.bind("mouseenter",l).bind("mouseleave",l)}}(jQuery),/*
 * A time picker for jQuery
 *
 * Dual licensed under the MIT and GPL licenses.
 * Copyright (c) 2009 Anders Fajerson
 * @name     timePicker
 * @author   Anders Fajerson (http://perifer.se)
 * @example  $("#mytime").timePicker();
 * @example  $("#mytime").timePicker({step:30, startTime:"15:00", endTime:"18:00"});
 *
 * Based on timePicker by Sam Collet (http://www.texotela.co.uk/code/jquery/timepicker/)
 *
 * Options:
 *   step: # of minutes to step the time by
 *   startTime: beginning of the range of acceptable times
 *   endTime: end of the range of acceptable times
 *   separator: separator string to use between hours and minutes (e.g. ':')
 *   show24Hours: use a 24-hour scheme
 */
function(a){function b(b,c,d){b.value=a(c).text(),a(b).change(),a.browser.msie||b.focus(),d.hide()}function c(a,b){var c=a.getHours(),e=b.show24Hours?c:(c+11)%12+1,f=a.getMinutes();return d(e)+b.separator+d(f)+(b.show24Hours?"":12>c?" AM":" PM")}function d(a){return(10>a?"0":"")+a}function e(a,b){return"object"==typeof a?g(a):f(a,b)}function f(a,b){if(a){var c=a.split(b.separator),d=parseFloat(c[0]),e=parseFloat(c[1]);b.show24Hours||(12===d&&-1!==a.indexOf("AM")?d=0:12!==d&&-1!==a.indexOf("PM")&&(d+=12));var f=new Date(0,0,0,d,e,0);return g(f)}return null}function g(a){return a.setFullYear(2001),a.setMonth(0),a.setDate(0),a}a.fn.timePicker=function(b){var c=a.extend({},a.fn.timePicker.defaults,b);return this.each(function(){a.timePicker(this,c)})},a.timePicker=function(b,c){var d=a(b)[0];return d.timePicker||(d.timePicker=new jQuery._timePicker(d,c))},a.timePicker.version="0.3",a._timePicker=function(d,h){var i=!1,j=!1,k=e(h.startTime,h),l=e(h.endTime,h),m="selected",n="li."+m;a(d).attr("autocomplete","OFF");for(var o=[],p=new Date(k);l>=p;)o[o.length]=c(p,h),p=new Date(p.setMinutes(p.getMinutes()+h.step));for(var q=a('<div class="time-picker'+(h.show24Hours?"":" time-picker-12hours")+'"></div>'),r=a("<ul></ul>"),s=0;s<o.length;s++)r.append("<li>"+o[s]+"</li>");q.append(r),q.appendTo("body").hide(),q.mouseover(function(){i=!0}).mouseout(function(){i=!1}),a("li",r).mouseover(function(){j||(a(n,q).removeClass(m),a(this).addClass(m))}).mousedown(function(){i=!0}).click(function(){b(d,this,q,h),i=!1});var t=function(){if(q.is(":visible"))return!1;a("li",q).removeClass(m);var b=a(d).offset();q.css({top:b.top+d.offsetHeight,left:b.left}),q.show();var e=d.value?f(d.value,h):k,i=60*k.getHours()+k.getMinutes(),j=60*e.getHours()+e.getMinutes()-i,n=Math.round(j/h.step),o=g(new Date(0,0,0,0,n*h.step+i,0));o=o>k&&l>=o?o:k;var p=a("li:contains("+c(o,h)+")",q);return p.length&&(p.addClass(m),q[0].scrollTop=p[0].offsetTop),!0};a(d).focus(t).click(t),a(d).blur(function(){i||q.hide()});var u=a.browser.opera||a.browser.mozilla?"keypress":"keydown";a(d)[u](function(c){var e;j=!0;var f=q[0].scrollTop;switch(c.keyCode){case 38:if(t())return!1;e=a(n,r);var g=e.prev().addClass(m)[0];return g?(e.removeClass(m),g.offsetTop<f&&(q[0].scrollTop=f-g.offsetHeight)):(e.removeClass(m),g=a("li:last",r).addClass(m)[0],q[0].scrollTop=g.offsetTop-g.offsetHeight),!1;case 40:if(t())return!1;e=a(n,r);var i=e.next().addClass(m)[0];return i?(e.removeClass(m),i.offsetTop+i.offsetHeight>f+q[0].offsetHeight&&(q[0].scrollTop=f+i.offsetHeight)):(e.removeClass(m),i=a("li:first",r).addClass(m)[0],q[0].scrollTop=0),!1;case 13:if(q.is(":visible")){var k=a(n,r)[0];b(d,k,q,h)}return!1;case 27:return q.hide(),!1}return!0}),a(d).keyup(function(){j=!1}),this.getTime=function(){return f(d.value,h)},this.setTime=function(b){d.value=c(e(b,h),h),a(d).change()}},a.fn.timePicker.defaults={step:30,startTime:new Date(0,0,0,0,0,0),endTime:new Date(0,0,0,23,30,0),separator:":",show24Hours:!0}}(jQuery),/*
* Slides, A Slideshow Plugin for jQuery
* Intructions: http://slidesjs.com
* By: Nathan Searles, http://nathansearles.com
* Version: 1.1.9
* Updated: September 5th, 2011
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function(a){a.fn.slides=function(b){return b=a.extend({},a.fn.slides.option,b),this.each(function(){function c(c,d,e){if(!g&&f){switch(g=!0,b.animationStart(x+1),c){case"next":v=x,u=x+1,u=o===u?0:u,i=2*p,c=2*-p,x=u;break;case"prev":v=x,u=x-1,u=-1===u?o-1:u,i=0,c=0,x=u;break;case"pagination":u=parseInt(e,10),v=a("."+b.paginationClass+" li."+b.currentClass+" a",m).attr("href").match("[^#/]+$"),u>v?(i=2*p,c=2*-p):(i=0,c=0),x=u}"fade"===d?b.crossfade?n.children(":eq("+u+")",m).css({zIndex:10}).fadeIn(b.fadeSpeed,b.fadeEasing,function(){b.autoHeight?n.animate({height:n.children(":eq("+u+")",m).outerHeight()},b.autoHeightSpeed,function(){n.children(":eq("+v+")",m).css({display:"none",zIndex:0}),n.children(":eq("+u+")",m).css({zIndex:0}),b.animationComplete(u+1),g=!1}):(n.children(":eq("+v+")",m).css({display:"none",zIndex:0}),n.children(":eq("+u+")",m).css({zIndex:0}),b.animationComplete(u+1),g=!1)}):n.children(":eq("+v+")",m).fadeOut(b.fadeSpeed,b.fadeEasing,function(){b.autoHeight?n.animate({height:n.children(":eq("+u+")",m).outerHeight()},b.autoHeightSpeed,function(){n.children(":eq("+u+")",m).fadeIn(b.fadeSpeed,b.fadeEasing)}):n.children(":eq("+u+")",m).fadeIn(b.fadeSpeed,b.fadeEasing,function(){a.browser.msie&&a(this).get(0).style.removeAttribute("filter")}),b.animationComplete(u+1),g=!1}):(n.children(":eq("+u+")").css({left:i,display:"block"}),b.autoHeight?n.animate({left:c,height:n.children(":eq("+u+")").outerHeight()},b.slideSpeed,b.slideEasing,function(){n.css({left:-p}),n.children(":eq("+u+")").css({left:p,zIndex:5}),n.children(":eq("+v+")").css({left:p,display:"none",zIndex:0}),b.animationComplete(u+1),g=!1}):n.animate({left:c},b.slideSpeed,b.slideEasing,function(){n.css({left:-p}),n.children(":eq("+u+")").css({left:p,zIndex:5}),n.children(":eq("+v+")").css({left:p,display:"none",zIndex:0}),b.animationComplete(u+1),g=!1})),b.pagination&&(a("."+b.paginationClass+" li."+b.currentClass,m).removeClass(b.currentClass),a("."+b.paginationClass+" li:eq("+u+")",m).addClass(b.currentClass))}}function d(){clearInterval(m.data("interval"))}function e(){b.pause?(clearTimeout(m.data("pause")),clearInterval(m.data("interval")),k=setTimeout(function(){clearTimeout(m.data("pause")),l=setInterval(function(){c("next",s)},b.play),m.data("interval",l)},b.pause),m.data("pause",k)):d()}a("."+b.container,a(this)).children().wrapAll('<div class="slides_control"/>');var f,g,h,i,j,k,l,m=a(this),n=a(".slides_control",m),o=n.children().size(),p=n.children().outerWidth(),q=n.children().outerHeight(),r=b.start-1,s=b.effect.indexOf(",")<0?b.effect:b.effect.replace(" ","").split(",")[0],t=b.effect.indexOf(",")<0?s:b.effect.replace(" ","").split(",")[1],u=0,v=0,w=0,x=0;if(2>o)return a("."+b.container,a(this)).fadeIn(b.fadeSpeed,b.fadeEasing,function(){f=!0,b.slidesLoaded()}),a("."+b.next+", ."+b.prev).fadeOut(0),!1;if(!(2>o)){if(0>r&&(r=0),r>o&&(r=o-1),b.start&&(x=r),b.randomize&&n.randomize(),a("."+b.container,m).css({overflow:"hidden",position:"relative"}),n.children().css({position:"absolute",top:0,left:n.children().outerWidth(),zIndex:0,display:"none"}),n.css({position:"relative",width:3*p,height:q,left:-p}),a("."+b.container,m).css({display:"block"}),b.autoHeight&&(n.children().css({height:"auto"}),n.animate({height:n.children(":eq("+r+")").outerHeight()},b.autoHeightSpeed)),b.preload&&n.find("img:eq("+r+")").length){a("."+b.container,m).css({background:"url("+b.preloadImage+") no-repeat 50% 50%"});var y=n.find("img:eq("+r+")").attr("src");j="slides_control"!=a("img",m).parent().attr("class")?n.children(":eq(0)")[0].tagName.toLowerCase():n.find("img:eq("+r+")"),n.find("img:eq("+r+")").attr("src",y).load(function(){n.find(j+":eq("+r+")").fadeIn(b.fadeSpeed,b.fadeEasing,function(){a(this).css({zIndex:5}),a("."+b.container,m).css({background:""}),f=!0,b.slidesLoaded()})})}else n.children(":eq("+r+")").fadeIn(b.fadeSpeed,b.fadeEasing,function(){f=!0,b.slidesLoaded()});b.bigTarget&&(n.children().css({cursor:"pointer"}),n.children().click(function(){return c("next",s),!1})),b.hoverPause&&b.play&&(n.bind("mouseover",function(){d()}),n.bind("mouseleave",function(){e()})),b.generateNextPrev&&(a("."+b.container,m).after('<a href="#" class="'+b.prev+'">Prev</a>'),a("."+b.prev,m).after('<a href="#" class="'+b.next+'">Next</a>')),a("."+b.next,m).click(function(a){a.preventDefault(),b.play&&e(),c("next",s)}),a("."+b.prev,m).click(function(a){a.preventDefault(),b.play&&e(),c("prev",s)}),b.generatePagination?(b.prependPagination?m.prepend("<ul class="+b.paginationClass+"></ul>"):m.append("<ul class="+b.paginationClass+"></ul>"),n.children().each(function(){a("."+b.paginationClass,m).append('<li><a href="#'+w+'">'+(w+1)+"</a></li>"),w++})):a("."+b.paginationClass+" li a",m).each(function(){a(this).attr("href","#"+w),w++}),a("."+b.paginationClass+" li:eq("+r+")",m).addClass(b.currentClass),a("."+b.paginationClass+" li a",m).click(function(){return b.play&&e(),h=a(this).attr("href").match("[^#/]+$"),x!=h&&c("pagination",t,h),!1}),a("a.link",m).click(function(){return b.play&&e(),h=a(this).attr("href").match("[^#/]+$")-1,x!=h&&c("pagination",t,h),!1}),b.play&&(l=setInterval(function(){c("next",s)},b.play),m.data("interval",l))}})},a.fn.slides.option={preload:!1,preloadImage:"/img/loading.gif",container:"slides_container",generateNextPrev:!1,next:"next",prev:"prev",pagination:!0,generatePagination:!0,prependPagination:!1,paginationClass:"pagination",currentClass:"current",fadeSpeed:350,fadeEasing:"",slideSpeed:350,slideEasing:"",start:1,effect:"slide",crossfade:!1,randomize:!1,play:0,pause:0,hoverPause:!1,autoHeight:!1,autoHeightSpeed:350,bigTarget:!1,animationStart:function(){},animationComplete:function(){},slidesLoaded:function(){}},a.fn.randomize=function(b){function c(){return Math.round(Math.random())-.5}return a(this).each(function(){var d=a(this),e=d.children(),f=e.length;if(f>1){e.hide();var g=[];for(i=0;f>i;i++)g[g.length]=i;g=g.sort(c),a.each(g,function(a,c){var f=e.eq(c),g=f.clone(!0);g.show().appendTo(d),void 0!==b&&b(f,g),f.remove()})}})}}(jQuery),/*!
 * jQuery UI 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
function(a,b){function c(b){return!a(b).parents().andSelf().filter(function(){return"hidden"===a.curCSS(this,"visibility")||a.expr.filters.hidden(this)}).length}function d(b,d){var e=b.nodeName.toLowerCase();if("area"===e){var f,g=b.parentNode,h=g.name;return b.href&&h&&"map"===g.nodeName.toLowerCase()?(f=a("img[usemap=#"+h+"]")[0],!!f&&c(f)):!1}return(/input|select|textarea|button|object/.test(e)?!b.disabled:"a"==e?b.href||d:d)&&c(b)}a.ui=a.ui||{},a.ui.version||(a.extend(a.ui,{version:"1.8.18",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),a.fn.extend({propAttr:a.fn.prop||a.fn.attr,_focus:a.fn.focus,focus:function(b,c){return"number"==typeof b?this.each(function(){var d=this;setTimeout(function(){a(d).focus(),c&&c.call(d)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;return b=a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length)for(var d,e,f=a(this[0]);f.length&&f[0]!==document;){if(d=f.css("position"),("absolute"===d||"relative"===d||"fixed"===d)&&(e=parseInt(f.css("zIndex"),10),!isNaN(e)&&0!==e))return e;f=f.parent()}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.each(["Width","Height"],function(c,d){function e(b,c,d,e){return a.each(f,function(){c-=parseFloat(a.curCSS(b,"padding"+this,!0))||0,d&&(c-=parseFloat(a.curCSS(b,"border"+this+"Width",!0))||0),e&&(c-=parseFloat(a.curCSS(b,"margin"+this,!0))||0)}),c}var f="Width"===d?["Left","Right"]:["Top","Bottom"],g=d.toLowerCase(),h={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?h["inner"+d].call(this):this.each(function(){a(this).css(g,e(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return"number"!=typeof b?h["outer"+d].call(this,b):this.each(function(){a(this).css(g,e(this,b,!0,c)+"px")})}}),a.extend(a.expr[":"],{data:function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return d(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var c=a.attr(b,"tabindex"),e=isNaN(c);return(e||c>=0)&&d(b,!e)}}),a(function(){var b=document.body,c=b.appendChild(c=document.createElement("div"));c.offsetHeight,a.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),a.support.minHeight=100===c.offsetHeight,a.support.selectstart="onselectstart"in c,b.removeChild(c).style.display="none"}),a.extend(a.ui,{plugin:{add:function(b,c,d){var e=a.ui[b].prototype;for(var f in d)e.plugins[f]=e.plugins[f]||[],e.plugins[f].push([c,d[f]])},call:function(a,b,c){var d=a.plugins[b];if(d&&a.element[0].parentNode)for(var e=0;e<d.length;e++)a.options[d[e][0]]&&d[e][1].apply(a.element,c)}},contains:function(a,b){return document.compareDocumentPosition?16&a.compareDocumentPosition(b):a!==b&&a.contains(b)},hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;var d=c&&"left"===c?"scrollLeft":"scrollTop",e=!1;return b[d]>0?!0:(b[d]=1,e=b[d]>0,b[d]=0,e)},isOverAxis:function(a,b,c){return a>b&&b+c>a},isOver:function(b,c,d,e,f,g){return a.ui.isOverAxis(b,d,f)&&a.ui.isOverAxis(c,e,g)}}))}(jQuery),/*!
 * jQuery UI Widget 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
function(a,b){if(a.cleanData){var c=a.cleanData;a.cleanData=function(b){for(var d,e=0;null!=(d=b[e]);e++)try{a(d).triggerHandler("remove")}catch(f){}c(b)}}else{var d=a.fn.remove;a.fn.remove=function(b,c){return this.each(function(){return c||(!b||a.filter(b,[this]).length)&&a("*",this).add([this]).each(function(){try{a(this).triggerHandler("remove")}catch(b){}}),d.call(a(this),b,c)})}}a.widget=function(b,c,d){var e,f=b.split(".")[0];b=b.split(".")[1],e=f+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e]=function(c){return!!a.data(c,b)},a[f]=a[f]||{},a[f][b]=function(a,b){arguments.length&&this._createWidget(a,b)};var g=new c;g.options=a.extend(!0,{},g.options),a[f][b].prototype=a.extend(!0,g,{namespace:f,widgetName:b,widgetEventPrefix:a[f][b].prototype.widgetEventPrefix||b,widgetBaseClass:e},d),a.widget.bridge(b,a[f][b])},a.widget.bridge=function(c,d){a.fn[c]=function(e){var f="string"==typeof e,g=Array.prototype.slice.call(arguments,1),h=this;return e=!f&&g.length?a.extend.apply(null,[!0,e].concat(g)):e,f&&"_"===e.charAt(0)?h:(f?this.each(function(){var d=a.data(this,c),f=d&&a.isFunction(d[e])?d[e].apply(d,g):d;return f!==d&&f!==b?(h=f,!1):void 0}):this.each(function(){var b=a.data(this,c);b?b.option(e||{})._init():a.data(this,c,new d(e,this))}),h)}},a.Widget=function(a,b){arguments.length&&this._createWidget(a,b)},a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(b,c){a.data(c,this.widgetName,this),this.element=a(c),this.options=a.extend(!0,{},this.options,this._getCreateOptions(),b);var d=this;this.element.bind("remove."+this.widgetName,function(){d.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(c,d){var e=c;if(0===arguments.length)return a.extend({},this.options);if("string"==typeof c){if(d===b)return this.options[c];e={},e[c]=d}return this._setOptions(e),this},_setOptions:function(b){var c=this;return a.each(b,function(a,b){c._setOption(a,b)}),this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&this.widget()[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",b),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent,f)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.call(this.element[0],c,d)===!1||c.isDefaultPrevented())}}}(jQuery),/*!
 * jQuery UI Mouse 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */
function(a){var b=!1;a(document).mouseup(function(){b=!1}),a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){return!0===a.data(c.target,b.widgetName+".preventClickEvent")?(a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(c){if(!b){this._mouseStarted&&this._mouseUp(c),this._mouseDownEvent=c;var d=this,e=1==c.which,f="string"==typeof this.options.cancel&&c.target.nodeName?a(c.target).closest(this.options.cancel).length:!1;return e&&!f&&this._mouseCapture(c)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=this._mouseStart(c)!==!1,!this._mouseStarted)?(c.preventDefault(),!0):(!0===a.data(c.target,this.widgetName+".preventClickEvent")&&a.removeData(c.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return d._mouseMove(a)},this._mouseUpDelegate=function(a){return d._mouseUp(a)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),c.preventDefault(),b=!0,!0)):!0}},_mouseMove:function(b){return!a.browser.msie||document.documentMode>=9||b.button?this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted):this._mouseUp(b)},_mouseUp:function(b){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target==this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),/*
 * jQuery UI Position 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Position
 */
function(a){a.ui=a.ui||{};var b=/left|center|right/,c=/top|center|bottom/,d="center",e={},f=a.fn.position,g=a.fn.offset;a.fn.position=function(g){if(!g||!g.of)return f.apply(this,arguments);g=a.extend({},g);var h,i,j,k=a(g.of),l=k[0],m=(g.collision||"flip").split(" "),n=g.offset?g.offset.split(" "):[0,0];return 9===l.nodeType?(h=k.width(),i=k.height(),j={top:0,left:0}):l.setTimeout?(h=k.width(),i=k.height(),j={top:k.scrollTop(),left:k.scrollLeft()}):l.preventDefault?(g.at="left top",h=i=0,j={top:g.of.pageY,left:g.of.pageX}):(h=k.outerWidth(),i=k.outerHeight(),j=k.offset()),a.each(["my","at"],function(){var a=(g[this]||"").split(" ");1===a.length&&(a=b.test(a[0])?a.concat([d]):c.test(a[0])?[d].concat(a):[d,d]),a[0]=b.test(a[0])?a[0]:d,a[1]=c.test(a[1])?a[1]:d,g[this]=a}),1===m.length&&(m[1]=m[0]),n[0]=parseInt(n[0],10)||0,1===n.length&&(n[1]=n[0]),n[1]=parseInt(n[1],10)||0,"right"===g.at[0]?j.left+=h:g.at[0]===d&&(j.left+=h/2),"bottom"===g.at[1]?j.top+=i:g.at[1]===d&&(j.top+=i/2),j.left+=n[0],j.top+=n[1],this.each(function(){var b,c=a(this),f=c.outerWidth(),k=c.outerHeight(),l=parseInt(a.curCSS(this,"marginLeft",!0))||0,o=parseInt(a.curCSS(this,"marginTop",!0))||0,p=f+l+(parseInt(a.curCSS(this,"marginRight",!0))||0),q=k+o+(parseInt(a.curCSS(this,"marginBottom",!0))||0),r=a.extend({},j);"right"===g.my[0]?r.left-=f:g.my[0]===d&&(r.left-=f/2),"bottom"===g.my[1]?r.top-=k:g.my[1]===d&&(r.top-=k/2),e.fractions||(r.left=Math.round(r.left),r.top=Math.round(r.top)),b={left:r.left-l,top:r.top-o},a.each(["left","top"],function(c,d){a.ui.position[m[c]]&&a.ui.position[m[c]][d](r,{targetWidth:h,targetHeight:i,elemWidth:f,elemHeight:k,collisionPosition:b,collisionWidth:p,collisionHeight:q,offset:n,my:g.my,at:g.at})}),a.fn.bgiframe&&c.bgiframe(),c.offset(a.extend(r,{using:g.using}))})},a.ui.position={fit:{left:function(b,c){var d=a(window),e=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft();b.left=e>0?b.left-e:Math.max(b.left-c.collisionPosition.left,b.left)},top:function(b,c){var d=a(window),e=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop();b.top=e>0?b.top-e:Math.max(b.top-c.collisionPosition.top,b.top)}},flip:{left:function(b,c){if(c.at[0]!==d){var e=a(window),f=c.collisionPosition.left+c.collisionWidth-e.width()-e.scrollLeft(),g="left"===c.my[0]?-c.elemWidth:"right"===c.my[0]?c.elemWidth:0,h="left"===c.at[0]?c.targetWidth:-c.targetWidth,i=-2*c.offset[0];b.left+=c.collisionPosition.left<0?g+h+i:f>0?g+h+i:0}},top:function(b,c){if(c.at[1]!==d){var e=a(window),f=c.collisionPosition.top+c.collisionHeight-e.height()-e.scrollTop(),g="top"===c.my[1]?-c.elemHeight:"bottom"===c.my[1]?c.elemHeight:0,h="top"===c.at[1]?c.targetHeight:-c.targetHeight,i=-2*c.offset[1];b.top+=c.collisionPosition.top<0?g+h+i:f>0?g+h+i:0}}}},a.offset.setOffset||(a.offset.setOffset=function(b,c){/static/.test(a.curCSS(b,"position"))&&(b.style.position="relative");var d=a(b),e=d.offset(),f=parseInt(a.curCSS(b,"top",!0),10)||0,g=parseInt(a.curCSS(b,"left",!0),10)||0,h={top:c.top-e.top+f,left:c.left-e.left+g};"using"in c?c.using.call(b,h):d.css(h)},a.fn.offset=function(b){var c=this[0];return c&&c.ownerDocument?b?this.each(function(){a.offset.setOffset(this,b)}):g.call(this):null}),function(){var b,c,d,f,g,h=document.getElementsByTagName("body")[0],i=document.createElement("div");b=document.createElement(h?"div":"body"),d={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},h&&a.extend(d,{position:"absolute",left:"-1000px",top:"-1000px"});for(var j in d)b.style[j]=d[j];b.appendChild(i),c=h||document.documentElement,c.insertBefore(b,c.firstChild),i.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;",f=a(i).offset(function(a,b){return b}).offset(),b.innerHTML="",c.removeChild(b),g=f.top+f.left+(h?2e3:0),e.fractions=g>21&&22>g}()}(jQuery),/*
 * jQuery UI Draggable 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Draggables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(a){a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"==this.options.helper&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){return this.element.data("draggable")?(this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this):void 0},_mouseCapture:function(b){var c=this.options;return this.helper||c.disabled||a(b.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(b),this.handle?(c.iframeFix&&a(c.iframeFix===!0?"iframe":c.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(a(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(b){var c=this.options;return this.helper=this._createHelper(b),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),c.containment&&this._setContainment(),this._trigger("start",b)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.helper.addClass("ui-draggable-dragging"),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b),!0)},_mouseDrag:function(b,c){if(this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),!c){var d=this._uiHash();if(this._trigger("drag",b,d)===!1)return this._mouseUp({}),!1;this.position=d.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var c=!1;if(a.ui.ddmanager&&!this.options.dropBehaviour&&(c=a.ui.ddmanager.drop(this,b)),this.dropped&&(c=this.dropped,this.dropped=!1),!(this.element[0]&&this.element[0].parentNode||"original"!=this.options.helper))return!1;if("invalid"==this.options.revert&&!c||"valid"==this.options.revert&&c||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)){var d=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){d._trigger("stop",b)!==!1&&d._clear()})}else this._trigger("stop",b)!==!1&&this._clear();return!1},_mouseUp:function(b){return this.options.iframeFix===!0&&a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){var c=this.options.handle&&a(this.options.handle,this.element).length?!1:!0;return a(this.options.handle,this.element).find("*").andSelf().each(function(){this==b.target&&(c=!0)}),c},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b])):"clone"==c.helper?this.element.clone().removeAttr("id"):this.element;return d.parents("body").length||d.appendTo("parent"==c.appendTo?this.element[0].parentNode:c.appendTo),d[0]!=this.element[0]&&!/(fixed|absolute)/.test(d.css("position"))&&d.css("position","absolute"),d},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&a.browser.msie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;if("parent"==b.containment&&(b.containment=this.helper[0].parentNode),("document"==b.containment||"window"==b.containment)&&(this.containment=["document"==b.containment?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==b.containment?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==b.containment?0:a(window).scrollLeft())+a("document"==b.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==b.containment?0:a(window).scrollTop())+(a("document"==b.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(b.containment)||b.containment.constructor==Array)b.containment.constructor==Array&&(this.containment=b.containment);else{var c=a(b.containment),d=c[0];if(!d)return;var e=(c.offset(),"hidden"!=a(d).css("overflow"));this.containment=[(parseInt(a(d).css("borderLeftWidth"),10)||0)+(parseInt(a(d).css("paddingLeft"),10)||0),(parseInt(a(d).css("borderTopWidth"),10)||0)+(parseInt(a(d).css("paddingTop"),10)||0),(e?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css("borderLeftWidth"),10)||0)-(parseInt(a(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css("borderTopWidth"),10)||0)-(parseInt(a(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=c}},_convertPositionTo:function(b,c){c||(c=this.position);var d="absolute"==b?1:-1,e=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),f=/(html|body)/i.test(e[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-(a.browser.safari&&a.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():f?0:e.scrollTop())*d),left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-(a.browser.safari&&a.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())*d)}},_generatePosition:function(b){var c=this.options,d="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,e=/(html|body)/i.test(d[0].tagName),f=b.pageX,g=b.pageY;if(this.originalPosition){var h;if(this.containment){if(this.relative_container){var i=this.relative_container.offset();h=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]}else h=this.containment;b.pageX-this.offset.click.left<h[0]&&(f=h[0]+this.offset.click.left),b.pageY-this.offset.click.top<h[1]&&(g=h[1]+this.offset.click.top),b.pageX-this.offset.click.left>h[2]&&(f=h[2]+this.offset.click.left),b.pageY-this.offset.click.top>h[3]&&(g=h[3]+this.offset.click.top)}if(c.grid){var j=c.grid[1]?this.originalPageY+Math.round((g-this.originalPageY)/c.grid[1])*c.grid[1]:this.originalPageY;g=h?j-this.offset.click.top<h[1]||j-this.offset.click.top>h[3]?j-this.offset.click.top<h[1]?j+c.grid[1]:j-c.grid[1]:j:j;var k=c.grid[0]?this.originalPageX+Math.round((f-this.originalPageX)/c.grid[0])*c.grid[0]:this.originalPageX;f=h?k-this.offset.click.left<h[0]||k-this.offset.click.left>h[2]?k-this.offset.click.left<h[0]?k+c.grid[0]:k-c.grid[0]:k:k}}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&a.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():e?0:d.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&a.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(b,c,d){return d=d||this._uiHash(),a.ui.plugin.call(this,b,[c,d]),"drag"==b&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.extend(a.ui.draggable,{version:"1.8.18"}),a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c){var d=a(this).data("draggable"),e=d.options,f=a.extend({},c,{item:d.element});d.sortables=[],a(e.connectToSortable).each(function(){var c=a.data(this,"sortable");c&&!c.options.disabled&&(d.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",b,f))})},stop:function(b,c){var d=a(this).data("draggable"),e=a.extend({},c,{item:d.element});a.each(d.sortables,function(){this.instance.isOver?(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,"original"==d.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",b,e))})},drag:function(b,c){var d=a(this).data("draggable"),e=this;a.each(d.sortables,function(){this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(e).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger("toSortable",b),d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d._trigger("fromSortable",b),d.dropped=!1)})}}),a.ui.plugin.add("draggable","cursor",{start:function(){var b=a("body"),c=a(this).data("draggable").options;b.css("cursor")&&(c._cursor=b.css("cursor")),b.css("cursor",c.cursor)},stop:function(){var b=a(this).data("draggable").options;b._cursor&&a("body").css("cursor",b._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(b,c){var d=a(c.helper),e=a(this).data("draggable").options;d.css("opacity")&&(e._opacity=d.css("opacity")),d.css("opacity",e.opacity)},stop:function(b,c){var d=a(this).data("draggable").options;d._opacity&&a(c.helper).css("opacity",d._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("draggable");b.scrollParent[0]!=document&&"HTML"!=b.scrollParent[0].tagName&&(b.overflowOffset=b.scrollParent.offset())},drag:function(b){var c=a(this).data("draggable"),d=c.options,e=!1;c.scrollParent[0]!=document&&"HTML"!=c.scrollParent[0].tagName?(d.axis&&"x"==d.axis||(c.overflowOffset.top+c.scrollParent[0].offsetHeight-b.pageY<d.scrollSensitivity?c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop+d.scrollSpeed:b.pageY-c.overflowOffset.top<d.scrollSensitivity&&(c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop-d.scrollSpeed)),d.axis&&"y"==d.axis||(c.overflowOffset.left+c.scrollParent[0].offsetWidth-b.pageX<d.scrollSensitivity?c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft+d.scrollSpeed:b.pageX-c.overflowOffset.left<d.scrollSensitivity&&(c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft-d.scrollSpeed))):(d.axis&&"x"==d.axis||(b.pageY-a(document).scrollTop()<d.scrollSensitivity?e=a(document).scrollTop(a(document).scrollTop()-d.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<d.scrollSensitivity&&(e=a(document).scrollTop(a(document).scrollTop()+d.scrollSpeed))),d.axis&&"y"==d.axis||(b.pageX-a(document).scrollLeft()<d.scrollSensitivity?e=a(document).scrollLeft(a(document).scrollLeft()-d.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<d.scrollSensitivity&&(e=a(document).scrollLeft(a(document).scrollLeft()+d.scrollSpeed)))),e!==!1&&a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(c,b)}}),a.ui.plugin.add("draggable","snap",{start:function(){var b=a(this).data("draggable"),c=b.options;b.snapElements=[],a(c.snap.constructor!=String?c.snap.items||":data(draggable)":c.snap).each(function(){var c=a(this),d=c.offset();this!=b.element[0]&&b.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:d.top,left:d.left})})},drag:function(b,c){for(var d=a(this).data("draggable"),e=d.options,f=e.snapTolerance,g=c.offset.left,h=g+d.helperProportions.width,i=c.offset.top,j=i+d.helperProportions.height,k=d.snapElements.length-1;k>=0;k--){var l=d.snapElements[k].left,m=l+d.snapElements[k].width,n=d.snapElements[k].top,o=n+d.snapElements[k].height;if(g>l-f&&m+f>g&&i>n-f&&o+f>i||g>l-f&&m+f>g&&j>n-f&&o+f>j||h>l-f&&m+f>h&&i>n-f&&o+f>i||h>l-f&&m+f>h&&j>n-f&&o+f>j){if("inner"!=e.snapMode){var p=Math.abs(n-j)<=f,q=Math.abs(o-i)<=f,r=Math.abs(l-h)<=f,s=Math.abs(m-g)<=f;p&&(c.position.top=d._convertPositionTo("relative",{top:n-d.helperProportions.height,left:0}).top-d.margins.top),q&&(c.position.top=d._convertPositionTo("relative",{top:o,left:0}).top-d.margins.top),r&&(c.position.left=d._convertPositionTo("relative",{top:0,left:l-d.helperProportions.width}).left-d.margins.left),s&&(c.position.left=d._convertPositionTo("relative",{top:0,left:m}).left-d.margins.left)}var t=p||q||r||s;if("outer"!=e.snapMode){var p=Math.abs(n-i)<=f,q=Math.abs(o-j)<=f,r=Math.abs(l-g)<=f,s=Math.abs(m-h)<=f;p&&(c.position.top=d._convertPositionTo("relative",{top:n,left:0}).top-d.margins.top),q&&(c.position.top=d._convertPositionTo("relative",{top:o-d.helperProportions.height,left:0}).top-d.margins.top),r&&(c.position.left=d._convertPositionTo("relative",{top:0,left:l}).left-d.margins.left),s&&(c.position.left=d._convertPositionTo("relative",{top:0,left:m-d.helperProportions.width}).left-d.margins.left)}!d.snapElements[k].snapping&&(p||q||r||s||t)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[k].item})),d.snapElements[k].snapping=p||q||r||s||t}else d.snapElements[k].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[k].item})),d.snapElements[k].snapping=!1}}}),a.ui.plugin.add("draggable","stack",{start:function(){var b=a(this).data("draggable").options,c=a.makeArray(a(b.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});if(c.length){var d=parseInt(c[0].style.zIndex)||0;a(c).each(function(a){this.style.zIndex=d+a}),this[0].style.zIndex=d+c.length}}}),a.ui.plugin.add("draggable","zIndex",{start:function(b,c){var d=a(c.helper),e=a(this).data("draggable").options;d.css("zIndex")&&(e._zIndex=d.css("zIndex")),d.css("zIndex",e.zIndex)},stop:function(b,c){var d=a(this).data("draggable").options;d._zIndex&&a(c.helper).css("zIndex",d._zIndex)}})}(jQuery),/*
 * jQuery UI Droppable 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Droppables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.mouse.js
 *	jquery.ui.draggable.js
 */
function(a){a.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var b=this.options,c=b.accept;this.isover=0,this.isout=1,this.accept=a.isFunction(c)?c:function(a){return a.is(c)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},a.ui.ddmanager.droppables[b.scope]=a.ui.ddmanager.droppables[b.scope]||[],a.ui.ddmanager.droppables[b.scope].push(this),b.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var b=a.ui.ddmanager.droppables[this.options.scope],c=0;c<b.length;c++)b[c]==this&&b.splice(c,1);return this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable"),this},_setOption:function(b,c){"accept"==b&&(this.accept=a.isFunction(c)?c:function(a){return a.is(c)}),a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),c&&this._trigger("activate",b,this.ui(c))},_deactivate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),c&&this._trigger("deactivate",b,this.ui(c))},_over:function(b){var c=a.ui.ddmanager.current;!!c&&(c.currentItem||c.element)[0]!=this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",b,this.ui(c)))},_out:function(b){var c=a.ui.ddmanager.current;!!c&&(c.currentItem||c.element)[0]!=this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",b,this.ui(c)))},_drop:function(b,c){var d=c||a.ui.ddmanager.current;if(!d||(d.currentItem||d.element)[0]==this.element[0])return!1;var e=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var b=a.data(this,"droppable");return b.options.greedy&&!b.options.disabled&&b.options.scope==d.options.scope&&b.accept.call(b.element[0],d.currentItem||d.element)&&a.ui.intersect(d,a.extend(b,{offset:b.element.offset()}),b.options.tolerance)?(e=!0,!1):void 0}),e?!1:this.accept.call(this.element[0],d.currentItem||d.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",b,this.ui(d)),this.element):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),a.extend(a.ui.droppable,{version:"1.8.18"}),a.ui.intersect=function(b,c,d){if(!c.offset)return!1;var e=(b.positionAbs||b.position.absolute).left,f=e+b.helperProportions.width,g=(b.positionAbs||b.position.absolute).top,h=g+b.helperProportions.height,i=c.offset.left,j=i+c.proportions.width,k=c.offset.top,l=k+c.proportions.height;switch(d){case"fit":return e>=i&&j>=f&&g>=k&&l>=h;case"intersect":return i<e+b.helperProportions.width/2&&f-b.helperProportions.width/2<j&&k<g+b.helperProportions.height/2&&h-b.helperProportions.height/2<l;case"pointer":var m=(b.positionAbs||b.position.absolute).left+(b.clickOffset||b.offset.click).left,n=(b.positionAbs||b.position.absolute).top+(b.clickOffset||b.offset.click).top,o=a.ui.isOver(n,m,k,i,c.proportions.height,c.proportions.width);return o;case"touch":return(g>=k&&l>=g||h>=k&&l>=h||k>g&&h>l)&&(e>=i&&j>=e||f>=i&&j>=f||i>e&&f>j);default:return!1}},a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(b,c){var d=a.ui.ddmanager.droppables[b.options.scope]||[],e=c?c.type:null,f=(b.currentItem||b.element).find(":data(droppable)").andSelf();a:for(var g=0;g<d.length;g++)if(!(d[g].options.disabled||b&&!d[g].accept.call(d[g].element[0],b.currentItem||b.element))){for(var h=0;h<f.length;h++)if(f[h]==d[g].element[0]){d[g].proportions.height=0;continue a}d[g].visible="none"!=d[g].element.css("display"),d[g].visible&&("mousedown"==e&&d[g]._activate.call(d[g],c),d[g].offset=d[g].element.offset(),d[g].proportions={width:d[g].element[0].offsetWidth,height:d[g].element[0].offsetHeight})}},drop:function(b,c){var d=!1;return a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){!this.options||(!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance)&&(d=this._drop.call(this,c)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,c)))}),d},dragStart:function(b,c){b.element.parents(":not(body,html)").bind("scroll.droppable",function(){b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)})},drag:function(b,c){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,c),a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var d=a.ui.intersect(b,this,this.options.tolerance),e=d||1!=this.isover?d&&0==this.isover?"isover":null:"isout";if(!e)return;var f;if(this.options.greedy){var g=this.element.parents(":data(droppable):eq(0)");g.length&&(f=a.data(g[0],"droppable"),f.greedyChild="isover"==e?1:0)}f&&"isover"==e&&(f.isover=0,f.isout=1,f._out.call(f,c)),this[e]=1,this["isout"==e?"isover":"isout"]=0,this["isover"==e?"_over":"_out"].call(this,c),f&&"isout"==e&&(f.isout=0,f.isover=1,f._over.call(f,c))}})},dragStop:function(b,c){b.element.parents(":not(body,html)").unbind("scroll.droppable"),b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)}}}(jQuery),/*
 * jQuery UI Resizable 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Resizables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(a){a.widget("ui.resizable",a.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var b=this,c=this.options;if(this.element.addClass("ui-resizable"),a.extend(this,{_aspectRatio:!!c.aspectRatio,aspectRatio:c.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:c.helper||c.ghost||c.animate?c.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(a('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=c.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var d=this.handles.split(",");this.handles={};for(var e=0;e<d.length;e++){var f=a.trim(d[e]),g="ui-resizable-"+f,h=a('<div class="ui-resizable-handle '+g+'"></div>');/sw|se|ne|nw/.test(f)&&h.css({zIndex:++c.zIndex}),"se"==f&&h.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[f]=".ui-resizable-"+f,this.element.append(h)}}this._renderAxis=function(b){b=b||this.element;for(var c in this.handles){if(this.handles[c].constructor==String&&(this.handles[c]=a(this.handles[c],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var d=a(this.handles[c],this.element),e=0;e=/sw|ne|nw|se|n|s/.test(c)?d.outerHeight():d.outerWidth();var f=["padding",/ne|nw|n/.test(c)?"Top":/se|sw|s/.test(c)?"Bottom":/^e$/.test(c)?"Right":"Left"].join("");b.css(f,e),this._proportionallyResize()}a(this.handles[c]).length}},this._renderAxis(this.element),this._handles=a(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!b.resizing){if(this.className)var a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);b.axis=a&&a[1]?a[1]:"se"}}),c.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").hover(function(){c.disabled||(a(this).removeClass("ui-resizable-autohide"),b._handles.show())},function(){c.disabled||b.resizing||(a(this).addClass("ui-resizable-autohide"),b._handles.hide())})),this._mouseInit()},destroy:function(){this._mouseDestroy();var b=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){b(this.element);var c=this.element;c.after(this.originalElement.css({position:c.css("position"),width:c.outerWidth(),height:c.outerHeight(),top:c.css("top"),left:c.css("left")})).remove()}return this.originalElement.css("resize",this.originalResizeStyle),b(this.originalElement),this},_mouseCapture:function(b){var c=!1;for(var d in this.handles)a(this.handles[d])[0]==b.target&&(c=!0);return!this.options.disabled&&c},_mouseStart:function(c){var d=this.options,e=this.element.position(),f=this.element;this.resizing=!0,this.documentScroll={top:a(document).scrollTop(),left:a(document).scrollLeft()},(f.is(".ui-draggable")||/absolute/.test(f.css("position")))&&f.css({position:"absolute",top:e.top,left:e.left}),this._renderProxy();var g=b(this.helper.css("left")),h=b(this.helper.css("top"));d.containment&&(g+=a(d.containment).scrollLeft()||0,h+=a(d.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:g,top:h},this.size=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()},this.originalSize=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()},this.originalPosition={left:g,top:h},this.sizeDiff={width:f.outerWidth()-f.width(),height:f.outerHeight()-f.height()},this.originalMousePosition={left:c.pageX,top:c.pageY},this.aspectRatio="number"==typeof d.aspectRatio?d.aspectRatio:this.originalSize.width/this.originalSize.height||1;var i=a(".ui-resizable-"+this.axis).css("cursor");return a("body").css("cursor","auto"==i?this.axis+"-resize":i),f.addClass("ui-resizable-resizing"),this._propagate("start",c),!0},_mouseDrag:function(b){var c=this.helper,d=(this.options,this.originalMousePosition),e=this.axis,f=b.pageX-d.left||0,g=b.pageY-d.top||0,h=this._change[e];if(!h)return!1;{var i=h.apply(this,[b,f,g]);a.browser.msie&&a.browser.version<7,this.sizeDiff}return this._updateVirtualBoundaries(b.shiftKey),(this._aspectRatio||b.shiftKey)&&(i=this._updateRatio(i,b)),i=this._respectSize(i,b),this._propagate("resize",b),c.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(i),this._trigger("resize",b,this.ui()),!1},_mouseStop:function(b){this.resizing=!1;var c=this.options,d=this;if(this._helper){var e=this._proportionallyResizeElements,f=e.length&&/textarea/i.test(e[0].nodeName),g=f&&a.ui.hasScroll(e[0],"left")?0:d.sizeDiff.height,h=f?0:d.sizeDiff.width,i={width:d.helper.width()-h,height:d.helper.height()-g},j=parseInt(d.element.css("left"),10)+(d.position.left-d.originalPosition.left)||null,k=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null;c.animate||this.element.css(a.extend(i,{top:k,left:j})),d.helper.height(d.size.height),d.helper.width(d.size.width),this._helper&&!c.animate&&this._proportionallyResize()}return a("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",b),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(a){var b,d,e,f,g,h=this.options;g={minWidth:c(h.minWidth)?h.minWidth:0,maxWidth:c(h.maxWidth)?h.maxWidth:1/0,minHeight:c(h.minHeight)?h.minHeight:0,maxHeight:c(h.maxHeight)?h.maxHeight:1/0},(this._aspectRatio||a)&&(b=g.minHeight*this.aspectRatio,e=g.minWidth/this.aspectRatio,d=g.maxHeight*this.aspectRatio,f=g.maxWidth/this.aspectRatio,b>g.minWidth&&(g.minWidth=b),e>g.minHeight&&(g.minHeight=e),d<g.maxWidth&&(g.maxWidth=d),f<g.maxHeight&&(g.maxHeight=f)),this._vBoundaries=g},_updateCache:function(a){this.options;this.offset=this.helper.offset(),c(a.left)&&(this.position.left=a.left),c(a.top)&&(this.position.top=a.top),c(a.height)&&(this.size.height=a.height),c(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var b=(this.options,this.position),d=this.size,e=this.axis;return c(a.height)?a.width=a.height*this.aspectRatio:c(a.width)&&(a.height=a.width/this.aspectRatio),"sw"==e&&(a.left=b.left+(d.width-a.width),a.top=null),"nw"==e&&(a.top=b.top+(d.height-a.height),a.left=b.left+(d.width-a.width)),a},_respectSize:function(a,b){var d=(this.helper,this._vBoundaries),e=(this._aspectRatio||b.shiftKey,this.axis),f=c(a.width)&&d.maxWidth&&d.maxWidth<a.width,g=c(a.height)&&d.maxHeight&&d.maxHeight<a.height,h=c(a.width)&&d.minWidth&&d.minWidth>a.width,i=c(a.height)&&d.minHeight&&d.minHeight>a.height;h&&(a.width=d.minWidth),i&&(a.height=d.minHeight),f&&(a.width=d.maxWidth),g&&(a.height=d.maxHeight);var j=this.originalPosition.left+this.originalSize.width,k=this.position.top+this.size.height,l=/sw|nw|w/.test(e),m=/nw|ne|n/.test(e);h&&l&&(a.left=j-d.minWidth),f&&l&&(a.left=j-d.maxWidth),i&&m&&(a.top=k-d.minHeight),g&&m&&(a.top=k-d.maxHeight);var n=!a.width&&!a.height;return n&&!a.left&&a.top?a.top=null:n&&!a.top&&a.left&&(a.left=null),a},_proportionallyResize:function(){this.options;if(this._proportionallyResizeElements.length)for(var b=this.helper||this.element,c=0;c<this._proportionallyResizeElements.length;c++){var d=this._proportionallyResizeElements[c];if(!this.borderDif){var e=[d.css("borderTopWidth"),d.css("borderRightWidth"),d.css("borderBottomWidth"),d.css("borderLeftWidth")],f=[d.css("paddingTop"),d.css("paddingRight"),d.css("paddingBottom"),d.css("paddingLeft")];this.borderDif=a.map(e,function(a,b){var c=parseInt(a,10)||0,d=parseInt(f[b],10)||0;return c+d})}a.browser.msie&&(a(b).is(":hidden")||a(b).parents(":hidden").length)||d.css({height:b.height()-this.borderDif[0]-this.borderDif[2]||0,width:b.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var b=this.element,c=this.options;if(this.elementOffset=b.offset(),this._helper){this.helper=this.helper||a('<div style="overflow:hidden;"></div>');var d=a.browser.msie&&a.browser.version<7,e=d?1:0,f=d?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+f,height:this.element.outerHeight()+f,position:"absolute",left:this.elementOffset.left-e+"px",top:this.elementOffset.top-e+"px",zIndex:++c.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(a,b){return{width:this.originalSize.width+b}},w:function(a,b){var c=(this.options,this.originalSize),d=this.originalPosition;return{left:d.left+b,width:c.width-b}},n:function(a,b,c){var d=(this.options,this.originalSize),e=this.originalPosition;return{top:e.top+c,height:d.height-c}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},sw:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,c,d]))},ne:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},nw:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,c,d]))}},_propagate:function(b,c){a.ui.plugin.call(this,b,[c,this.ui()]),"resize"!=b&&this._trigger(b,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),a.extend(a.ui.resizable,{version:"1.8.18"}),a.ui.plugin.add("resizable","alsoResize",{start:function(){var b=a(this).data("resizable"),c=b.options,d=function(b){a(b).each(function(){var b=a(this);b.data("resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10)})})};"object"!=typeof c.alsoResize||c.alsoResize.parentNode?d(c.alsoResize):c.alsoResize.length?(c.alsoResize=c.alsoResize[0],d(c.alsoResize)):a.each(c.alsoResize,function(a){d(a)})},resize:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.originalSize,g=d.originalPosition,h={height:d.size.height-f.height||0,width:d.size.width-f.width||0,top:d.position.top-g.top||0,left:d.position.left-g.left||0},i=function(b,d){a(b).each(function(){var b=a(this),e=a(this).data("resizable-alsoresize"),f={},g=d&&d.length?d:b.parents(c.originalElement[0]).length?["width","height"]:["width","height","top","left"];a.each(g,function(a,b){var c=(e[b]||0)+(h[b]||0);c&&c>=0&&(f[b]=c||null)}),b.css(f)})};"object"!=typeof e.alsoResize||e.alsoResize.nodeType?i(e.alsoResize):a.each(e.alsoResize,function(a,b){i(a,b)})},stop:function(){a(this).removeData("resizable-alsoresize")}}),a.ui.plugin.add("resizable","animate",{stop:function(b){var c=a(this).data("resizable"),d=c.options,e=c._proportionallyResizeElements,f=e.length&&/textarea/i.test(e[0].nodeName),g=f&&a.ui.hasScroll(e[0],"left")?0:c.sizeDiff.height,h=f?0:c.sizeDiff.width,i={width:c.size.width-h,height:c.size.height-g},j=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,k=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null;c.element.animate(a.extend(i,k&&j?{top:k,left:j}:{}),{duration:d.animateDuration,easing:d.animateEasing,step:function(){var d={width:parseInt(c.element.css("width"),10),height:parseInt(c.element.css("height"),10),top:parseInt(c.element.css("top"),10),left:parseInt(c.element.css("left"),10)};e&&e.length&&a(e[0]).css({width:d.width,height:d.height}),c._updateCache(d),c._propagate("resize",b)}})}}),a.ui.plugin.add("resizable","containment",{start:function(){var c=a(this).data("resizable"),d=c.options,e=c.element,f=d.containment,g=f instanceof a?f.get(0):/parent/.test(f)?e.parent().get(0):f;if(g)if(c.containerElement=a(g),/document/.test(f)||f==document)c.containerOffset={left:0,top:0},c.containerPosition={left:0,top:0},c.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight};else{var h=a(g),i=[];a(["Top","Right","Left","Bottom"]).each(function(a,c){i[a]=b(h.css("padding"+c))}),c.containerOffset=h.offset(),c.containerPosition=h.position(),c.containerSize={height:h.innerHeight()-i[3],width:h.innerWidth()-i[1]};var j=c.containerOffset,k=c.containerSize.height,l=c.containerSize.width,m=a.ui.hasScroll(g,"left")?g.scrollWidth:l,n=a.ui.hasScroll(g)?g.scrollHeight:k;c.parentData={element:g,left:j.left,top:j.top,width:m,height:n}}},resize:function(b){var c=a(this).data("resizable"),d=c.options,e=(c.containerSize,c.containerOffset),f=(c.size,c.position),g=c._aspectRatio||b.shiftKey,h={top:0,left:0},i=c.containerElement;i[0]!=document&&/static/.test(i.css("position"))&&(h=e),f.left<(c._helper?e.left:0)&&(c.size.width=c.size.width+(c._helper?c.position.left-e.left:c.position.left-h.left),g&&(c.size.height=c.size.width/d.aspectRatio),c.position.left=d.helper?e.left:0),f.top<(c._helper?e.top:0)&&(c.size.height=c.size.height+(c._helper?c.position.top-e.top:c.position.top),g&&(c.size.width=c.size.height*d.aspectRatio),c.position.top=c._helper?e.top:0),c.offset.left=c.parentData.left+c.position.left,c.offset.top=c.parentData.top+c.position.top;var j=Math.abs((c._helper?c.offset.left-h.left:c.offset.left-h.left)+c.sizeDiff.width),k=Math.abs((c._helper?c.offset.top-h.top:c.offset.top-e.top)+c.sizeDiff.height),l=c.containerElement.get(0)==c.element.parent().get(0),m=/relative|absolute/.test(c.containerElement.css("position"));l&&m&&(j-=c.parentData.left),j+c.size.width>=c.parentData.width&&(c.size.width=c.parentData.width-j,g&&(c.size.height=c.size.width/c.aspectRatio)),k+c.size.height>=c.parentData.height&&(c.size.height=c.parentData.height-k,g&&(c.size.width=c.size.height*c.aspectRatio))},stop:function(){var b=a(this).data("resizable"),c=b.options,d=(b.position,b.containerOffset),e=b.containerPosition,f=b.containerElement,g=a(b.helper),h=g.offset(),i=g.outerWidth()-b.sizeDiff.width,j=g.outerHeight()-b.sizeDiff.height;b._helper&&!c.animate&&/relative/.test(f.css("position"))&&a(this).css({left:h.left-e.left-d.left,width:i,height:j}),b._helper&&!c.animate&&/static/.test(f.css("position"))&&a(this).css({left:h.left-e.left-d.left,width:i,height:j})}}),a.ui.plugin.add("resizable","ghost",{start:function(){var b=a(this).data("resizable"),c=b.options,d=b.size;b.ghost=b.originalElement.clone(),b.ghost.css({opacity:.25,display:"block",position:"relative",height:d.height,width:d.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof c.ghost?c.ghost:""),b.ghost.appendTo(b.helper)},resize:function(){{var b=a(this).data("resizable");b.options}b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})},stop:function(){{var b=a(this).data("resizable");b.options}b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}}),a.ui.plugin.add("resizable","grid",{resize:function(b){{var c=a(this).data("resizable"),d=c.options,e=c.size,f=c.originalSize,g=c.originalPosition,h=c.axis;d._aspectRatio||b.shiftKey}d.grid="number"==typeof d.grid?[d.grid,d.grid]:d.grid;var i=Math.round((e.width-f.width)/(d.grid[0]||1))*(d.grid[0]||1),j=Math.round((e.height-f.height)/(d.grid[1]||1))*(d.grid[1]||1);/^(se|s|e)$/.test(h)?(c.size.width=f.width+i,c.size.height=f.height+j):/^(ne)$/.test(h)?(c.size.width=f.width+i,c.size.height=f.height+j,c.position.top=g.top-j):/^(sw)$/.test(h)?(c.size.width=f.width+i,c.size.height=f.height+j,c.position.left=g.left-i):(c.size.width=f.width+i,c.size.height=f.height+j,c.position.top=g.top-j,c.position.left=g.left-i)}});var b=function(a){return parseInt(a,10)||0},c=function(a){return!isNaN(parseInt(a,10))}}(jQuery),/*
 * jQuery UI Selectable 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Selectables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(a){a.widget("ui.selectable",a.ui.mouse,{options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var b=this;this.element.addClass("ui-selectable"),this.dragged=!1;var c;this.refresh=function(){c=a(b.options.filter,b.element[0]),c.addClass("ui-selectee"),c.each(function(){var b=a(this),c=b.offset();a.data(this,"selectable-item",{element:this,$element:b,left:c.left,top:c.top,right:c.left+b.outerWidth(),bottom:c.top+b.outerHeight(),startselected:!1,selected:b.hasClass("ui-selected"),selecting:b.hasClass("ui-selecting"),unselecting:b.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=c.addClass("ui-selectee"),this._mouseInit(),this.helper=a("<div class='ui-selectable-helper'></div>")},destroy:function(){return this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable"),this._mouseDestroy(),this},_mouseStart:function(b){var c=this;if(this.opos=[b.pageX,b.pageY],!this.options.disabled){var d=this.options;this.selectees=a(d.filter,this.element[0]),this._trigger("start",b),a(d.appendTo).append(this.helper),this.helper.css({left:b.clientX,top:b.clientY,width:0,height:0}),d.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var d=a.data(this,"selectable-item");d.startselected=!0,!b.metaKey&&!b.ctrlKey&&(d.$element.removeClass("ui-selected"),d.selected=!1,d.$element.addClass("ui-unselecting"),d.unselecting=!0,c._trigger("unselecting",b,{unselecting:d.element}))}),a(b.target).parents().andSelf().each(function(){var d=a.data(this,"selectable-item");if(d){var e=!b.metaKey&&!b.ctrlKey||!d.$element.hasClass("ui-selected");return d.$element.removeClass(e?"ui-unselecting":"ui-selected").addClass(e?"ui-selecting":"ui-unselecting"),d.unselecting=!e,d.selecting=e,d.selected=e,e?c._trigger("selecting",b,{selecting:d.element}):c._trigger("unselecting",b,{unselecting:d.element}),!1}})}},_mouseDrag:function(b){var c=this;if(this.dragged=!0,!this.options.disabled){var d=this.options,e=this.opos[0],f=this.opos[1],g=b.pageX,h=b.pageY;if(e>g){var i=g;g=e,e=i}if(f>h){var i=h;h=f,f=i}return this.helper.css({left:e,top:f,width:g-e,height:h-f}),this.selectees.each(function(){var i=a.data(this,"selectable-item");if(i&&i.element!=c.element[0]){var j=!1;"touch"==d.tolerance?j=!(i.left>g||i.right<e||i.top>h||i.bottom<f):"fit"==d.tolerance&&(j=i.left>e&&i.right<g&&i.top>f&&i.bottom<h),j?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,c._trigger("selecting",b,{selecting:i.element}))):(i.selecting&&((b.metaKey||b.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),c._trigger("unselecting",b,{unselecting:i.element}))),i.selected&&!b.metaKey&&!b.ctrlKey&&!i.startselected&&(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,c._trigger("unselecting",b,{unselecting:i.element})))}}),!1}},_mouseStop:function(b){var c=this;this.dragged=!1;this.options;return a(".ui-unselecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-unselecting"),d.unselecting=!1,d.startselected=!1,c._trigger("unselected",b,{unselected:d.element})}),a(".ui-selecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-selecting").addClass("ui-selected"),d.selecting=!1,d.selected=!0,d.startselected=!0,c._trigger("selected",b,{selected:d.element})}),this._trigger("stop",b),this.helper.remove(),!1}}),a.extend(a.ui.selectable,{version:"1.8.18"})}(jQuery),/*
 * jQuery UI Sortable 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Sortables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(a){a.widget("ui.sortable",a.ui.mouse,{widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var a=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===a.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},destroy:function(){a.Widget.prototype.destroy.call(this),this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var b=this.items.length-1;b>=0;b--)this.items[b].item.removeData(this.widgetName+"-item");return this},_setOption:function(b,c){"disabled"===b?(this.options[b]=c,this.widget()[c?"addClass":"removeClass"]("ui-sortable-disabled")):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(b,c){var d=this;if(this.reverting)return!1;if(this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(b);{var e=null,f=this;a(b.target).parents().each(function(){return a.data(this,d.widgetName+"-item")==f?(e=a(this),!1):void 0})}if(a.data(b.target,d.widgetName+"-item")==f&&(e=a(b.target)),!e)return!1;if(this.options.handle&&!c){var g=!1;if(a(this.options.handle,e).find("*").andSelf().each(function(){this==b.target&&(g=!0)}),!g)return!1}return this.currentItem=e,this._removeCurrentsFromItems(),!0},_mouseStart:function(b,c,d){var e=this.options,f=this;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(b),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),e.containment&&this._setContainment(),e.cursor&&(a("body").css("cursor")&&(this._storedCursor=a("body").css("cursor")),a("body").css("cursor",e.cursor)),e.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",e.opacity)),e.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",e.zIndex)),this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",b,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!d)for(var g=this.containers.length-1;g>=0;g--)this.containers[g]._trigger("activate",b,f._uiHash(this));return a.ui.ddmanager&&(a.ui.ddmanager.current=this),a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(b),!0},_mouseDrag:function(b){if(this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var c=this.options,d=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<c.scrollSensitivity?this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop+c.scrollSpeed:b.pageY-this.overflowOffset.top<c.scrollSensitivity&&(this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop-c.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<c.scrollSensitivity?this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft+c.scrollSpeed:b.pageX-this.overflowOffset.left<c.scrollSensitivity&&(this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft-c.scrollSpeed)):(b.pageY-a(document).scrollTop()<c.scrollSensitivity?d=a(document).scrollTop(a(document).scrollTop()-c.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<c.scrollSensitivity&&(d=a(document).scrollTop(a(document).scrollTop()+c.scrollSpeed)),b.pageX-a(document).scrollLeft()<c.scrollSensitivity?d=a(document).scrollLeft(a(document).scrollLeft()-c.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<c.scrollSensitivity&&(d=a(document).scrollLeft(a(document).scrollLeft()+c.scrollSpeed))),d!==!1&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)}this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(var e=this.items.length-1;e>=0;e--){var f=this.items[e],g=f.item[0],h=this._intersectsWithPointer(f);if(h&&g!=this.currentItem[0]&&this.placeholder[1==h?"next":"prev"]()[0]!=g&&!a.ui.contains(this.placeholder[0],g)&&("semi-dynamic"==this.options.type?!a.ui.contains(this.element[0],g):!0)){if(this.direction=1==h?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(f))break;this._rearrange(b,f),this._trigger("change",b,this._uiHash());break}}return this._contactContainers(b),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),this._trigger("sort",b,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(b,c){if(b){if(a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b),this.options.revert){var d=this,e=d.placeholder.offset();d.reverting=!0,a(this.helper).animate({left:e.left-this.offset.parent.left-d.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:e.top-this.offset.parent.top-d.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){d._clear(b)})}else this._clear(b,c);return!1}},cancel:function(){var b=this;if(this.dragging){this._mouseUp({target:null}),"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var c=this.containers.length-1;c>=0;c--)this.containers[c]._trigger("deactivate",null,b._uiHash(this)),this.containers[c].containerCache.over&&(this.containers[c]._trigger("out",null,b._uiHash(this)),this.containers[c].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},a(c).each(function(){var c=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[-=_](.+)/);c&&d.push((b.key||c[1]+"[]")+"="+(b.key&&b.expression?c[1]:c[2]))}),!d.length&&b.key&&d.push(b.key+"="),d.join("&")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},c.each(function(){d.push(a(b.item||this).attr(b.attribute||"id")||"")}),d},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,e=d+this.helperProportions.height,f=a.left,g=f+a.width,h=a.top,i=h+a.height,j=this.offset.click.top,k=this.offset.click.left,l=d+j>h&&i>d+j&&b+k>f&&g>b+k;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?l:f<b+this.helperProportions.width/2&&c-this.helperProportions.width/2<g&&h<d+this.helperProportions.height/2&&e-this.helperProportions.height/2<i},_intersectsWithPointer:function(b){var c=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top,b.height),d=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left,b.width),e=c&&d,f=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();return e?this.floating?g&&"right"==g||"down"==f?2:1:f&&("down"==f?2:1):!1},_intersectsWithSides:function(b){var c=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top+b.height/2,b.height),d=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left+b.width/2,b.width),e=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return this.floating&&f?"right"==f&&d||"left"==f&&!d:e&&("down"==e&&c||"up"==e&&!c)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!=a&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!=a&&(a>0?"right":"left")},refresh:function(a){return this._refreshItems(a),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor==String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){var c=[],d=[],e=this._connectWith();if(e&&b)for(var f=e.length-1;f>=0;f--)for(var g=a(e[f]),h=g.length-1;h>=0;h--){var i=a.data(g[h],this.widgetName);i&&i!=this&&!i.options.disabled&&d.push([a.isFunction(i.options.items)?i.options.items.call(i.element):a(i.options.items,i.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),i])}d.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var f=d.length-1;f>=0;f--)d[f][0].each(function(){c.push(this)});return a(c)},_removeCurrentsFromItems:function(){for(var a=this.currentItem.find(":data("+this.widgetName+"-item)"),b=0;b<this.items.length;b++)for(var c=0;c<a.length;c++)a[c]==this.items[b].item[0]&&this.items.splice(b,1)},_refreshItems:function(b){this.items=[],this.containers=[this];var c=this.items,d=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]],e=this._connectWith();if(e&&this.ready)for(var f=e.length-1;f>=0;f--)for(var g=a(e[f]),h=g.length-1;h>=0;h--){var i=a.data(g[h],this.widgetName);i&&i!=this&&!i.options.disabled&&(d.push([a.isFunction(i.options.items)?i.options.items.call(i.element[0],b,{item:this.currentItem}):a(i.options.items,i.element),i]),this.containers.push(i))}for(var f=d.length-1;f>=0;f--)for(var j=d[f][1],k=d[f][0],h=0,l=k.length;l>h;h++){var m=a(k[h]);m.data(this.widgetName+"-item",j),c.push({item:m,instance:j,width:0,height:0,left:0,top:0})}},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var c=this.items.length-1;c>=0;c--){var d=this.items[c];if(d.instance==this.currentContainer||!this.currentContainer||d.item[0]==this.currentItem[0]){var e=this.options.toleranceElement?a(this.options.toleranceElement,d.item):d.item;b||(d.width=e.outerWidth(),d.height=e.outerHeight());var f=e.offset();d.left=f.left,d.top=f.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var c=this.containers.length-1;c>=0;c--){var f=this.containers[c].element.offset();this.containers[c].containerCache.left=f.left,this.containers[c].containerCache.top=f.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight()}return this},_createPlaceholder:function(b){var c=b||this,d=c.options;if(!d.placeholder||d.placeholder.constructor==String){var e=d.placeholder;d.placeholder={element:function(){var b=a(document.createElement(c.currentItem[0].nodeName)).addClass(e||c.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return e||(b.style.visibility="hidden"),b},update:function(a,b){(!e||d.forcePlaceholderSize)&&(b.height()||b.height(c.currentItem.innerHeight()-parseInt(c.currentItem.css("paddingTop")||0,10)-parseInt(c.currentItem.css("paddingBottom")||0,10)),b.width()||b.width(c.currentItem.innerWidth()-parseInt(c.currentItem.css("paddingLeft")||0,10)-parseInt(c.currentItem.css("paddingRight")||0,10)))}}}c.placeholder=a(d.placeholder.element.call(c.element,c.currentItem)),c.currentItem.after(c.placeholder),d.placeholder.update(c,c.placeholder)},_contactContainers:function(b){for(var c=null,d=null,e=this.containers.length-1;e>=0;e--)if(!a.ui.contains(this.currentItem[0],this.containers[e].element[0]))if(this._intersectsWith(this.containers[e].containerCache)){if(c&&a.ui.contains(this.containers[e].element[0],c.element[0]))continue;c=this.containers[e],d=e}else this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",b,this._uiHash(this)),this.containers[e].containerCache.over=0);if(c)if(1===this.containers.length)this.containers[d]._trigger("over",b,this._uiHash(this)),this.containers[d].containerCache.over=1;else if(this.currentContainer!=this.containers[d]){for(var f=1e4,g=null,h=this.positionAbs[this.containers[d].floating?"left":"top"],i=this.items.length-1;i>=0;i--)if(a.ui.contains(this.containers[d].element[0],this.items[i].item[0])){var j=this.items[i][this.containers[d].floating?"left":"top"];Math.abs(j-h)<f&&(f=Math.abs(j-h),g=this.items[i])}if(!g&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[d],g?this._rearrange(b,g,null,!0):this._rearrange(b,null,this.containers[d].element,!0),this._trigger("change",b,this._uiHash()),this.containers[d]._trigger("change",b,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",b,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):"clone"==c.helper?this.currentItem.clone():this.currentItem;return d.parents("body").length||a("parent"!=c.appendTo?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]),d[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==d[0].style.width||c.forceHelperSize)&&d.width(this.currentItem.width()),(""==d[0].style.height||c.forceHelperSize)&&d.height(this.currentItem.height()),d},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&a.browser.msie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;if("parent"==b.containment&&(b.containment=this.helper[0].parentNode),("document"==b.containment||"window"==b.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a("document"==b.containment?document:window).width()-this.helperProportions.width-this.margins.left,(a("document"==b.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(b.containment)){var c=a(b.containment)[0],d=a(b.containment).offset(),e="hidden"!=a(c).css("overflow");this.containment=[d.left+(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0)-this.margins.left,d.top+(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0)-this.margins.top,d.left+(e?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,d.top+(e?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(b,c){c||(c=this.position);var d="absolute"==b?1:-1,e=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),f=/(html|body)/i.test(e[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-(a.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():f?0:e.scrollTop())*d),left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-(a.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())*d)}},_generatePosition:function(b){var c=this.options,d="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,e=/(html|body)/i.test(d[0].tagName);"relative"==this.cssPosition&&(this.scrollParent[0]==document||this.scrollParent[0]==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var f=b.pageX,g=b.pageY;if(this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top)),c.grid)){var h=this.originalPageY+Math.round((g-this.originalPageY)/c.grid[1])*c.grid[1];g=this.containment?h-this.offset.click.top<this.containment[1]||h-this.offset.click.top>this.containment[3]?h-this.offset.click.top<this.containment[1]?h+c.grid[1]:h-c.grid[1]:h:h;var i=this.originalPageX+Math.round((f-this.originalPageX)/c.grid[0])*c.grid[0];f=this.containment?i-this.offset.click.left<this.containment[0]||i-this.offset.click.left>this.containment[2]?i-this.offset.click.left<this.containment[0]?i+c.grid[0]:i-c.grid[0]:i:i}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():e?0:d.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?b.item[0]:b.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var e=this,f=this.counter;window.setTimeout(function(){f==e.counter&&e.refreshPositions(!d)},0)},_clear:function(b,c){this.reverting=!1;var d=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var e in this._storedCSS)("auto"==this._storedCSS[e]||"static"==this._storedCSS[e])&&(this._storedCSS[e]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();if(this.fromOutside&&!c&&d.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!c&&d.push(function(a){this._trigger("update",a,this._uiHash())}),!a.ui.contains(this.element[0],this.currentItem[0])){c||d.push(function(a){this._trigger("remove",a,this._uiHash())});for(var e=this.containers.length-1;e>=0;e--)a.ui.contains(this.containers[e].element[0],this.currentItem[0])&&!c&&(d.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.containers[e])),d.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.containers[e])))}for(var e=this.containers.length-1;e>=0;e--)c||d.push(function(a){return function(b){a._trigger("deactivate",b,this._uiHash(this))}}.call(this,this.containers[e])),this.containers[e].containerCache.over&&(d.push(function(a){return function(b){a._trigger("out",b,this._uiHash(this))}}.call(this,this.containers[e])),this.containers[e].containerCache.over=0);if(this._storedCursor&&a("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!c){this._trigger("beforeStop",b,this._uiHash());for(var e=0;e<d.length;e++)d[e].call(this,b);this._trigger("stop",b,this._uiHash())}return!1}if(c||this._trigger("beforeStop",b,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!c){for(var e=0;e<d.length;e++)d[e].call(this,b);this._trigger("stop",b,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}}),a.extend(a.ui.sortable,{version:"1.8.18"})}(jQuery),/*
 * jQuery UI Accordion 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Accordion
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
function(a){a.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:!0,clearStyle:!1,collapsible:!1,event:"click",fillSpace:!1,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var b=this,c=b.options;if(b.running=0,b.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix"),b.headers=b.element.find(c.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){c.disabled||a(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){c.disabled||a(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){c.disabled||a(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){c.disabled||a(this).removeClass("ui-state-focus")}),b.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom"),c.navigation){var d=b.element.find("a").filter(c.navigationFilter).eq(0);if(d.length){var e=d.closest(".ui-accordion-header");b.active=e.length?e:d.closest(".ui-accordion-content").prev()}}b.active=b._findActive(b.active||c.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top"),b.active.next().addClass("ui-accordion-content-active"),b._createIcons(),b.resize(),b.element.attr("role","tablist"),b.headers.attr("role","tab").bind("keydown.accordion",function(a){return b._keydown(a)}).next().attr("role","tabpanel"),b.headers.not(b.active||"").attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).next().hide(),b.active.length?b.active.attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}):b.headers.eq(0).attr("tabIndex",0),a.browser.safari||b.headers.find("a").attr("tabIndex",-1),c.event&&b.headers.bind(c.event.split(" ").join(".accordion ")+".accordion",function(a){b._clickHandler.call(b,a,this),a.preventDefault()})},_createIcons:function(){var b=this.options;b.icons&&(a("<span></span>").addClass("ui-icon "+b.icons.header).prependTo(this.headers),this.active.children(".ui-icon").toggleClass(b.icons.header).toggleClass(b.icons.headerSelected),this.element.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.children(".ui-icon").remove(),this.element.removeClass("ui-accordion-icons")},destroy:function(){var b=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("tabIndex"),this.headers.find("a").removeAttr("tabIndex"),this._destroyIcons();var c=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");return(b.autoHeight||b.fillHeight)&&c.css("height",""),a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments),"active"==b&&this.activate(c),"icons"==b&&(this._destroyIcons(),c&&this._createIcons()),"disabled"==b&&this.headers.add(this.headers.next())[c?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(b){if(!(this.options.disabled||b.altKey||b.ctrlKey)){var c=a.ui.keyCode,d=this.headers.length,e=this.headers.index(b.target),f=!1;switch(b.keyCode){case c.RIGHT:case c.DOWN:f=this.headers[(e+1)%d];break;case c.LEFT:case c.UP:f=this.headers[(e-1+d)%d];break;case c.SPACE:case c.ENTER:this._clickHandler({target:b.target},b.target),b.preventDefault()}return f?(a(b.target).attr("tabIndex",-1),a(f).attr("tabIndex",0),f.focus(),!1):!0}},resize:function(){var b,c=this.options;if(c.fillSpace){if(a.browser.msie){var d=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}b=this.element.parent().height(),a.browser.msie&&this.element.parent().css("overflow",d),this.headers.each(function(){b-=a(this).outerHeight(!0)}),this.headers.next().each(function(){a(this).height(Math.max(0,b-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")}else c.autoHeight&&(b=0,this.headers.next().each(function(){b=Math.max(b,a(this).height("").height())}).height(b));return this},activate:function(a){this.options.active=a;var b=this._findActive(a)[0];return this._clickHandler({target:b},b),this},_findActive:function(b){return b?"number"==typeof b?this.headers.filter(":eq("+b+")"):this.headers.not(this.headers.not(b)):b===!1?a([]):this.headers.filter(":eq(0)")},_clickHandler:function(b,c){var d=this.options;if(!d.disabled){if(!b.target){if(!d.collapsible)return;this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(d.icons.headerSelected).addClass(d.icons.header),this.active.next().addClass("ui-accordion-content-active");var e=this.active.next(),f={options:d,newHeader:a([]),oldHeader:d.active,newContent:a([]),oldContent:e},g=this.active=a([]);return this._toggle(g,e,f),void 0}var h=a(b.currentTarget||c),i=h[0]===this.active[0];if(d.active=d.collapsible&&i?!1:this.headers.index(h),this.running||!d.collapsible&&i)return;var j=this.active,g=h.next(),e=this.active.next(),f={options:d,newHeader:i&&d.collapsible?a([]):h,oldHeader:this.active,newContent:i&&d.collapsible?a([]):g,oldContent:e},k=this.headers.index(this.active[0])>this.headers.index(h[0]);return this.active=i?a([]):h,this._toggle(g,e,f,i,k),j.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(d.icons.headerSelected).addClass(d.icons.header),i||(h.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(d.icons.header).addClass(d.icons.headerSelected),h.next().addClass("ui-accordion-content-active")),void 0}},_toggle:function(b,c,d,e,f){var g=this,h=g.options;g.toShow=b,g.toHide=c,g.data=d;var i=function(){return g?g._completed.apply(g,arguments):void 0};if(g._trigger("changestart",null,g.data),g.running=0===c.size()?b.size():c.size(),h.animated){var j={};j=h.collapsible&&e?{toShow:a([]),toHide:c,complete:i,down:f,autoHeight:h.autoHeight||h.fillSpace}:{toShow:b,toHide:c,complete:i,down:f,autoHeight:h.autoHeight||h.fillSpace},h.proxied||(h.proxied=h.animated),h.proxiedDuration||(h.proxiedDuration=h.duration),h.animated=a.isFunction(h.proxied)?h.proxied(j):h.proxied,h.duration=a.isFunction(h.proxiedDuration)?h.proxiedDuration(j):h.proxiedDuration;var k=a.ui.accordion.animations,l=h.duration,m=h.animated;m&&!k[m]&&!a.easing[m]&&(m="slide"),k[m]||(k[m]=function(a){this.slide(a,{easing:m,duration:l||700})}),k[m](j)}else h.collapsible&&e?b.toggle():(c.hide(),b.show()),i(!0);c.prev().attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).blur(),b.prev().attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}).focus()},_completed:function(a){this.running=a?0:--this.running,this.running||(this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""}),this.toHide.removeClass("ui-accordion-content-active"),this.toHide.length&&(this.toHide.parent()[0].className=this.toHide.parent()[0].className),this._trigger("change",null,this.data))}}),a.extend(a.ui.accordion,{version:"1.8.18",animations:{slide:function(b,c){if(b=a.extend({easing:"swing",duration:300},b,c),b.toHide.size()){if(!b.toShow.size())return b.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},b),void 0;var d,e=b.toShow.css("overflow"),f=0,g={},h={},i=["height","paddingTop","paddingBottom"],j=b.toShow;d=j[0].style.width,j.width(j.parent().width()-parseFloat(j.css("paddingLeft"))-parseFloat(j.css("paddingRight"))-(parseFloat(j.css("borderLeftWidth"))||0)-(parseFloat(j.css("borderRightWidth"))||0)),a.each(i,function(c,d){h[d]="hide";var e=(""+a.css(b.toShow[0],d)).match(/^([\d+-.]+)(.*)$/);g[d]={value:e[1],unit:e[2]||"px"}}),b.toShow.css({height:0,overflow:"hidden"}).show(),b.toHide.filter(":hidden").each(b.complete).end().filter(":visible").animate(h,{step:function(a,c){"height"==c.prop&&(f=0===c.end-c.start?0:(c.now-c.start)/(c.end-c.start)),b.toShow[0].style[c.prop]=f*g[c.prop].value+g[c.prop].unit},duration:b.duration,easing:b.easing,complete:function(){b.autoHeight||b.toShow.css("height",""),b.toShow.css({width:d,overflow:e}),b.complete()}})}else b.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},b)},bounceslide:function(a){this.slide(a,{easing:a.down?"easeOutBounce":"swing",duration:a.down?1e3:200})}}})}(jQuery),/*
 * jQuery UI Autocomplete 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Autocomplete
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.position.js
 */
function(a){var b=0;a.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var b,c=this,d=this.element[0].ownerDocument;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(d){if(!c.options.disabled&&!c.element.propAttr("readOnly")){b=!1;var e=a.ui.keyCode;switch(d.keyCode){case e.PAGE_UP:c._move("previousPage",d);break;case e.PAGE_DOWN:c._move("nextPage",d);break;case e.UP:c._move("previous",d),d.preventDefault();break;case e.DOWN:c._move("next",d),d.preventDefault();break;case e.ENTER:case e.NUMPAD_ENTER:c.menu.active&&(b=!0,d.preventDefault());case e.TAB:if(!c.menu.active)return;c.menu.select(d);break;case e.ESCAPE:c.element.val(c.term),c.close(d);break;default:clearTimeout(c.searching),c.searching=setTimeout(function(){c.term!=c.element.val()&&(c.selectedItem=null,c.search(null,d))},c.options.delay)}}}).bind("keypress.autocomplete",function(a){b&&(b=!1,a.preventDefault())}).bind("focus.autocomplete",function(){c.options.disabled||(c.selectedItem=null,c.previous=c.element.val())}).bind("blur.autocomplete",function(a){c.options.disabled||(clearTimeout(c.searching),c.closing=setTimeout(function(){c.close(a),c._change(a)},150))}),this._initSource(),this.response=function(){return c._response.apply(c,arguments)},this.menu=a("<ul></ul>").addClass("ui-autocomplete").appendTo(a(this.options.appendTo||"body",d)[0]).mousedown(function(b){var d=c.menu.element[0];a(b.target).closest(".ui-menu-item").length||setTimeout(function(){a(document).one("mousedown",function(b){b.target!==c.element[0]&&b.target!==d&&!a.ui.contains(d,b.target)&&c.close()})},1),setTimeout(function(){clearTimeout(c.closing)},13)}).menu({focus:function(a,b){var d=b.item.data("item.autocomplete");!1!==c._trigger("focus",a,{item:d})&&/^key/.test(a.originalEvent.type)&&c.element.val(d.value)},selected:function(a,b){var e=b.item.data("item.autocomplete"),f=c.previous;c.element[0]!==d.activeElement&&(c.element.focus(),c.previous=f,setTimeout(function(){c.previous=f,c.selectedItem=e},1)),!1!==c._trigger("select",a,{item:e})&&c.element.val(e.value),c.term=c.element.val(),c.close(a),c.selectedItem=e},blur:function(){c.menu.element.is(":visible")&&c.element.val()!==c.term&&c.element.val(c.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),a.fn.bgiframe&&this.menu.element.bgiframe(),c.beforeunloadHandler=function(){c.element.removeAttr("autocomplete")},a(window).bind("beforeunload",c.beforeunloadHandler)},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),this.menu.element.remove(),a(window).unbind("beforeunload",this.beforeunloadHandler),a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments),"source"===b&&this._initSource(),"appendTo"===b&&this.menu.element.appendTo(a(c||"body",this.element[0].ownerDocument)[0]),"disabled"===b&&c&&this.xhr&&this.xhr.abort()},_initSource:function(){var c,d,e=this;a.isArray(this.options.source)?(c=this.options.source,this.source=function(b,d){d(a.ui.autocomplete.filter(c,b.term))}):"string"==typeof this.options.source?(d=this.options.source,this.source=function(c,f){e.xhr&&e.xhr.abort(),e.xhr=a.ajax({url:d,data:c,dataType:"json",context:{autocompleteRequest:++b},success:function(a){this.autocompleteRequest===b&&f(a)},error:function(){this.autocompleteRequest===b&&f([])}})}):this.source=this.options.source},search:function(a,b){return a=null!=a?a:this.element.val(),this.term=this.element.val(),a.length<this.options.minLength?this.close(b):(clearTimeout(this.closing),this._trigger("search",b)!==!1?this._search(a):void 0)},_search:function(a){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.source({term:a},this.response)},_response:function(a){!this.options.disabled&&a&&a.length?(a=this._normalize(a),this._suggest(a),this._trigger("open")):this.close(),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},close:function(a){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",a))},_change:function(a){this.previous!==this.element.val()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return"string"==typeof b?{label:b,value:b}:a.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(b){var c=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(c,b),this.menu.deactivate(),this.menu.refresh(),c.show(),this._resizeMenu(),c.position(a.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(new a.Event("mouseover"))},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(b,c){var d=this;a.each(c,function(a,c){d._renderItem(b,c)})},_renderItem:function(b,c){return a("<li></li>").data("item.autocomplete",c).append(a("<a></a>").text(c.label)).appendTo(b)},_move:function(a,b){if(this.menu.element.is(":visible")){if(this.menu.first()&&/^previous/.test(a)||this.menu.last()&&/^next/.test(a))return this.element.val(this.term),this.menu.deactivate(),void 0;this.menu[a](b)}else this.search(null,b)},widget:function(){return this.menu.element}}),a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(b,c){var d=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(a){return d.test(a.label||a.value||a)})}})}(jQuery),function(a){a.widget("ui.menu",{_create:function(){var b=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(c){!a(c.target).closest(".ui-menu-item a").length||(c.preventDefault(),b.select(c))}),this.refresh()},refresh:function(){var b=this,c=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");c.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(c){b.activate(c,a(this).parent())}).mouseleave(function(){b.deactivate()})},activate:function(a,b){if(this.deactivate(),this.hasScroll()){var c=b.offset().top-this.element.offset().top,d=this.element.scrollTop(),e=this.element.height();0>c?this.element.scrollTop(d+c):c>=e&&this.element.scrollTop(d+c-e+b.height())}this.active=b.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end(),this._trigger("focus",a,{item:b})},deactivate:function(){!this.active||(this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null)},next:function(a){this.move("next",".ui-menu-item:first",a)},previous:function(a){this.move("prev",".ui-menu-item:last",a)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(a,b,c){if(this.active){var d=this.active[a+"All"](".ui-menu-item").eq(0);d.length?this.activate(c,d):this.activate(c,this.element.children(b))}else this.activate(c,this.element.children(b))},nextPage:function(b){if(this.hasScroll()){if(!this.active||this.last())return this.activate(b,this.element.children(".ui-menu-item:first")),void 0;var c=this.active.offset().top,d=this.element.height(),e=this.element.children(".ui-menu-item").filter(function(){var b=a(this).offset().top-c-d+a(this).height();return 10>b&&b>-10});e.length||(e=this.element.children(".ui-menu-item:last")),this.activate(b,e)}else this.activate(b,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(b){if(this.hasScroll()){if(!this.active||this.first())return this.activate(b,this.element.children(".ui-menu-item:last")),void 0;var c=this.active.offset().top,d=this.element.height();result=this.element.children(".ui-menu-item").filter(function(){var b=a(this).offset().top-c+d-a(this).height();return 10>b&&b>-10}),result.length||(result=this.element.children(".ui-menu-item:first")),this.activate(b,result)}else this.activate(b,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element[a.fn.prop?"prop":"attr"]("scrollHeight")},select:function(a){this._trigger("selected",a,{item:this.active})}})}(jQuery),/*
 * jQuery UI Button 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Button
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
function(a){var b,c,d,e,f="ui-button ui-widget ui-state-default ui-corner-all",g="ui-state-hover ui-state-active ",h="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",i=function(){var b=a(this).find(":ui-button");setTimeout(function(){b.button("refresh")},1)},j=function(b){var c=b.name,d=b.form,e=a([]);return c&&(e=d?a(d).find("[name='"+c+"']"):a("[name='"+c+"']",b.ownerDocument).filter(function(){return!this.form})),e};a.widget("ui.button",{options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",i),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.propAttr("disabled"):this.element.propAttr("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var g=this,h=this.options,k="checkbox"===this.type||"radio"===this.type,l="ui-state-hover"+(k?"":" ui-state-active"),m="ui-state-focus";null===h.label&&(h.label=this.buttonElement.html()),this.buttonElement.addClass(f).attr("role","button").bind("mouseenter.button",function(){h.disabled||(a(this).addClass("ui-state-hover"),this===b&&a(this).addClass("ui-state-active"))}).bind("mouseleave.button",function(){h.disabled||a(this).removeClass(l)}).bind("click.button",function(a){h.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}),this.element.bind("focus.button",function(){g.buttonElement.addClass(m)}).bind("blur.button",function(){g.buttonElement.removeClass(m)}),k&&(this.element.bind("change.button",function(){e||g.refresh()}),this.buttonElement.bind("mousedown.button",function(a){h.disabled||(e=!1,c=a.pageX,d=a.pageY)}).bind("mouseup.button",function(a){!h.disabled&&(c!==a.pageX||d!==a.pageY)&&(e=!0)})),"checkbox"===this.type?this.buttonElement.bind("click.button",function(){return h.disabled||e?!1:(a(this).toggleClass("ui-state-active"),g.buttonElement.attr("aria-pressed",g.element[0].checked),void 0)}):"radio"===this.type?this.buttonElement.bind("click.button",function(){if(h.disabled||e)return!1;a(this).addClass("ui-state-active"),g.buttonElement.attr("aria-pressed","true");var b=g.element[0];j(b).not(b).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown.button",function(){return h.disabled?!1:(a(this).addClass("ui-state-active"),b=this,a(document).one("mouseup",function(){b=null}),void 0)}).bind("mouseup.button",function(){return h.disabled?!1:(a(this).removeClass("ui-state-active"),void 0)}).bind("keydown.button",function(b){return h.disabled?!1:((b.keyCode==a.ui.keyCode.SPACE||b.keyCode==a.ui.keyCode.ENTER)&&a(this).addClass("ui-state-active"),void 0)}).bind("keyup.button",function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===a.ui.keyCode.SPACE&&a(this).click()})),this._setOption("disabled",h.disabled),this._resetButton()},_determineButtonType:function(){if(this.type=this.element.is(":checkbox")?"checkbox":this.element.is(":radio")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type){var a=this.element.parents().filter(":last"),b="label[for='"+this.element.attr("id")+"']";this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=a.find(b))),this.element.addClass("ui-helper-hidden-accessible");var c=this.element.is(":checked");c&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.attr("aria-pressed",c)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(f+" "+g+" "+h).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title"),a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments),"disabled"===b?c?this.element.propAttr("disabled",!0):this.element.propAttr("disabled",!1):this._resetButton()},refresh:function(){var b=this.element.is(":disabled");b!==this.options.disabled&&this._setOption("disabled",b),"radio"===this.type?j(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)this.options.label&&this.element.val(this.options.label);else{var b=this.buttonElement.removeClass(h),c=a("<span></span>",this.element[0].ownerDocument).addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text(),d=this.options.icons,e=d.primary&&d.secondary,f=[];d.primary||d.secondary?(this.options.text&&f.push("ui-button-text-icon"+(e?"s":d.primary?"-primary":"-secondary")),d.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+d.primary+"'></span>"),d.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+d.secondary+"'></span>"),this.options.text||(f.push(e?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||b.attr("title",c))):f.push("ui-button-text-only"),b.addClass(f.join(" "))}}}),a.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(b,c){"disabled"===b&&this.buttons.button("option",b,c),a.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){var b="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(b?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(b?"ui-corner-left":"ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy"),a.Widget.prototype.destroy.call(this)}})}(jQuery),/*
 * jQuery UI Dialog 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Dialog
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *  jquery.ui.button.js
 *	jquery.ui.draggable.js
 *	jquery.ui.mouse.js
 *	jquery.ui.position.js
 *	jquery.ui.resizable.js
 */
function(a,b){var c="ui-dialog ui-widget ui-widget-content ui-corner-all ",d={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},e={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},f=a.attrFn||{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0,click:!0};a.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",collision:"fit",using:function(b){var c=a(this).css(b).offset().top;0>c&&a(this).css("top",b.top-c)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),"string"!=typeof this.originalTitle&&(this.originalTitle=""),this.options.title=this.options.title||this.originalTitle;{var b=this,d=b.options,e=d.title||"&#160;",f=a.ui.dialog.getTitleId(b.element),g=(b.uiDialog=a("<div></div>")).appendTo(document.body).hide().addClass(c+d.dialogClass).css({zIndex:d.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(c){d.closeOnEscape&&!c.isDefaultPrevented()&&c.keyCode&&c.keyCode===a.ui.keyCode.ESCAPE&&(b.close(c),c.preventDefault())}).attr({role:"dialog","aria-labelledby":f}).mousedown(function(a){b.moveToTop(!1,a)}),h=(b.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(g),(b.uiDialogTitlebar=a("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(g)),i=a('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){i.addClass("ui-state-hover")},function(){i.removeClass("ui-state-hover")}).focus(function(){i.addClass("ui-state-focus")}).blur(function(){i.removeClass("ui-state-focus")}).click(function(a){return b.close(a),!1}).appendTo(h);(b.uiDialogTitlebarCloseText=a("<span></span>")).addClass("ui-icon ui-icon-closethick").text(d.closeText).appendTo(i),a("<span></span>").addClass("ui-dialog-title").attr("id",f).html(e).prependTo(h)}a.isFunction(d.beforeclose)&&!a.isFunction(d.beforeClose)&&(d.beforeClose=d.beforeclose),h.find("*").add(h).disableSelection(),d.draggable&&a.fn.draggable&&b._makeDraggable(),d.resizable&&a.fn.resizable&&b._makeResizable(),b._createButtons(d.buttons),b._isOpen=!1,a.fn.bgiframe&&g.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var a=this;return a.overlay&&a.overlay.destroy(),a.uiDialog.hide(),a.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),a.uiDialog.remove(),a.originalTitle&&a.element.attr("title",a.originalTitle),a},widget:function(){return this.uiDialog},close:function(b){var c,d,e=this;return!1!==e._trigger("beforeClose",b)?(e.overlay&&e.overlay.destroy(),e.uiDialog.unbind("keypress.ui-dialog"),e._isOpen=!1,e.options.hide?e.uiDialog.hide(e.options.hide,function(){e._trigger("close",b)}):(e.uiDialog.hide(),e._trigger("close",b)),a.ui.dialog.overlay.resize(),e.options.modal&&(c=0,a(".ui-dialog").each(function(){this!==e.uiDialog[0]&&(d=a(this).css("z-index"),isNaN(d)||(c=Math.max(c,d)))}),a.ui.dialog.maxZ=c),e):void 0},isOpen:function(){return this._isOpen},moveToTop:function(b,c){var d,e=this,f=e.options;return f.modal&&!b||!f.stack&&!f.modal?e._trigger("focus",c):(f.zIndex>a.ui.dialog.maxZ&&(a.ui.dialog.maxZ=f.zIndex),e.overlay&&(a.ui.dialog.maxZ+=1,e.overlay.$el.css("z-index",a.ui.dialog.overlay.maxZ=a.ui.dialog.maxZ)),d={scrollTop:e.element.scrollTop(),scrollLeft:e.element.scrollLeft()},a.ui.dialog.maxZ+=1,e.uiDialog.css("z-index",a.ui.dialog.maxZ),e.element.attr(d),e._trigger("focus",c),e)},open:function(){if(!this._isOpen){var b=this,c=b.options,d=b.uiDialog;return b.overlay=c.modal?new a.ui.dialog.overlay(b):null,b._size(),b._position(c.position),d.show(c.show),b.moveToTop(!0),c.modal&&d.bind("keydown.ui-dialog",function(b){if(b.keyCode===a.ui.keyCode.TAB){var c=a(":tabbable",this),d=c.filter(":first"),e=c.filter(":last");if(b.target===e[0]&&!b.shiftKey)return d.focus(1),!1;if(b.target===d[0]&&b.shiftKey)return e.focus(1),!1}}),a(b.element.find(":tabbable").get().concat(d.find(".ui-dialog-buttonpane :tabbable").get().concat(d.get()))).eq(0).focus(),b._isOpen=!0,b._trigger("open"),b}},_createButtons:function(b){var c=this,d=!1,e=a("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),g=a("<div></div>").addClass("ui-dialog-buttonset").appendTo(e);c.uiDialog.find(".ui-dialog-buttonpane").remove(),"object"==typeof b&&null!==b&&a.each(b,function(){return!(d=!0)}),d&&(a.each(b,function(b,d){d=a.isFunction(d)?{click:d,text:b}:d;var e=a('<button type="button"></button>').click(function(){d.click.apply(c.element[0],arguments)}).appendTo(g);a.each(d,function(a,b){"click"!==a&&(a in f?e[a](b):e.attr(a,b))}),a.fn.button&&e.button()}),e.appendTo(c.uiDialog))},_makeDraggable:function(){function b(a){return{position:a.position,offset:a.offset}}var c,d=this,e=d.options,f=a(document);d.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(f,g){c="auto"===e.height?"auto":a(this).height(),a(this).height(a(this).height()).addClass("ui-dialog-dragging"),d._trigger("dragStart",f,b(g))},drag:function(a,c){d._trigger("drag",a,b(c))},stop:function(g,h){e.position=[h.position.left-f.scrollLeft(),h.position.top-f.scrollTop()],a(this).removeClass("ui-dialog-dragging").height(c),d._trigger("dragStop",g,b(h)),a.ui.dialog.overlay.resize()}})},_makeResizable:function(c){function d(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}c=c===b?this.options.resizable:c;var e=this,f=e.options,g=e.uiDialog.css("position"),h="string"==typeof c?c:"n,e,s,w,se,sw,ne,nw";e.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:e.element,maxWidth:f.maxWidth,maxHeight:f.maxHeight,minWidth:f.minWidth,minHeight:e._minHeight(),handles:h,start:function(b,c){a(this).addClass("ui-dialog-resizing"),e._trigger("resizeStart",b,d(c))},resize:function(a,b){e._trigger("resize",a,d(b))},stop:function(b,c){a(this).removeClass("ui-dialog-resizing"),f.height=a(this).height(),f.width=a(this).width(),e._trigger("resizeStop",b,d(c)),a.ui.dialog.overlay.resize()}}).css("position",g).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(b){var c,d=[],e=[0,0];b?(("string"==typeof b||"object"==typeof b&&"0"in b)&&(d=b.split?b.split(" "):[b[0],b[1]],1===d.length&&(d[1]=d[0]),a.each(["left","top"],function(a,b){+d[a]===d[a]&&(e[a]=d[a],d[a]=b)}),b={my:d.join(" "),at:d.join(" "),offset:e.join(" ")}),b=a.extend({},a.ui.dialog.prototype.options.position,b)):b=a.ui.dialog.prototype.options.position,c=this.uiDialog.is(":visible"),c||this.uiDialog.show(),this.uiDialog.css({top:0,left:0}).position(a.extend({of:window},b)),c||this.uiDialog.hide()},_setOptions:function(b){var c=this,f={},g=!1;a.each(b,function(a,b){c._setOption(a,b),a in d&&(g=!0),a in e&&(f[a]=b)}),g&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",f)},_setOption:function(b,d){var e=this,f=e.uiDialog;switch(b){case"beforeclose":b="beforeClose";break;case"buttons":e._createButtons(d);break;case"closeText":e.uiDialogTitlebarCloseText.text(""+d);break;case"dialogClass":f.removeClass(e.options.dialogClass).addClass(c+d);break;case"disabled":d?f.addClass("ui-dialog-disabled"):f.removeClass("ui-dialog-disabled");break;case"draggable":var g=f.is(":data(draggable)");g&&!d&&f.draggable("destroy"),!g&&d&&e._makeDraggable();break;case"position":e._position(d);break;case"resizable":var h=f.is(":data(resizable)");h&&!d&&f.resizable("destroy"),h&&"string"==typeof d&&f.resizable("option","handles",d),!h&&d!==!1&&e._makeResizable(d);break;case"title":a(".ui-dialog-title",e.uiDialogTitlebar).html(""+(d||"&#160;"))}a.Widget.prototype._setOption.apply(e,arguments)},_size:function(){var b,c,d=this.options,e=this.uiDialog.is(":visible");if(this.element.show().css({width:"auto",minHeight:0,height:0}),d.minWidth>d.width&&(d.width=d.minWidth),b=this.uiDialog.css({height:"auto",width:d.width}).height(),c=Math.max(0,d.minHeight-b),"auto"===d.height)if(a.support.minHeight)this.element.css({minHeight:c,height:"auto"});else{this.uiDialog.show();var f=this.element.css("height","auto").height();e||this.uiDialog.hide(),this.element.height(Math.max(f,c))}else this.element.height(Math.max(d.height-b,0));this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),a.extend(a.ui.dialog,{version:"1.8.18",uuid:0,maxZ:0,getTitleId:function(a){var b=a.attr("id");return b||(this.uuid+=1,b=this.uuid),"ui-dialog-title-"+b},overlay:function(b){this.$el=a.ui.dialog.overlay.create(b)}}),a.extend(a.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:a.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(a){return a+".dialog-overlay"}).join(" "),create:function(b){0===this.instances.length&&(setTimeout(function(){a.ui.dialog.overlay.instances.length&&a(document).bind(a.ui.dialog.overlay.events,function(b){return a(b.target).zIndex()<a.ui.dialog.overlay.maxZ?!1:void 0})},1),a(document).bind("keydown.dialog-overlay",function(c){b.options.closeOnEscape&&!c.isDefaultPrevented()&&c.keyCode&&c.keyCode===a.ui.keyCode.ESCAPE&&(b.close(c),c.preventDefault())}),a(window).bind("resize.dialog-overlay",a.ui.dialog.overlay.resize));var c=(this.oldInstances.pop()||a("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});return a.fn.bgiframe&&c.bgiframe(),this.instances.push(c),c},destroy:function(b){var c=a.inArray(b,this.instances);-1!=c&&this.oldInstances.push(this.instances.splice(c,1)[0]),0===this.instances.length&&a([document,window]).unbind(".dialog-overlay"),b.remove();var d=0;a.each(this.instances,function(){d=Math.max(d,this.css("z-index"))}),this.maxZ=d},height:function(){var b,c;return a.browser.msie&&a.browser.version<7?(b=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),c=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),c>b?a(window).height()+"px":b+"px"):a(document).height()+"px"},width:function(){var b,c;return a.browser.msie?(b=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),c=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),c>b?a(window).width()+"px":b+"px"):a(document).width()+"px"},resize:function(){var b=a([]);a.each(a.ui.dialog.overlay.instances,function(){b=b.add(this)}),b.css({width:0,height:0}).css({width:a.ui.dialog.overlay.width(),height:a.ui.dialog.overlay.height()})}}),a.extend(a.ui.dialog.overlay.prototype,{destroy:function(){a.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),/*
 * jQuery UI Slider 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Slider
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
function(a){var b=5;a.widget("ui.slider",a.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var c=this,d=this.options,e=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),f="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",g=d.values&&d.values.length||1,h=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(d.disabled?" ui-slider-disabled ui-disabled":"")),this.range=a([]),d.range&&(d.range===!0&&(d.values||(d.values=[this._valueMin(),this._valueMin()]),d.values.length&&2!==d.values.length&&(d.values=[d.values[0],d.values[0]])),this.range=a("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===d.range||"max"===d.range?" ui-slider-range-"+d.range:"")));for(var i=e.length;g>i;i+=1)h.push(f);this.handles=e.add(a(h.join("")).appendTo(c.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(a){a.preventDefault()}).hover(function(){d.disabled||a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")}).focus(function(){d.disabled?a(this).blur():(a(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),a(this).addClass("ui-state-focus"))}).blur(function(){a(this).removeClass("ui-state-focus")}),this.handles.each(function(b){a(this).data("index.ui-slider-handle",b)}),this.handles.keydown(function(d){var e,f,g,h,i=a(this).data("index.ui-slider-handle");if(!c.options.disabled){switch(d.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(d.preventDefault(),!c._keySliding&&(c._keySliding=!0,a(this).addClass("ui-state-active"),e=c._start(d,i),e===!1))return}switch(h=c.options.step,f=g=c.options.values&&c.options.values.length?c.values(i):c.value(),d.keyCode){case a.ui.keyCode.HOME:g=c._valueMin();break;case a.ui.keyCode.END:g=c._valueMax();break;case a.ui.keyCode.PAGE_UP:g=c._trimAlignValue(f+(c._valueMax()-c._valueMin())/b);break;case a.ui.keyCode.PAGE_DOWN:g=c._trimAlignValue(f-(c._valueMax()-c._valueMin())/b);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(f===c._valueMax())return;g=c._trimAlignValue(f+h);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(f===c._valueMin())return;g=c._trimAlignValue(f-h)}c._slide(d,i,g)}}).keyup(function(b){var d=a(this).data("index.ui-slider-handle");c._keySliding&&(c._keySliding=!1,c._stop(b,d),c._change(b,d),a(this).removeClass("ui-state-active"))}),this._refreshValue(),this._animateOff=!1},destroy:function(){return this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy(),this},_mouseCapture:function(b){var c,d,e,f,g,h,i,j,k,l=this.options;return l.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),c={x:b.pageX,y:b.pageY},d=this._normValueFromMouse(c),e=this._valueMax()-this._valueMin()+1,g=this,this.handles.each(function(b){var c=Math.abs(d-g.values(b));e>c&&(e=c,f=a(this),h=b)}),l.range===!0&&this.values(1)===l.min&&(h+=1,f=a(this.handles[h])),i=this._start(b,h),i===!1?!1:(this._mouseSliding=!0,g._handleIndex=h,f.addClass("ui-state-active").focus(),j=f.offset(),k=!a(b.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=k?{left:0,top:0}:{left:b.pageX-j.left-f.width()/2,top:b.pageY-j.top-f.height()/2-(parseInt(f.css("borderTopWidth"),10)||0)-(parseInt(f.css("borderBottomWidth"),10)||0)+(parseInt(f.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(b,h,d),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(a){var b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b);return this._slide(a,this._handleIndex,c),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var b,c,d,e,f;return"horizontal"===this.orientation?(b=this.elementSize.width,c=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,c=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),d=c/b,d>1&&(d=1),0>d&&(d=0),"vertical"===this.orientation&&(d=1-d),e=this._valueMax()-this._valueMin(),f=this._valueMin()+d*e,this._trimAlignValue(f)},_start:function(a,b){var c={handle:this.handles[b],value:this.value()};return this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("start",a,c)},_slide:function(a,b,c){var d,e,f;this.options.values&&this.options.values.length?(d=this.values(b?0:1),2===this.options.values.length&&this.options.range===!0&&(0===b&&c>d||1===b&&d>c)&&(c=d),c!==this.values(b)&&(e=this.values(),e[b]=c,f=this._trigger("slide",a,{handle:this.handles[b],value:c,values:e}),d=this.values(b?0:1),f!==!1&&this.values(b,c,!0))):c!==this.value()&&(f=this._trigger("slide",a,{handle:this.handles[b],value:c}),f!==!1&&this.value(c))},_stop:function(a,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("stop",a,c)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("change",a,c)}},value:function(a){return arguments.length?(this.options.value=this._trimAlignValue(a),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(b,c){var d,e,f;if(arguments.length>1)this.options.values[b]=this._trimAlignValue(c),this._refreshValue(),this._change(null,b);else{if(!arguments.length)return this._values();if(!a.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(b):this.value();for(d=this.options.values,e=arguments[0],f=0;f<d.length;f+=1)d[f]=this._trimAlignValue(e[f]),this._change(null,f);this._refreshValue()}},_setOption:function(b,c){var d,e=0;switch(a.isArray(this.options.values)&&(e=this.options.values.length),a.Widget.prototype._setOption.apply(this,arguments),b){case"disabled":c?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.propAttr("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),d=0;e>d;d+=1)this._change(null,d);this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(a){var b,c,d;if(arguments.length)return b=this.options.values[a],b=this._trimAlignValue(b);for(c=this.options.values.slice(),d=0;d<c.length;d+=1)c[d]=this._trimAlignValue(c[d]);return c},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=this.options.step>0?this.options.step:1,c=(a-this._valueMin())%b,d=a-c;return 2*Math.abs(c)>=b&&(d+=c>0?b:-b),parseFloat(d.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var b,c,d,e,f,g=this.options.range,h=this.options,i=this,j=this._animateOff?!1:h.animate,k={};this.options.values&&this.options.values.length?this.handles.each(function(d){b=100*((i.values(d)-i._valueMin())/(i._valueMax()-i._valueMin())),k["horizontal"===i.orientation?"left":"bottom"]=b+"%",a(this).stop(1,1)[j?"animate":"css"](k,h.animate),i.options.range===!0&&("horizontal"===i.orientation?(0===d&&i.range.stop(1,1)[j?"animate":"css"]({left:b+"%"},h.animate),1===d&&i.range[j?"animate":"css"]({width:b-c+"%"},{queue:!1,duration:h.animate})):(0===d&&i.range.stop(1,1)[j?"animate":"css"]({bottom:b+"%"},h.animate),1===d&&i.range[j?"animate":"css"]({height:b-c+"%"},{queue:!1,duration:h.animate}))),c=b}):(d=this.value(),e=this._valueMin(),f=this._valueMax(),b=f!==e?100*((d-e)/(f-e)):0,k["horizontal"===i.orientation?"left":"bottom"]=b+"%",this.handle.stop(1,1)[j?"animate":"css"](k,h.animate),"min"===g&&"horizontal"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({width:b+"%"},h.animate),"max"===g&&"horizontal"===this.orientation&&this.range[j?"animate":"css"]({width:100-b+"%"},{queue:!1,duration:h.animate}),"min"===g&&"vertical"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({height:b+"%"},h.animate),"max"===g&&"vertical"===this.orientation&&this.range[j?"animate":"css"]({height:100-b+"%"},{queue:!1,duration:h.animate}))}}),a.extend(a.ui.slider,{version:"1.8.18"})}(jQuery),/*
 * jQuery UI Tabs 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Tabs
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
function(a,b){function c(){return++f}function d(){return++e}var e=0,f=0;a.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(!0)},_setOption:function(a,b){if("selected"==a){if(this.options.collapsible&&b==this.options.selected)return;this.select(b)}else this.options[a]=b,this._tabify()},_tabId:function(a){return a.title&&a.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+d()},_sanitizeSelector:function(a){return a.replace(/:/g,"\\:")},_cookie:function(){var b=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+c());return a.cookie.apply(null,[b].concat(a.makeArray(arguments)))},_ui:function(a,b){return{tab:a,panel:b,index:this.anchors.index(a)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var b=a(this);b.html(b.data("label.tabs")).removeData("label.tabs")})},_tabify:function(c){function d(b,c){b.css("display",""),!a.support.opacity&&c.opacity&&b[0].style.removeAttribute("filter")}var e=this,f=this.options,g=/^#.+/;this.list=this.element.find("ol,ul").eq(0),this.lis=a(" > li:has(a[href])",this.list),this.anchors=this.lis.map(function(){return a("a",this)[0]}),this.panels=a([]),this.anchors.each(function(b,c){var d,h=a(c).attr("href"),i=h.split("#")[0];if(i&&(i===location.toString().split("#")[0]||(d=a("base")[0])&&i===d.href)&&(h=c.hash,c.href=h),g.test(h))e.panels=e.panels.add(e.element.find(e._sanitizeSelector(h)));else if(h&&"#"!==h){a.data(c,"href.tabs",h),a.data(c,"load.tabs",h.replace(/#.*$/,""));var j=e._tabId(c);c.href="#"+j;var k=e.element.find("#"+j);k.length||(k=a(f.panelTemplate).attr("id",j).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(e.panels[b-1]||e.list),k.data("destroy.tabs",!0)),e.panels=e.panels.add(k)}else f.disabled.push(b)}),c?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),f.selected===b?(location.hash&&this.anchors.each(function(a,b){return b.hash==location.hash?(f.selected=a,!1):void 0}),"number"!=typeof f.selected&&f.cookie&&(f.selected=parseInt(e._cookie(),10)),"number"!=typeof f.selected&&this.lis.filter(".ui-tabs-selected").length&&(f.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))),f.selected=f.selected||(this.lis.length?0:-1)):null===f.selected&&(f.selected=-1),f.selected=f.selected>=0&&this.anchors[f.selected]||f.selected<0?f.selected:0,f.disabled=a.unique(f.disabled.concat(a.map(this.lis.filter(".ui-state-disabled"),function(a){return e.lis.index(a)}))).sort(),-1!=a.inArray(f.selected,f.disabled)&&f.disabled.splice(a.inArray(f.selected,f.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),f.selected>=0&&this.anchors.length&&(e.element.find(e._sanitizeSelector(e.anchors[f.selected].hash)).removeClass("ui-tabs-hide"),this.lis.eq(f.selected).addClass("ui-tabs-selected ui-state-active"),e.element.queue("tabs",function(){e._trigger("show",null,e._ui(e.anchors[f.selected],e.element.find(e._sanitizeSelector(e.anchors[f.selected].hash))[0]))}),this.load(f.selected)),a(window).bind("unload",function(){e.lis.add(e.anchors).unbind(".tabs"),e.lis=e.anchors=e.panels=null})):f.selected=this.lis.index(this.lis.filter(".ui-tabs-selected")),this.element[f.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible"),f.cookie&&this._cookie(f.selected,f.cookie);for(var h,i=0;h=this.lis[i];i++)a(h)[-1==a.inArray(i,f.disabled)||a(h).hasClass("ui-tabs-selected")?"removeClass":"addClass"]("ui-state-disabled");if(f.cache===!1&&this.anchors.removeData("cache.tabs"),this.lis.add(this.anchors).unbind(".tabs"),"mouseover"!==f.event){var j=function(a,b){b.is(":not(.ui-state-disabled)")&&b.addClass("ui-state-"+a)},k=function(a,b){b.removeClass("ui-state-"+a)};this.lis.bind("mouseover.tabs",function(){j("hover",a(this))}),this.lis.bind("mouseout.tabs",function(){k("hover",a(this))}),this.anchors.bind("focus.tabs",function(){j("focus",a(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){k("focus",a(this).closest("li"))})}var l,m;f.fx&&(a.isArray(f.fx)?(l=f.fx[0],m=f.fx[1]):l=m=f.fx);var n=m?function(b,c){a(b).closest("li").addClass("ui-tabs-selected ui-state-active"),c.hide().removeClass("ui-tabs-hide").animate(m,m.duration||"normal",function(){d(c,m),e._trigger("show",null,e._ui(b,c[0]))})}:function(b,c){a(b).closest("li").addClass("ui-tabs-selected ui-state-active"),c.removeClass("ui-tabs-hide"),e._trigger("show",null,e._ui(b,c[0]))},o=l?function(a,b){b.animate(l,l.duration||"normal",function(){e.lis.removeClass("ui-tabs-selected ui-state-active"),b.addClass("ui-tabs-hide"),d(b,l),e.element.dequeue("tabs")})}:function(a,b){e.lis.removeClass("ui-tabs-selected ui-state-active"),b.addClass("ui-tabs-hide"),e.element.dequeue("tabs")};this.anchors.bind(f.event+".tabs",function(){var b=this,c=a(b).closest("li"),d=e.panels.filter(":not(.ui-tabs-hide)"),g=e.element.find(e._sanitizeSelector(b.hash));if(c.hasClass("ui-tabs-selected")&&!f.collapsible||c.hasClass("ui-state-disabled")||c.hasClass("ui-state-processing")||e.panels.filter(":animated").length||e._trigger("select",null,e._ui(this,g[0]))===!1)return this.blur(),!1;if(f.selected=e.anchors.index(this),e.abort(),f.collapsible){if(c.hasClass("ui-tabs-selected"))return f.selected=-1,f.cookie&&e._cookie(f.selected,f.cookie),e.element.queue("tabs",function(){o(b,d)}).dequeue("tabs"),this.blur(),!1;if(!d.length)return f.cookie&&e._cookie(f.selected,f.cookie),e.element.queue("tabs",function(){n(b,g)}),e.load(e.anchors.index(this)),this.blur(),!1}if(f.cookie&&e._cookie(f.selected,f.cookie),!g.length)throw"jQuery UI Tabs: Mismatching fragment identifier.";d.length&&e.element.queue("tabs",function(){o(b,d)}),e.element.queue("tabs",function(){n(b,g)}),e.load(e.anchors.index(this)),a.browser.msie&&this.blur()}),this.anchors.bind("click.tabs",function(){return!1})},_getIndex:function(a){return"string"==typeof a&&(a=this.anchors.index(this.anchors.filter("[href$="+a+"]"))),a},destroy:function(){var b=this.options;return this.abort(),this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs"),this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.anchors.each(function(){var b=a.data(this,"href.tabs");b&&(this.href=b);var c=a(this).unbind(".tabs");a.each(["href","load","cache"],function(a,b){c.removeData(b+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(){a.data(this,"destroy.tabs")?a(this).remove():a(this).removeClass(["ui-state-default","ui-corner-top","ui-tabs-selected","ui-state-active","ui-state-hover","ui-state-focus","ui-state-disabled","ui-tabs-panel","ui-widget-content","ui-corner-bottom","ui-tabs-hide"].join(" "))}),b.cookie&&this._cookie(null,b.cookie),this},add:function(c,d,e){e===b&&(e=this.anchors.length);var f=this,g=this.options,h=a(g.tabTemplate.replace(/#\{href\}/g,c).replace(/#\{label\}/g,d)),i=c.indexOf("#")?this._tabId(a("a",h)[0]):c.replace("#","");h.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0);var j=f.element.find("#"+i);return j.length||(j=a(g.panelTemplate).attr("id",i).data("destroy.tabs",!0)),j.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"),e>=this.lis.length?(h.appendTo(this.list),j.appendTo(this.list[0].parentNode)):(h.insertBefore(this.lis[e]),j.insertBefore(this.panels[e])),g.disabled=a.map(g.disabled,function(a){return a>=e?++a:a}),this._tabify(),1==this.anchors.length&&(g.selected=0,h.addClass("ui-tabs-selected ui-state-active"),j.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){f._trigger("show",null,f._ui(f.anchors[0],f.panels[0]))}),this.load(0)),this._trigger("add",null,this._ui(this.anchors[e],this.panels[e])),this},remove:function(b){b=this._getIndex(b);var c=this.options,d=this.lis.eq(b).remove(),e=this.panels.eq(b).remove();return d.hasClass("ui-tabs-selected")&&this.anchors.length>1&&this.select(b+(b+1<this.anchors.length?1:-1)),c.disabled=a.map(a.grep(c.disabled,function(a){return a!=b}),function(a){return a>=b?--a:a}),this._tabify(),this._trigger("remove",null,this._ui(d.find("a")[0],e[0])),this},enable:function(b){b=this._getIndex(b);var c=this.options;return-1!=a.inArray(b,c.disabled)?(this.lis.eq(b).removeClass("ui-state-disabled"),c.disabled=a.grep(c.disabled,function(a){return a!=b}),this._trigger("enable",null,this._ui(this.anchors[b],this.panels[b])),this):void 0},disable:function(a){a=this._getIndex(a);var b=this.options;return a!=b.selected&&(this.lis.eq(a).addClass("ui-state-disabled"),b.disabled.push(a),b.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[a],this.panels[a]))),this},select:function(a){if(a=this._getIndex(a),-1==a){if(!this.options.collapsible||-1==this.options.selected)return this;a=this.options.selected}return this.anchors.eq(a).trigger(this.options.event+".tabs"),this},load:function(b){b=this._getIndex(b);var c=this,d=this.options,e=this.anchors.eq(b)[0],f=a.data(e,"load.tabs");if(this.abort(),f&&(0===this.element.queue("tabs").length||!a.data(e,"cache.tabs"))){if(this.lis.eq(b).addClass("ui-state-processing"),d.spinner){var g=a("span",e);g.data("label.tabs",g.html()).html(d.spinner)}return this.xhr=a.ajax(a.extend({},d.ajaxOptions,{url:f,success:function(f,g){c.element.find(c._sanitizeSelector(e.hash)).html(f),c._cleanup(),d.cache&&a.data(e,"cache.tabs",!0),c._trigger("load",null,c._ui(c.anchors[b],c.panels[b]));try{d.ajaxOptions.success(f,g)}catch(h){}},error:function(a,f){c._cleanup(),c._trigger("load",null,c._ui(c.anchors[b],c.panels[b]));try{d.ajaxOptions.error(a,f,b,e)}catch(g){}}})),c.element.dequeue("tabs"),this}this.element.dequeue("tabs")},abort:function(){return this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup(),this},url:function(a,b){return this.anchors.eq(a).removeData("cache.tabs").data("load.tabs",b),this},length:function(){return this.anchors.length}}),a.extend(a.ui.tabs,{version:"1.8.18"}),a.extend(a.ui.tabs.prototype,{rotation:null,rotate:function(a,b){var c=this,d=this.options,e=c._rotate||(c._rotate=function(b){clearTimeout(c.rotation),c.rotation=setTimeout(function(){var a=d.selected;c.select(++a<c.anchors.length?a:0)},a),b&&b.stopPropagation()}),f=c._unrotate||(c._unrotate=b?function(){t=d.selected,e()}:function(a){a.clientX&&c.rotate(null)});return a?(this.element.bind("tabsshow",e),this.anchors.bind(d.event+".tabs",f),e()):(clearTimeout(c.rotation),this.element.unbind("tabsshow",e),this.anchors.unbind(d.event+".tabs",f),delete this._rotate,delete this._unrotate),this}})}(jQuery),/*
 * jQuery UI Datepicker 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Datepicker
 *
 * Depends:
 *	jquery.ui.core.js
 */
function($,undefined){function isArray(a){return a&&($.browser.safari&&"object"==typeof a&&a.length||a.constructor&&a.constructor.toString().match(/\Array\(\)/))}function extendRemove(a,b){$.extend(a,b);for(var c in b)(null==b[c]||b[c]==undefined)&&(a[c]=b[c]);return a}function bindHover(a){var b="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return a.bind("mouseout",function(a){var c=$(a.target).closest(b);!c.length||c.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(c){var d=$(c.target).closest(b);!$.datepicker._isDisabledDatepicker(instActive.inline?a.parent()[0]:instActive.input[0])&&!!d.length&&(d.parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),d.addClass("ui-state-hover"),d.hasClass("ui-datepicker-prev")&&d.addClass("ui-datepicker-prev-hover"),d.hasClass("ui-datepicker-next")&&d.addClass("ui-datepicker-next-hover"))})}function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}$.extend($.ui,{datepicker:{version:"1.8.18"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return extendRemove(this._defaults,a||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline="div"==nodeName||"span"==nodeName;target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),"input"==nodeName?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(a,b){var c=a[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:c,input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,dpDiv:b?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(a,b){var c=$(a);b.append=$([]),b.trigger=$([]),c.hasClass(this.markerClassName)||(this._attachments(c,b),c.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),this._autoSize(b),$.data(a,PROP_NAME,b),b.settings.disabled&&this._disableDatepicker(a))},_attachments:function(a,b){var c=this._get(b,"appendText"),d=this._get(b,"isRTL");b.append&&b.append.remove(),c&&(b.append=$('<span class="'+this._appendClass+'">'+c+"</span>"),a[d?"before":"after"](b.append)),a.unbind("focus",this._showDatepicker),b.trigger&&b.trigger.remove();var e=this._get(b,"showOn");if(("focus"==e||"both"==e)&&a.focus(this._showDatepicker),"button"==e||"both"==e){var f=this._get(b,"buttonText"),g=this._get(b,"buttonImage");b.trigger=$(this._get(b,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:g,alt:f,title:f}):$('<button type="button"></button>').addClass(this._triggerClass).html(""==g?f:$("<img/>").attr({src:g,alt:f,title:f}))),a[d?"before":"after"](b.trigger),b.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==a[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=a[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(a[0])):$.datepicker._showDatepicker(a[0]),!1})}},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b=new Date(2009,11,20),c=this._get(a,"dateFormat");if(c.match(/[DM]/)){var d=function(a){for(var b=0,c=0,d=0;d<a.length;d++)a[d].length>b&&(b=a[d].length,c=d);return c};b.setMonth(d(this._get(a,c.match(/MM/)?"monthNames":"monthNamesShort"))),b.setDate(d(this._get(a,c.match(/DD/)?"dayNames":"dayNamesShort"))+20-b.getDay())}a.input.attr("size",this._formatDate(a,b).length)}},_inlineDatepicker:function(a,b){var c=$(a);c.hasClass(this.markerClassName)||(c.addClass(this.markerClassName).append(b.dpDiv).bind("setData.datepicker",function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),$.data(a,PROP_NAME,b),this._setDate(b,this._getDefaultDate(b),!0),this._updateDatepicker(b),this._updateAlternate(b),b.settings.disabled&&this._disableDatepicker(a),b.dpDiv.css("display","block"))},_dialogDatepicker:function(a,b,c,d,e){var f=this._dialogInst;if(!f){this.uuid+=1;var g="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+g+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),f=this._dialogInst=this._newInst(this._dialogInput,!1),f.settings={},$.data(this._dialogInput[0],PROP_NAME,f)}if(extendRemove(f.settings,d||{}),b=b&&b.constructor==Date?this._formatDate(f,b):b,this._dialogInput.val(b),this._pos=e?e.length?e:[e.pageX,e.pageY]:null,!this._pos){var h=document.documentElement.clientWidth,i=document.documentElement.clientHeight,j=document.documentElement.scrollLeft||document.body.scrollLeft,k=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[h/2-100+j,i/2-150+k]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),f.settings.onSelect=c,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,f),this},_destroyDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(b.hasClass(this.markerClassName)){var d=a.nodeName.toLowerCase();$.removeData(a,PROP_NAME),"input"==d?(c.append.remove(),c.trigger.remove(),b.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"==d||"span"==d)&&b.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(b.hasClass(this.markerClassName)){var d=a.nodeName.toLowerCase();if("input"==d)a.disabled=!1,c.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"==d||"span"==d){var e=b.children("."+this._inlineClass);e.children().removeClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled")}this._disabledInputs=$.map(this._disabledInputs,function(b){return b==a?null:b})}},_disableDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(b.hasClass(this.markerClassName)){var d=a.nodeName.toLowerCase();if("input"==d)a.disabled=!0,c.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"==d||"span"==d){var e=b.children("."+this._inlineClass);e.children().addClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled")}this._disabledInputs=$.map(this._disabledInputs,function(b){return b==a?null:b}),this._disabledInputs[this._disabledInputs.length]=a}},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]==a)return!0;return!1},_getInst:function(a){try{return $.data(a,PROP_NAME)}catch(b){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(a,b,c){var d=this._getInst(a);if(2==arguments.length&&"string"==typeof b)return"defaults"==b?$.extend({},$.datepicker._defaults):d?"all"==b?$.extend({},d.settings):this._get(d,b):null;var e=b||{};if("string"==typeof b&&(e={},e[b]=c),d){this._curInst==d&&this._hideDatepicker();var f=this._getDateDatepicker(a,!0),g=this._getMinMaxDate(d,"min"),h=this._getMinMaxDate(d,"max");extendRemove(d.settings,e),null!==g&&e.dateFormat!==undefined&&e.minDate===undefined&&(d.settings.minDate=this._formatDate(d,g)),null!==h&&e.dateFormat!==undefined&&e.maxDate===undefined&&(d.settings.maxDate=this._formatDate(d,h)),this._attachments($(a),d),this._autoSize(d),this._setDate(d,f),this._updateAlternate(d),this._updateDatepicker(d)}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){var b=this._getInst(a);b&&this._updateDatepicker(b)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=this._getInst(a);return c&&!c.inline&&this._setDateFromField(c,b),c?this._getDate(c):null},_doKeyDown:function(a){var b=$.datepicker._getInst(a.target),c=!0,d=b.dpDiv.is(".ui-datepicker-rtl");if(b._keyEvent=!0,$.datepicker._datepickerShowing)switch(a.keyCode){case 9:$.datepicker._hideDatepicker(),c=!1;break;case 13:var e=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",b.dpDiv);e[0]&&$.datepicker._selectDay(a.target,b.selectedMonth,b.selectedYear,e[0]);var f=$.datepicker._get(b,"onSelect");if(f){var g=$.datepicker._formatDate(b);f.apply(b.input?b.input[0]:null,[g,b])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(a.target,a.ctrlKey?-$.datepicker._get(b,"stepBigMonths"):-$.datepicker._get(b,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(a.target,a.ctrlKey?+$.datepicker._get(b,"stepBigMonths"):+$.datepicker._get(b,"stepMonths"),"M");break;case 35:(a.ctrlKey||a.metaKey)&&$.datepicker._clearDate(a.target),c=a.ctrlKey||a.metaKey;break;case 36:(a.ctrlKey||a.metaKey)&&$.datepicker._gotoToday(a.target),c=a.ctrlKey||a.metaKey;break;case 37:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,d?1:-1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&$.datepicker._adjustDate(a.target,a.ctrlKey?-$.datepicker._get(b,"stepBigMonths"):-$.datepicker._get(b,"stepMonths"),"M");break;case 38:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,-7,"D"),c=a.ctrlKey||a.metaKey;break;case 39:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,d?-1:1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&$.datepicker._adjustDate(a.target,a.ctrlKey?+$.datepicker._get(b,"stepBigMonths"):+$.datepicker._get(b,"stepMonths"),"M");break;case 40:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,7,"D"),c=a.ctrlKey||a.metaKey;break;default:c=!1}else 36==a.keyCode&&a.ctrlKey?$.datepicker._showDatepicker(this):c=!1;c&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var b=$.datepicker._getInst(a.target);if($.datepicker._get(b,"constrainInput")){var c=$.datepicker._possibleChars($.datepicker._get(b,"dateFormat")),d=String.fromCharCode(a.charCode==undefined?a.keyCode:a.charCode);return a.ctrlKey||a.metaKey||" ">d||!c||c.indexOf(d)>-1}},_doKeyUp:function(a){var b=$.datepicker._getInst(a.target);if(b.input.val()!=b.lastVal)try{var c=$.datepicker.parseDate($.datepicker._get(b,"dateFormat"),b.input?b.input.val():null,$.datepicker._getFormatConfig(b));c&&($.datepicker._setDateFromField(b),$.datepicker._updateAlternate(b),$.datepicker._updateDatepicker(b))}catch(a){$.datepicker.log(a)}return!0},_showDatepicker:function(a){if(a=a.target||a,"input"!=a.nodeName.toLowerCase()&&(a=$("input",a.parentNode)[0]),!$.datepicker._isDisabledDatepicker(a)&&$.datepicker._lastInput!=a){var b=$.datepicker._getInst(a);$.datepicker._curInst&&$.datepicker._curInst!=b&&($.datepicker._curInst.dpDiv.stop(!0,!0),b&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var c=$.datepicker._get(b,"beforeShow"),d=c?c.apply(a,[a,b]):{};if(d===!1)return;extendRemove(b.settings,d),b.lastVal=null,$.datepicker._lastInput=a,$.datepicker._setDateFromField(b),$.datepicker._inDialog&&(a.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(a),$.datepicker._pos[1]+=a.offsetHeight);var e=!1;$(a).parents().each(function(){return e|="fixed"==$(this).css("position"),!e}),e&&$.browser.opera&&($.datepicker._pos[0]-=document.documentElement.scrollLeft,$.datepicker._pos[1]-=document.documentElement.scrollTop);var f={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};if($.datepicker._pos=null,b.dpDiv.empty(),b.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(b),f=$.datepicker._checkOffset(b,f,e),b.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":e?"fixed":"absolute",display:"none",left:f.left+"px",top:f.top+"px"}),!b.inline){var g=$.datepicker._get(b,"showAnim"),h=$.datepicker._get(b,"duration"),i=function(){var a=b.dpDiv.find("iframe.ui-datepicker-cover");if(a.length){var c=$.datepicker._getBorders(b.dpDiv);a.css({left:-c[0],top:-c[1],width:b.dpDiv.outerWidth(),height:b.dpDiv.outerHeight()})}};b.dpDiv.zIndex($(a).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&$.effects[g]?b.dpDiv.show(g,$.datepicker._get(b,"showOptions"),h,i):b.dpDiv[g||"show"](g?h:null,i),(!g||!h)&&i(),b.input.is(":visible")&&!b.input.is(":disabled")&&b.input.focus(),$.datepicker._curInst=b}}},_updateDatepicker:function(a){var b=this;b.maxRows=4;var c=$.datepicker._getBorders(a.dpDiv);instActive=a,a.dpDiv.empty().append(this._generateHTML(a));var d=a.dpDiv.find("iframe.ui-datepicker-cover");!d.length||d.css({left:-c[0],top:-c[1],width:a.dpDiv.outerWidth(),height:a.dpDiv.outerHeight()}),a.dpDiv.find("."+this._dayOverClass+" a").mouseover();var e=this._getNumberOfMonths(a),f=e[1],g=17;if(a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),f>1&&a.dpDiv.addClass("ui-datepicker-multi-"+f).css("width",g*f+"em"),a.dpDiv[(1!=e[0]||1!=e[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),a==$.datepicker._curInst&&$.datepicker._datepickerShowing&&a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&a.input[0]!=document.activeElement&&a.input.focus(),a.yearshtml){var h=a.yearshtml;setTimeout(function(){h===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml),h=a.yearshtml=null},0)}},_getBorders:function(a){var b=function(a){return{thin:1,medium:2,thick:3}[a]||a};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(a,b,c){var d=a.dpDiv.outerWidth(),e=a.dpDiv.outerHeight(),f=a.input?a.input.outerWidth():0,g=a.input?a.input.outerHeight():0,h=document.documentElement.clientWidth+$(document).scrollLeft(),i=document.documentElement.clientHeight+$(document).scrollTop();return b.left-=this._get(a,"isRTL")?d-f:0,b.left-=c&&b.left==a.input.offset().left?$(document).scrollLeft():0,b.top-=c&&b.top==a.input.offset().top+g?$(document).scrollTop():0,b.left-=Math.min(b.left,b.left+d>h&&h>d?Math.abs(b.left+d-h):0),b.top-=Math.min(b.top,b.top+e>i&&i>e?Math.abs(e+g):0),b},_findPos:function(a){for(var b=this._getInst(a),c=this._get(b,"isRTL");a&&("hidden"==a.type||1!=a.nodeType||$.expr.filters.hidden(a));)a=a[c?"previousSibling":"nextSibling"];var d=$(a).offset();return[d.left,d.top]},_hideDatepicker:function(a){var b=this._curInst;if(b&&(!a||b==$.data(a,PROP_NAME))&&this._datepickerShowing){var c=this._get(b,"showAnim"),d=this._get(b,"duration"),e=this,f=function(){$.datepicker._tidyDialog(b),e._curInst=null};$.effects&&$.effects[c]?b.dpDiv.hide(c,$.datepicker._get(b,"showOptions"),d,f):b.dpDiv["slideDown"==c?"slideUp":"fadeIn"==c?"fadeOut":"hide"](c?d:null,f),c||f(),this._datepickerShowing=!1;var g=this._get(b,"onClose");g&&g.apply(b.input?b.input[0]:null,[b.input?b.input.val():"",b]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(a){if($.datepicker._curInst){var b=$(a.target),c=$.datepicker._getInst(b[0]);(b[0].id!=$.datepicker._mainDivId&&0==b.parents("#"+$.datepicker._mainDivId).length&&!b.hasClass($.datepicker.markerClassName)&&!b.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||b.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=c)&&$.datepicker._hideDatepicker()}},_adjustDate:function(a,b,c){var d=$(a),e=this._getInst(d[0]);this._isDisabledDatepicker(d[0])||(this._adjustInstDate(e,b+("M"==c?this._get(e,"showCurrentAtPos"):0),c),this._updateDatepicker(e))},_gotoToday:function(a){var b=$(a),c=this._getInst(b[0]);if(this._get(c,"gotoCurrent")&&c.currentDay)c.selectedDay=c.currentDay,c.drawMonth=c.selectedMonth=c.currentMonth,c.drawYear=c.selectedYear=c.currentYear;else{var d=new Date;c.selectedDay=d.getDate(),c.drawMonth=c.selectedMonth=d.getMonth(),c.drawYear=c.selectedYear=d.getFullYear()}this._notifyChange(c),this._adjustDate(b)},_selectMonthYear:function(a,b,c){var d=$(a),e=this._getInst(d[0]);e["selected"+("M"==c?"Month":"Year")]=e["draw"+("M"==c?"Month":"Year")]=parseInt(b.options[b.selectedIndex].value,10),this._notifyChange(e),this._adjustDate(d)},_selectDay:function(a,b,c,d){var e=$(a);if(!$(d).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(e[0])){var f=this._getInst(e[0]);f.selectedDay=f.currentDay=$("a",d).html(),f.selectedMonth=f.currentMonth=b,f.selectedYear=f.currentYear=c,this._selectDate(a,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear))}},_clearDate:function(a){{var b=$(a);this._getInst(b[0])}this._selectDate(b,"")},_selectDate:function(a,b){var c=$(a),d=this._getInst(c[0]);b=null!=b?b:this._formatDate(d),d.input&&d.input.val(b),this._updateAlternate(d);var e=this._get(d,"onSelect");e?e.apply(d.input?d.input[0]:null,[b,d]):d.input&&d.input.trigger("change"),d.inline?this._updateDatepicker(d):(this._hideDatepicker(),this._lastInput=d.input[0],"object"!=typeof d.input[0]&&d.input.focus(),this._lastInput=null)},_updateAlternate:function(a){var b=this._get(a,"altField");if(b){var c=this._get(a,"altFormat")||this._get(a,"dateFormat"),d=this._getDate(a),e=this.formatDate(c,d,this._getFormatConfig(a));$(b).each(function(){$(this).val(e)})}},noWeekends:function(a){var b=a.getDay();return[b>0&&6>b,""]},iso8601Week:function(a){var b=new Date(a.getTime());b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1},parseDate:function(a,b,c){if(null==a||null==b)throw"Invalid arguments";if(b="object"==typeof b?b.toString():b+"",""==b)return null;var d=(c?c.shortYearCutoff:null)||this._defaults.shortYearCutoff;d="string"!=typeof d?d:(new Date).getFullYear()%100+parseInt(d,10);for(var e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,g=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,h=(c?c.monthNames:null)||this._defaults.monthNames,i=-1,j=-1,k=-1,l=-1,m=!1,n=function(b){var c=s+1<a.length&&a.charAt(s+1)==b;return c&&s++,c},o=function(a){var c=n(a),d="@"==a?14:"!"==a?20:"y"==a&&c?4:"o"==a?3:2,e=new RegExp("^\\d{1,"+d+"}"),f=b.substring(r).match(e);if(!f)throw"Missing number at position "+r;return r+=f[0].length,parseInt(f[0],10)},p=function(a,c,d){var e=$.map(n(a)?d:c,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)}),f=-1;if($.each(e,function(a,c){var d=c[1];return b.substr(r,d.length).toLowerCase()==d.toLowerCase()?(f=c[0],r+=d.length,!1):void 0}),-1!=f)return f+1;throw"Unknown name at position "+r},q=function(){if(b.charAt(r)!=a.charAt(s))throw"Unexpected literal at position "+r;r++},r=0,s=0;s<a.length;s++)if(m)"'"!=a.charAt(s)||n("'")?q():m=!1;else switch(a.charAt(s)){case"d":k=o("d");break;case"D":p("D",e,f);break;case"o":l=o("o");break;case"m":j=o("m");break;case"M":j=p("M",g,h);break;case"y":i=o("y");break;case"@":var t=new Date(o("@"));i=t.getFullYear(),j=t.getMonth()+1,k=t.getDate();break;case"!":var t=new Date((o("!")-this._ticksTo1970)/1e4);i=t.getFullYear(),j=t.getMonth()+1,k=t.getDate();break;case"'":n("'")?q():m=!0;break;default:q()}if(r<b.length)throw"Extra/unparsed characters found in date: "+b.substring(r);if(-1==i?i=(new Date).getFullYear():100>i&&(i+=(new Date).getFullYear()-(new Date).getFullYear()%100+(d>=i?0:-100)),l>-1)for(j=1,k=l;;){var u=this._getDaysInMonth(i,j-1);if(u>=k)break;j++,k-=u}var t=this._daylightSavingAdjust(new Date(i,j-1,k));if(t.getFullYear()!=i||t.getMonth()+1!=j||t.getDate()!=k)throw"Invalid date";return t},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(a,b,c){if(!b)return"";var d=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,e=(c?c.dayNames:null)||this._defaults.dayNames,f=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,g=(c?c.monthNames:null)||this._defaults.monthNames,h=function(b){var c=m+1<a.length&&a.charAt(m+1)==b;return c&&m++,c},i=function(a,b,c){var d=""+b;if(h(a))for(;d.length<c;)d="0"+d;return d},j=function(a,b,c,d){return h(a)?d[b]:c[b]},k="",l=!1;if(b)for(var m=0;m<a.length;m++)if(l)"'"!=a.charAt(m)||h("'")?k+=a.charAt(m):l=!1;else switch(a.charAt(m)){case"d":k+=i("d",b.getDate(),2);break;case"D":k+=j("D",b.getDay(),d,e);break;case"o":k+=i("o",Math.round((new Date(b.getFullYear(),b.getMonth(),b.getDate()).getTime()-new Date(b.getFullYear(),0,0).getTime())/864e5),3);break;case"m":k+=i("m",b.getMonth()+1,2);break;case"M":k+=j("M",b.getMonth(),f,g);break;case"y":k+=h("y")?b.getFullYear():(b.getYear()%100<10?"0":"")+b.getYear()%100;break;case"@":k+=b.getTime();break;case"!":k+=1e4*b.getTime()+this._ticksTo1970;break;case"'":h("'")?k+="'":l=!0;break;default:k+=a.charAt(m)}return k},_possibleChars:function(a){for(var b="",c=!1,d=function(b){var c=e+1<a.length&&a.charAt(e+1)==b;return c&&e++,c},e=0;e<a.length;e++)if(c)"'"!=a.charAt(e)||d("'")?b+=a.charAt(e):c=!1;else switch(a.charAt(e)){case"d":case"m":case"y":case"@":b+="0123456789";break;case"D":case"M":return null;case"'":d("'")?b+="'":c=!0;break;default:b+=a.charAt(e)}return b},_get:function(a,b){return a.settings[b]!==undefined?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!=a.lastVal){var c,d,e=this._get(a,"dateFormat"),f=a.lastVal=a.input?a.input.val():null;c=d=this._getDefaultDate(a);var g=this._getFormatConfig(a);try{c=this.parseDate(e,f,g)||d}catch(h){this.log(h),f=b?"":f}a.selectedDay=c.getDate(),a.drawMonth=a.selectedMonth=c.getMonth(),a.drawYear=a.selectedYear=c.getFullYear(),a.currentDay=f?c.getDate():0,a.currentMonth=f?c.getMonth():0,a.currentYear=f?c.getFullYear():0,this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,b,c){var d=function(a){var b=new Date;return b.setDate(b.getDate()+a),b},e=function(b){try{return $.datepicker.parseDate($.datepicker._get(a,"dateFormat"),b,$.datepicker._getFormatConfig(a))}catch(c){}for(var d=(b.toLowerCase().match(/^c/)?$.datepicker._getDate(a):null)||new Date,e=d.getFullYear(),f=d.getMonth(),g=d.getDate(),h=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,i=h.exec(b);i;){switch(i[2]||"d"){case"d":case"D":g+=parseInt(i[1],10);break;case"w":case"W":g+=7*parseInt(i[1],10);break;case"m":case"M":f+=parseInt(i[1],10),g=Math.min(g,$.datepicker._getDaysInMonth(e,f));break;case"y":case"Y":e+=parseInt(i[1],10),g=Math.min(g,$.datepicker._getDaysInMonth(e,f))}i=h.exec(b)}return new Date(e,f,g)},f=null==b||""===b?c:"string"==typeof b?e(b):"number"==typeof b?isNaN(b)?c:d(b):new Date(b.getTime());return f=f&&"Invalid Date"==f.toString()?c:f,f&&(f.setHours(0),f.setMinutes(0),f.setSeconds(0),f.setMilliseconds(0)),this._daylightSavingAdjust(f)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(a,b,c){var d=!b,e=a.selectedMonth,f=a.selectedYear,g=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=g.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=g.getMonth(),a.drawYear=a.selectedYear=a.currentYear=g.getFullYear(),(e!=a.selectedMonth||f!=a.selectedYear)&&!c&&this._notifyChange(a),this._adjustInstDate(a),a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){var b=!a.currentYear||a.input&&""==a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return b},_generateHTML:function(a){var b=new Date;b=this._daylightSavingAdjust(new Date(b.getFullYear(),b.getMonth(),b.getDate()));var c=this._get(a,"isRTL"),d=this._get(a,"showButtonPanel"),e=this._get(a,"hideIfNoPrevNext"),f=this._get(a,"navigationAsDateFormat"),g=this._getNumberOfMonths(a),h=this._get(a,"showCurrentAtPos"),i=this._get(a,"stepMonths"),j=1!=g[0]||1!=g[1],k=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),l=this._getMinMaxDate(a,"min"),m=this._getMinMaxDate(a,"max"),n=a.drawMonth-h,o=a.drawYear;if(0>n&&(n+=12,o--),m){var p=this._daylightSavingAdjust(new Date(m.getFullYear(),m.getMonth()-g[0]*g[1]+1,m.getDate()));for(p=l&&l>p?l:p;this._daylightSavingAdjust(new Date(o,n,1))>p;)n--,0>n&&(n=11,o--)}a.drawMonth=n,a.drawYear=o;var q=this._get(a,"prevText");q=f?this.formatDate(q,this._daylightSavingAdjust(new Date(o,n-i,1)),this._getFormatConfig(a)):q;var r=this._canAdjustMonth(a,-1,o,n)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+a.id+"', -"+i+", 'M');\" title=\""+q+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+q+"</span></a>":e?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+q+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+q+"</span></a>",s=this._get(a,"nextText");s=f?this.formatDate(s,this._daylightSavingAdjust(new Date(o,n+i,1)),this._getFormatConfig(a)):s;var t=this._canAdjustMonth(a,1,o,n)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+a.id+"', +"+i+", 'M');\" title=\""+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>":e?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>",u=this._get(a,"currentText"),v=this._get(a,"gotoCurrent")&&a.currentDay?k:b;u=f?this.formatDate(u,v,this._getFormatConfig(a)):u;var w=a.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+dpuuid+'.datepicker._hideDatepicker();">'+this._get(a,"closeText")+"</button>",x=d?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(c?w:"")+(this._isInRange(a,v)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._gotoToday('#"+a.id+"');\">"+u+"</button>":"")+(c?"":w)+"</div>":"",y=parseInt(this._get(a,"firstDay"),10);y=isNaN(y)?0:y;for(var z=this._get(a,"showWeek"),A=this._get(a,"dayNames"),B=(this._get(a,"dayNamesShort"),this._get(a,"dayNamesMin")),C=this._get(a,"monthNames"),D=this._get(a,"monthNamesShort"),E=this._get(a,"beforeShowDay"),F=this._get(a,"showOtherMonths"),G=this._get(a,"selectOtherMonths"),H=(this._get(a,"calculateWeek")||this.iso8601Week,this._getDefaultDate(a)),I="",J=0;J<g[0];J++){var K="";this.maxRows=4;for(var L=0;L<g[1];L++){var M=this._daylightSavingAdjust(new Date(o,n,a.selectedDay)),N=" ui-corner-all",O="";if(j){if(O+='<div class="ui-datepicker-group',g[1]>1)switch(L){case 0:O+=" ui-datepicker-group-first",N=" ui-corner-"+(c?"right":"left");break;case g[1]-1:O+=" ui-datepicker-group-last",N=" ui-corner-"+(c?"left":"right");break;default:O+=" ui-datepicker-group-middle",N=""}O+='">'}O+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+N+'">'+(/all|left/.test(N)&&0==J?c?t:r:"")+(/all|right/.test(N)&&0==J?c?r:t:"")+this._generateMonthYearHeader(a,n,o,l,m,J>0||L>0,C,D)+'</div><table class="ui-datepicker-calendar"><thead><tr>';for(var P=z?'<th class="ui-datepicker-week-col">'+this._get(a,"weekHeader")+"</th>":"",Q=0;7>Q;Q++){var R=(Q+y)%7;P+="<th"+((Q+y+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+A[R]+'">'+B[R]+"</span></th>"}O+=P+"</tr></thead><tbody>";var S=this._getDaysInMonth(o,n);o==a.selectedYear&&n==a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,S));var T=(this._getFirstDayOfMonth(o,n)-y+7)%7,U=Math.ceil((T+S)/7),V=j?this.maxRows>U?this.maxRows:U:U;this.maxRows=V;for(var W=this._daylightSavingAdjust(new Date(o,n,1-T)),X=0;V>X;X++){O+="<tr>";for(var Y=z?'<td class="ui-datepicker-week-col">'+this._get(a,"calculateWeek")(W)+"</td>":"",Q=0;7>Q;Q++){var Z=E?E.apply(a.input?a.input[0]:null,[W]):[!0,""],_=W.getMonth()!=n,ab=_&&!G||!Z[0]||l&&l>W||m&&W>m;Y+='<td class="'+((Q+y+6)%7>=5?" ui-datepicker-week-end":"")+(_?" ui-datepicker-other-month":"")+(W.getTime()==M.getTime()&&n==a.selectedMonth&&a._keyEvent||H.getTime()==W.getTime()&&H.getTime()==M.getTime()?" "+this._dayOverClass:"")+(ab?" "+this._unselectableClass+" ui-state-disabled":"")+(_&&!F?"":" "+Z[1]+(W.getTime()==k.getTime()?" "+this._currentClass:"")+(W.getTime()==b.getTime()?" ui-datepicker-today":""))+'"'+(_&&!F||!Z[2]?"":' title="'+Z[2]+'"')+(ab?"":' onclick="DP_jQuery_'+dpuuid+".datepicker._selectDay('#"+a.id+"',"+W.getMonth()+","+W.getFullYear()+', this);return false;"')+">"+(_&&!F?"&#xa0;":ab?'<span class="ui-state-default">'+W.getDate()+"</span>":'<a class="ui-state-default'+(W.getTime()==b.getTime()?" ui-state-highlight":"")+(W.getTime()==k.getTime()?" ui-state-active":"")+(_?" ui-priority-secondary":"")+'" href="#">'+W.getDate()+"</a>")+"</td>",W.setDate(W.getDate()+1),W=this._daylightSavingAdjust(W)
}O+=Y+"</tr>"}n++,n>11&&(n=0,o++),O+="</tbody></table>"+(j?"</div>"+(g[0]>0&&L==g[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),K+=O}I+=K}return I+=x+($.browser.msie&&parseInt($.browser.version,10)<7&&!a.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),a._keyEvent=!1,I},_generateMonthYearHeader:function(a,b,c,d,e,f,g,h){var i=this._get(a,"changeMonth"),j=this._get(a,"changeYear"),k=this._get(a,"showMonthAfterYear"),l='<div class="ui-datepicker-title">',m="";if(f||!i)m+='<span class="ui-datepicker-month">'+g[b]+"</span>";else{var n=d&&d.getFullYear()==c,o=e&&e.getFullYear()==c;m+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+a.id+"', this, 'M');\" >";for(var p=0;12>p;p++)(!n||p>=d.getMonth())&&(!o||p<=e.getMonth())&&(m+='<option value="'+p+'"'+(p==b?' selected="selected"':"")+">"+h[p]+"</option>");m+="</select>"}if(k||(l+=m+(!f&&i&&j?"":"&#xa0;")),!a.yearshtml)if(a.yearshtml="",f||!j)l+='<span class="ui-datepicker-year">'+c+"</span>";else{var q=this._get(a,"yearRange").split(":"),r=(new Date).getFullYear(),s=function(a){var b=a.match(/c[+-].*/)?c+parseInt(a.substring(1),10):a.match(/[+-].*/)?r+parseInt(a,10):parseInt(a,10);return isNaN(b)?r:b},t=s(q[0]),u=Math.max(t,s(q[1]||""));for(t=d?Math.max(t,d.getFullYear()):t,u=e?Math.min(u,e.getFullYear()):u,a.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+a.id+"', this, 'Y');\" >";u>=t;t++)a.yearshtml+='<option value="'+t+'"'+(t==c?' selected="selected"':"")+">"+t+"</option>";a.yearshtml+="</select>",l+=a.yearshtml,a.yearshtml=null}return l+=this._get(a,"yearSuffix"),k&&(l+=(!f&&i&&j?"":"&#xa0;")+m),l+="</div>",l},_adjustInstDate:function(a,b,c){var d=a.drawYear+("Y"==c?b:0),e=a.drawMonth+("M"==c?b:0),f=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+("D"==c?b:0),g=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,f)));a.selectedDay=g.getDate(),a.drawMonth=a.selectedMonth=g.getMonth(),a.drawYear=a.selectedYear=g.getFullYear(),("M"==c||"Y"==c)&&this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),e=c&&c>b?c:b;return e=d&&e>d?d:e},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var b=this._get(a,"numberOfMonths");return null==b?[1,1]:"number"==typeof b?[1,b]:b},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return new Date(a,b,1).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a),f=this._daylightSavingAdjust(new Date(c,d+(0>b?b:e[0]*e[1]),1));return 0>b&&f.setDate(this._getDaysInMonth(f.getFullYear(),f.getMonth())),this._isInRange(a,f)},_isInRange:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max");return(!c||b.getTime()>=c.getTime())&&(!d||b.getTime()<=d.getTime())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b="string"!=typeof b?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);var e=b?"object"==typeof b?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),e,this._getFormatConfig(a))}}),$.fn.datepicker=function(a){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find("body").append($.datepicker.dpDiv),$.datepicker.initialized=!0);var b=Array.prototype.slice.call(arguments,1);return"string"!=typeof a||"isDisabled"!=a&&"getDate"!=a&&"widget"!=a?"option"==a&&2==arguments.length&&"string"==typeof arguments[1]?$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this[0]].concat(b)):this.each(function(){"string"==typeof a?$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this].concat(b)):$.datepicker._attachDatepicker(this,a)}):$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this[0]].concat(b))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.8.18",window["DP_jQuery_"+dpuuid]=$}(jQuery),/*
 * jQuery UI Progressbar 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Progressbar
 *
 * Depends:
 *   jquery.ui.core.js
 *   jquery.ui.widget.js
 */
function(a,b){a.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove(),a.Widget.prototype.destroy.apply(this,arguments)},value:function(a){return a===b?this._value():(this._setOption("value",a),this)},_setOption:function(b,c){"value"===b&&(this.options.value=c,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),a.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var a=this.options.value;return"number"!=typeof a&&(a=0),Math.min(this.options.max,Math.max(this.min,a))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var a=this.value(),b=this._percentage();this.oldValue!==a&&(this.oldValue=a,this._trigger("change")),this.valueDiv.toggle(a>this.min).toggleClass("ui-corner-right",a===this.options.max).width(b.toFixed(0)+"%"),this.element.attr("aria-valuenow",a)}}),a.extend(a.ui.progressbar,{version:"1.8.18"})}(jQuery),/*
 * jQuery UI Effects 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/
 */
jQuery.effects||function(a,b){function c(b){return!b||"number"==typeof b||a.fx.speeds[b]?!0:"string"!=typeof b||a.effects[b]?!1:!0}function d(b,c,d,e){return"object"==typeof b&&(e=c,d=null,c=b,b=c.effect),a.isFunction(c)&&(e=c,d=null,c={}),("number"==typeof c||a.fx.speeds[c])&&(e=d,d=c,c={}),a.isFunction(d)&&(e=d,d=null),c=c||{},d=d||c.duration,d=a.fx.off?0:"number"==typeof d?d:d in a.fx.speeds?a.fx.speeds[d]:a.fx.speeds._default,e=e||c.complete,[b,c,d,e]}function e(a,b){var c,d={_:0};for(c in b)a[c]!=b[c]&&(d[c]=b[c]);return d}function f(b){var c,d;for(c in b)d=b[c],(null==d||a.isFunction(d)||c in l||/scrollbar/.test(c)||!/color/i.test(c)&&isNaN(parseFloat(d)))&&delete b[c];return b}function g(){var a,b,c=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,d={};if(c&&c.length&&c[0]&&c[c[0]])for(var e=c.length;e--;)a=c[e],"string"==typeof c[a]&&(b=a.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),d[b]=c[a]);else for(a in c)"string"==typeof c[a]&&(d[a]=c[a]);return d}function h(b,c){var d;do{if(d=a.curCSS(b,c),""!=d&&"transparent"!=d||a.nodeName(b,"body"))break;c="backgroundColor"}while(b=b.parentNode);return i(d)}function i(b){var c;return b&&b.constructor==Array&&3==b.length?b:(c=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(b))?[parseInt(c[1],10),parseInt(c[2],10),parseInt(c[3],10)]:(c=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(b))?[2.55*parseFloat(c[1]),2.55*parseFloat(c[2]),2.55*parseFloat(c[3])]:(c=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(b))?[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]:(c=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(b))?[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]:(c=/rgba\(0, 0, 0, 0\)/.exec(b))?j.transparent:j[a.trim(b).toLowerCase()]}a.effects={},a.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(b,c){a.fx.step[c]=function(a){a.colorInit||(a.start=h(a.elem,c),a.end=i(a.end),a.colorInit=!0),a.elem.style[c]="rgb("+Math.max(Math.min(parseInt(a.pos*(a.end[0]-a.start[0])+a.start[0],10),255),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[1]-a.start[1])+a.start[1],10),255),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[2]-a.start[2])+a.start[2],10),255),0)+")"}});var j={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},k=["add","remove","toggle"],l={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.effects.animateClass=function(b,c,d,h){return a.isFunction(d)&&(h=d,d=null),this.queue(function(){var i,j=a(this),l=j.attr("style")||" ",m=f(g.call(this)),n=j.attr("class");a.each(k,function(a,c){b[c]&&j[c+"Class"](b[c])}),i=f(g.call(this)),j.attr("class",n),j.animate(e(m,i),{queue:!1,duration:c,easing:d,complete:function(){a.each(k,function(a,c){b[c]&&j[c+"Class"](b[c])}),"object"==typeof j.attr("style")?(j.attr("style").cssText="",j.attr("style").cssText=l):j.attr("style",l),h&&h.apply(this,arguments),a.dequeue(this)}})})},a.fn.extend({_addClass:a.fn.addClass,addClass:function(b,c,d,e){return c?a.effects.animateClass.apply(this,[{add:b},c,d,e]):this._addClass(b)},_removeClass:a.fn.removeClass,removeClass:function(b,c,d,e){return c?a.effects.animateClass.apply(this,[{remove:b},c,d,e]):this._removeClass(b)},_toggleClass:a.fn.toggleClass,toggleClass:function(c,d,e,f,g){return"boolean"==typeof d||d===b?e?a.effects.animateClass.apply(this,[d?{add:c}:{remove:c},e,f,g]):this._toggleClass(c,d):a.effects.animateClass.apply(this,[{toggle:c},d,e,f])},switchClass:function(b,c,d,e,f){return a.effects.animateClass.apply(this,[{add:c,remove:b},d,e,f])}}),a.extend(a.effects,{version:"1.8.18",save:function(a,b){for(var c=0;c<b.length;c++)null!==b[c]&&a.data("ec.storage."+b[c],a[0].style[b[c]])},restore:function(a,b){for(var c=0;c<b.length;c++)null!==b[c]&&a.css(b[c],a.data("ec.storage."+b[c]))},setMode:function(a,b){return"toggle"==b&&(b=a.is(":hidden")?"show":"hide"),b},getBaseline:function(a,b){var c,d;switch(a[0]){case"top":c=0;break;case"middle":c=.5;break;case"bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case"left":d=0;break;case"center":d=.5;break;case"right":d=1;break;default:d=a[1]/b.width}return{x:d,y:c}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},d=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e=document.activeElement;return b.wrap(d),(b[0]===e||a.contains(b[0],e))&&a(e).focus(),d=b.parent(),"static"==b.css("position")?(d.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,d){c[d]=b.css(d),isNaN(parseInt(c[d],10))&&(c[d]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),d.css(c).show()},removeWrapper:function(b){var c,d=document.activeElement;return b.parent().is(".ui-effects-wrapper")?(c=b.parent().replaceWith(b),(b[0]===d||a.contains(b[0],d))&&a(d).focus(),c):b},setTransition:function(b,c,d,e){return e=e||{},a.each(c,function(a,c){unit=b.cssUnit(c),unit[0]>0&&(e[c]=unit[0]*d+unit[1])}),e}}),a.fn.extend({effect:function(b){var c=d.apply(this,arguments),e={options:c[1],duration:c[2],callback:c[3]},f=e.options.mode,g=a.effects[b];return a.fx.off||!g?f?this[f](e.duration,e.callback):this.each(function(){e.callback&&e.callback.call(this)}):g.call(this,e)},_show:a.fn.show,show:function(a){if(c(a))return this._show.apply(this,arguments);var b=d.apply(this,arguments);return b[1].mode="show",this.effect.apply(this,b)},_hide:a.fn.hide,hide:function(a){if(c(a))return this._hide.apply(this,arguments);var b=d.apply(this,arguments);return b[1].mode="hide",this.effect.apply(this,b)},__toggle:a.fn.toggle,toggle:function(b){if(c(b)||"boolean"==typeof b||a.isFunction(b))return this.__toggle.apply(this,arguments);var e=d.apply(this,arguments);return e[1].mode="toggle",this.effect.apply(this,e)},cssUnit:function(b){var c=this.css(b),d=[];return a.each(["em","px","%","pt"],function(a,b){c.indexOf(b)>0&&(d=[parseFloat(c),b])}),d}}),a.easing.jswing=a.easing.swing,a.extend(a.easing,{def:"easeOutQuad",swing:function(b,c,d,e,f){return a.easing[a.easing.def](b,c,d,e,f)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return 0==b?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return 0==b?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin(2*(b*e-f)*Math.PI/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(2==(b/=e/2))return c+d;if(g||(g=1.5*.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return 1>b?-.5*h*Math.pow(2,10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g)+c:.5*h*Math.pow(2,-10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g)+d+c},easeInBack:function(a,c,d,e,f,g){return g==b&&(g=1.70158),e*(c/=f)*c*((g+1)*c-g)+d},easeOutBack:function(a,c,d,e,f,g){return g==b&&(g=1.70158),e*((c=c/f-1)*c*((g+1)*c+g)+1)+d},easeInOutBack:function(a,c,d,e,f,g){return g==b&&(g=1.70158),(c/=f/2)<1?e/2*c*c*(((g*=1.525)+1)*c-g)+d:e/2*((c-=2)*c*(((g*=1.525)+1)*c+g)+2)+d},easeInBounce:function(b,c,d,e,f){return e-a.easing.easeOutBounce(b,f-c,0,e,f)+d},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?7.5625*d*b*b+c:2/2.75>b?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:2.5/2.75>b?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(b,c,d,e,f){return f/2>c?.5*a.easing.easeInBounce(b,2*c,0,e,f)+d:.5*a.easing.easeOutBounce(b,2*c-f,0,e,f)+.5*e+d}})}(jQuery),/*
 * jQuery UI Effects Blind 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Blind
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(a){a.effects.blind=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"hide"),f=b.options.direction||"vertical";a.effects.save(c,d),c.show();var g=a.effects.createWrapper(c).css({overflow:"hidden"}),h="vertical"==f?"height":"width",i="vertical"==f?g.height():g.width();"show"==e&&g.css(h,0);var j={};j[h]="show"==e?i:0,g.animate(j,b.duration,b.options.easing,function(){"hide"==e&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()})})}}(jQuery),/*
 * jQuery UI Effects Bounce 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Bounce
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(a){a.effects.bounce=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"effect"),f=b.options.direction||"up",g=b.options.distance||20,h=b.options.times||5,i=b.duration||250;/show|hide/.test(e)&&d.push("opacity"),a.effects.save(c,d),c.show(),a.effects.createWrapper(c);var j="up"==f||"down"==f?"top":"left",k="up"==f||"left"==f?"pos":"neg",g=b.options.distance||("top"==j?c.outerHeight({margin:!0})/3:c.outerWidth({margin:!0})/3);if("show"==e&&c.css("opacity",0).css(j,"pos"==k?-g:g),"hide"==e&&(g/=2*h),"hide"!=e&&h--,"show"==e){var l={opacity:1};l[j]=("pos"==k?"+=":"-=")+g,c.animate(l,i/2,b.options.easing),g/=2,h--}for(var m=0;h>m;m++){var n={},o={};n[j]=("pos"==k?"-=":"+=")+g,o[j]=("pos"==k?"+=":"-=")+g,c.animate(n,i/2,b.options.easing).animate(o,i/2,b.options.easing),g="hide"==e?2*g:g/2}if("hide"==e){var l={opacity:0};l[j]=("pos"==k?"-=":"+=")+g,c.animate(l,i/2,b.options.easing,function(){c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)})}else{var n={},o={};n[j]=("pos"==k?"-=":"+=")+g,o[j]=("pos"==k?"+=":"-=")+g,c.animate(n,i/2,b.options.easing).animate(o,i/2,b.options.easing,function(){a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)})}c.queue("fx",function(){c.dequeue()}),c.dequeue()})}}(jQuery),/*
 * jQuery UI Effects Clip 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Clip
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(a){a.effects.clip=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right","height","width"],e=a.effects.setMode(c,b.options.mode||"hide"),f=b.options.direction||"vertical";a.effects.save(c,d),c.show();var g=a.effects.createWrapper(c).css({overflow:"hidden"}),h="IMG"==c[0].tagName?g:c,i={size:"vertical"==f?"height":"width",position:"vertical"==f?"top":"left"},j="vertical"==f?h.height():h.width();"show"==e&&(h.css(i.size,0),h.css(i.position,j/2));var k={};k[i.size]="show"==e?j:0,k[i.position]="show"==e?0:j/2,h.animate(k,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){"hide"==e&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()}})})}}(jQuery),/*
 * jQuery UI Effects Drop 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Drop
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(a){a.effects.drop=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right","opacity"],e=a.effects.setMode(c,b.options.mode||"hide"),f=b.options.direction||"left";a.effects.save(c,d),c.show(),a.effects.createWrapper(c);var g="up"==f||"down"==f?"top":"left",h="up"==f||"left"==f?"pos":"neg",i=b.options.distance||("top"==g?c.outerHeight({margin:!0})/2:c.outerWidth({margin:!0})/2);"show"==e&&c.css("opacity",0).css(g,"pos"==h?-i:i);var j={opacity:"show"==e?1:0};j[g]=("show"==e?"pos"==h?"+=":"-=":"pos"==h?"-=":"+=")+i,c.animate(j,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){"hide"==e&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}}(jQuery),/*
 * jQuery UI Effects Explode 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Explode
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(a){a.effects.explode=function(b){return this.queue(function(){var c=b.options.pieces?Math.round(Math.sqrt(b.options.pieces)):3,d=b.options.pieces?Math.round(Math.sqrt(b.options.pieces)):3;b.options.mode="toggle"==b.options.mode?a(this).is(":visible")?"hide":"show":b.options.mode;var e=a(this).show().css("visibility","hidden"),f=e.offset();f.top-=parseInt(e.css("marginTop"),10)||0,f.left-=parseInt(e.css("marginLeft"),10)||0;for(var g=e.outerWidth(!0),h=e.outerHeight(!0),i=0;c>i;i++)for(var j=0;d>j;j++)e.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-j*(g/d),top:-i*(h/c)}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:g/d,height:h/c,left:f.left+j*(g/d)+("show"==b.options.mode?(j-Math.floor(d/2))*(g/d):0),top:f.top+i*(h/c)+("show"==b.options.mode?(i-Math.floor(c/2))*(h/c):0),opacity:"show"==b.options.mode?0:1}).animate({left:f.left+j*(g/d)+("show"==b.options.mode?0:(j-Math.floor(d/2))*(g/d)),top:f.top+i*(h/c)+("show"==b.options.mode?0:(i-Math.floor(c/2))*(h/c)),opacity:"show"==b.options.mode?1:0},b.duration||500);setTimeout(function(){"show"==b.options.mode?e.css({visibility:"visible"}):e.css({visibility:"visible"}).hide(),b.callback&&b.callback.apply(e[0]),e.dequeue(),a("div.ui-effects-explode").remove()},b.duration||500)})}}(jQuery),/*
 * jQuery UI Effects Fade 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Fade
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(a){a.effects.fade=function(b){return this.queue(function(){var c=a(this),d=a.effects.setMode(c,b.options.mode||"hide");c.animate({opacity:d},{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}}(jQuery),/*
 * jQuery UI Effects Fold 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Fold
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(a){a.effects.fold=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"hide"),f=b.options.size||15,g=!!b.options.horizFirst,h=b.duration?b.duration/2:a.fx.speeds._default/2;a.effects.save(c,d),c.show();var i=a.effects.createWrapper(c).css({overflow:"hidden"}),j="show"==e!=g,k=j?["width","height"]:["height","width"],l=j?[i.width(),i.height()]:[i.height(),i.width()],m=/([0-9]+)%/.exec(f);m&&(f=parseInt(m[1],10)/100*l["hide"==e?0:1]),"show"==e&&i.css(g?{height:0,width:f}:{height:f,width:0});var n={},o={};n[k[0]]="show"==e?l[0]:f,o[k[1]]="show"==e?l[1]:0,i.animate(n,h,b.options.easing).animate(o,h,b.options.easing,function(){"hide"==e&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()})})}}(jQuery),/*
 * jQuery UI Effects Highlight 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Highlight
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(a){a.effects.highlight=function(b){return this.queue(function(){var c=a(this),d=["backgroundImage","backgroundColor","opacity"],e=a.effects.setMode(c,b.options.mode||"show"),f={backgroundColor:c.css("backgroundColor")};"hide"==e&&(f.opacity=0),a.effects.save(c,d),c.show().css({backgroundImage:"none",backgroundColor:b.options.color||"#ffff99"}).animate(f,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){"hide"==e&&c.hide(),a.effects.restore(c,d),"show"==e&&!a.support.opacity&&this.style.removeAttribute("filter"),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}}(jQuery),/*
 * jQuery UI Effects Pulsate 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Pulsate
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(a){a.effects.pulsate=function(b){return this.queue(function(){var c=a(this),d=a.effects.setMode(c,b.options.mode||"show");times=2*(b.options.times||5)-1,duration=b.duration?b.duration/2:a.fx.speeds._default/2,isVisible=c.is(":visible"),animateTo=0,isVisible||(c.css("opacity",0).show(),animateTo=1),("hide"==d&&isVisible||"show"==d&&!isVisible)&&times--;for(var e=0;times>e;e++)c.animate({opacity:animateTo},duration,b.options.easing),animateTo=(animateTo+1)%2;c.animate({opacity:animateTo},duration,b.options.easing,function(){0==animateTo&&c.hide(),b.callback&&b.callback.apply(this,arguments)}),c.queue("fx",function(){c.dequeue()}).dequeue()})}}(jQuery),/*
 * jQuery UI Effects Scale 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Scale
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(a){a.effects.puff=function(b){return this.queue(function(){var c=a(this),d=a.effects.setMode(c,b.options.mode||"hide"),e=parseInt(b.options.percent,10)||150,f=e/100,g={height:c.height(),width:c.width()};a.extend(b.options,{fade:!0,mode:d,percent:"hide"==d?e:100,from:"hide"==d?g:{height:g.height*f,width:g.width*f}}),c.effect("scale",b.options,b.duration,b.callback),c.dequeue()})},a.effects.scale=function(b){return this.queue(function(){var c=a(this),d=a.extend(!0,{},b.options),e=a.effects.setMode(c,b.options.mode||"effect"),f=parseInt(b.options.percent,10)||(0==parseInt(b.options.percent,10)?0:"hide"==e?0:100),g=b.options.direction||"both",h=b.options.origin;"effect"!=e&&(d.origin=h||["middle","center"],d.restore=!0);var i={height:c.height(),width:c.width()};c.from=b.options.from||("show"==e?{height:0,width:0}:i);var j={y:"horizontal"!=g?f/100:1,x:"vertical"!=g?f/100:1};c.to={height:i.height*j.y,width:i.width*j.x},b.options.fade&&("show"==e&&(c.from.opacity=0,c.to.opacity=1),"hide"==e&&(c.from.opacity=1,c.to.opacity=0)),d.from=c.from,d.to=c.to,d.mode=e,c.effect("size",d,b.duration,b.callback),c.dequeue()})},a.effects.size=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right","width","height","overflow","opacity"],e=["position","top","bottom","left","right","overflow","opacity"],f=["width","height","overflow"],g=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],i=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],j=a.effects.setMode(c,b.options.mode||"effect"),k=b.options.restore||!1,l=b.options.scale||"both",m=b.options.origin,n={height:c.height(),width:c.width()};if(c.from=b.options.from||n,c.to=b.options.to||n,m){var o=a.effects.getBaseline(m,n);c.from.top=(n.height-c.from.height)*o.y,c.from.left=(n.width-c.from.width)*o.x,c.to.top=(n.height-c.to.height)*o.y,c.to.left=(n.width-c.to.width)*o.x}var p={from:{y:c.from.height/n.height,x:c.from.width/n.width},to:{y:c.to.height/n.height,x:c.to.width/n.width}};("box"==l||"both"==l)&&(p.from.y!=p.to.y&&(d=d.concat(h),c.from=a.effects.setTransition(c,h,p.from.y,c.from),c.to=a.effects.setTransition(c,h,p.to.y,c.to)),p.from.x!=p.to.x&&(d=d.concat(i),c.from=a.effects.setTransition(c,i,p.from.x,c.from),c.to=a.effects.setTransition(c,i,p.to.x,c.to))),("content"==l||"both"==l)&&p.from.y!=p.to.y&&(d=d.concat(g),c.from=a.effects.setTransition(c,g,p.from.y,c.from),c.to=a.effects.setTransition(c,g,p.to.y,c.to)),a.effects.save(c,k?d:e),c.show(),a.effects.createWrapper(c),c.css("overflow","hidden").css(c.from),("content"==l||"both"==l)&&(h=h.concat(["marginTop","marginBottom"]).concat(g),i=i.concat(["marginLeft","marginRight"]),f=d.concat(h).concat(i),c.find("*[width]").each(function(){child=a(this),k&&a.effects.save(child,f);var c={height:child.height(),width:child.width()};child.from={height:c.height*p.from.y,width:c.width*p.from.x},child.to={height:c.height*p.to.y,width:c.width*p.to.x},p.from.y!=p.to.y&&(child.from=a.effects.setTransition(child,h,p.from.y,child.from),child.to=a.effects.setTransition(child,h,p.to.y,child.to)),p.from.x!=p.to.x&&(child.from=a.effects.setTransition(child,i,p.from.x,child.from),child.to=a.effects.setTransition(child,i,p.to.x,child.to)),child.css(child.from),child.animate(child.to,b.duration,b.options.easing,function(){k&&a.effects.restore(child,f)})})),c.animate(c.to,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){0===c.to.opacity&&c.css("opacity",c.from.opacity),"hide"==j&&c.hide(),a.effects.restore(c,k?d:e),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}}(jQuery),/*
 * jQuery UI Effects Shake 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Shake
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(a){a.effects.shake=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=(a.effects.setMode(c,b.options.mode||"effect"),b.options.direction||"left"),f=b.options.distance||20,g=b.options.times||3,h=b.duration||b.options.duration||140;a.effects.save(c,d),c.show(),a.effects.createWrapper(c);var i="up"==e||"down"==e?"top":"left",j="up"==e||"left"==e?"pos":"neg",k={},l={},m={};k[i]=("pos"==j?"-=":"+=")+f,l[i]=("pos"==j?"+=":"-=")+2*f,m[i]=("pos"==j?"-=":"+=")+2*f,c.animate(k,h,b.options.easing);for(var n=1;g>n;n++)c.animate(l,h,b.options.easing).animate(m,h,b.options.easing);c.animate(l,h,b.options.easing).animate(k,h/2,b.options.easing,function(){a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)}),c.queue("fx",function(){c.dequeue()}),c.dequeue()})}}(jQuery),/*
 * jQuery UI Effects Slide 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Slide
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(a){a.effects.slide=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"show"),f=b.options.direction||"left";a.effects.save(c,d),c.show(),a.effects.createWrapper(c).css({overflow:"hidden"});var g="up"==f||"down"==f?"top":"left",h="up"==f||"left"==f?"pos":"neg",i=b.options.distance||("top"==g?c.outerHeight({margin:!0}):c.outerWidth({margin:!0}));"show"==e&&c.css(g,"pos"==h?isNaN(i)?"-"+i:-i:i);var j={};j[g]=("show"==e?"pos"==h?"+=":"-=":"pos"==h?"-=":"+=")+i,c.animate(j,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){"hide"==e&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}}(jQuery),/*
 * jQuery UI Effects Transfer 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Transfer
 *
 * Depends:
 *	jquery.effects.core.js
 */
function(a){a.effects.transfer=function(b){return this.queue(function(){var c=a(this),d=a(b.options.to),e=d.offset(),f={top:e.top,left:e.left,height:d.innerHeight(),width:d.innerWidth()},g=c.offset(),h=a('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(b.options.className).css({top:g.top,left:g.left,height:c.innerHeight(),width:c.innerWidth(),position:"absolute"}).animate(f,b.duration,b.options.easing,function(){h.remove(),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()})})}}(jQuery),/**
 * Functional advice-based mixins using Backbone.Advice
 *
 * Generally we favour mixins over inheritance, as that creates a single rooted hierarchy that
 * often results in a super base class.
 *
 * Using Backbone.Advice we can flexibly add behaviour, and augment existing functions without
 * clobbering the original implementation. It's also possible for the mixer to override default
 * implementations for some of the hook functions providing a lot of flexibility, but providing
 * sane defaults that allow mixins to read declaritvely in the common case.
 *
 * Backbone.Advice docs: https://github.com/rhysbrettbowen/Backbone.Advice
 * Related Angus Croll slides:
 * https://speakerdeck.com/anguscroll/how-we-learned-to-stop-worrying-and-love-javascript
 *
 * Example mixin usage:
 * View.extend({
 *     initialize: function(){...},
 *     someFunctionOverride: function(){
 *       // custom behaviour
 *     }
 * }).mixin(
 *     EB.Backbone.Mixins.exampleMixin,
 *     {
 *         option1: true,
 *         option2: 'text'
 *     }
 * ).mixin(
 *     EB.Backbone.Mixins.anotherMixin,
 *     {
 *         anotherMixinOption1: false,
 *         anotherMixinOption2: 10
 *     }
 * )
 *
 */
function(a,b,c,d,e){"use strict";c.namespace("Backbone.Mixins");var f=function(a,b){"object"==typeof a&&"function"!=typeof b.View.mixin&&(a.addMixin(b.View),a.addMixin(b.Model),a.addMixin(b.Collection))};f(e.Advice,c.Backbone),f(e.Advice,e),c.Backbone.Mixins.enforceDependencies=function(a){this.around("initialize",function(c,d,e){var f="undefined"==typeof this.attributes&&"undefined"==typeof this.fetch;if(f&&(e=d),"undefined"==typeof e)throw new Error("Missing options");var g=this.requiredOptions||a.dependencies;if(!g)throw new Error("Missing list of dependencies");b.each(g,function(a){if("undefined"==typeof e[a])throw new Error("Missing required dependency: "+a);this[a]=e[a]},this),c(e)})},c.Backbone.Mixins.rejectWithServerErrors=function(b){this.setDefaults({rejectWithServerErrors:function(){return a.Deferred().reject({__all__:b.serverErrorMessage||window.gettext("Whoops! Someone must have pulled a plug somewhere... try again.")})}})},c.Backbone.Mixins.rejectIfServerValidationErrors=function(){this.setDefaults({rejectIfServerValidationErrors:function(b){return b.success?b:a.Deferred().reject(this.processServerValidationErrors(b))},processServerValidationErrors:function(a){return a.errors}}),this.after("initialize",function(){b.bindAll(this,"rejectIfServerValidationErrors","processServerValidationErrors")})},c.Backbone.Mixins.withTemplate=function(a){this.after("initialize",function(){if(!a.template&&!a.templateName&&!this.getTemplateName)throw new Error("Missing templateName or getTemplateName function");this.template="function"==typeof a.template?a.template:d.templates[a.templateName||this.getTemplateName()]}),this.around("render",function(a){return this.$el.html(this.template(this.getContextData(),this.getTemplateOptions())),a(),this}),this.setDefaults({getContextData:function(){return this.model?this.model.toJSON():{}},getTemplateOptions:function(){return a.templateOptions||{}}})};var g=function(a){var c={events:["blur","cut","paste","change"],onSet:"onSet"};this.after("initialize",function(){var d=a&&a.bindings||this.bindings;if(!d)throw new Error("Bindings missing");b.each(b.keys(d),function(a){var e=d[a];b.isString(e)&&(e=b.extend({observe:e},c),d[a]=e)}),this.bindings=d}),this.setDefaults({onSet:function(a){return a}})};c.Backbone.Mixins.withStickit=function(a){this.mixin(g,a),this.after("render",function(){this.stickit()})},c.Backbone.Mixins.withStickitForMarionette=function(a){this.mixin(g,a),this.before("onRender",function(){this.stickit()}),this.after("onShow",function(){this.stickit()})},c.Backbone.Mixins.withInputValidation=function(){this.after("initialize",function(){if(!this.model)throw new Error("Missing model");c.Backbone.Validation.bind(this,{forceUpdate:!0}),b.bindAll(this,"displayValidationErrors","handleFormLevelError","resetValidationErrors","bindValidationToEvent"),this.errors={}}),this.around("onSet",function(a,b,c){b=a(b,c);var d=this.model.preValidate(c.observe,b);return!d||!b&&this.ignoreEmptyValues()?this.hideFieldValidationError(c.observe):this.showFieldValidationError(c.observe,d),b}),this.setDefaults({ignoreEmptyValues:function(){return!0},handleFormLevelError:function(a){e.Events.trigger("pageNotification",{type:"error",messages:[a]})},getSelectorForAttr:function(a){return b.find(b.keys(this.bindings),function(b){return this.bindings[b].observe===a?b:void 0},this)},get$InputForAttr:function(a){return this.$(this.getSelectorForAttr(a))},get$ErrorMessageForAttr:function(a){return this.$(".js-error-for-"+a)},showFieldValidationError:function(a,b){this.get$InputForAttr(a).addClass("has-form-input-error"),this.get$ErrorMessageForAttr(a).removeClass("is-hidden").html(b),this.errors[a]=b},hideFieldValidationError:function(a){this.get$InputForAttr(a).removeClass("has-form-input-error"),this.get$ErrorMessageForAttr(a).addClass("is-hidden").html(""),this.errors[a]&&delete this.errors[a]},displayValidationErrors:function(a){this.errors=a,b.each(a,function(c,d){if(a.hasOwnProperty(d)){if(b.isArray(c)&&c.length>0&&(c=c[0]),"__all__"===d)return this.handleFormLevelError(c),void 0;this.showFieldValidationError(d,c),this.model.once("change:"+d,b.bind(function(){this.hideFieldValidationError(d)},this))}},this),b.isEmpty(a)||this.postDisplayValidationErrorsHook(a)},resetValidationErrors:function(){b.isEmpty(this.errors)||(b.each(this.errors,function(a,b){this.errors.hasOwnProperty(b)&&this.hideFieldValidationError(b)},this),this.errors={})},validateView:function(){var a=this.model.validate(void 0,{forceUpdate:!1});return a?(this.displayValidationErrors(a),this.$(".form__field-error").not(":empty").length>0&&this.trigger("validationFail",a),!0):(this.trigger("validationSuccess"),!1)},bindValidationToEvent:function(a,b,c){this.listenTo(a,b,function(){this.onSet(a.get(c),{observe:c})})},postDisplayValidationErrorsHook:function(){}})},c.Backbone.Mixins.collectionView=function(c){if(!c.containerSelector)throw new Error("Missing container selector");if(!c.viewClass)throw new Error("Missing View Class");this.setDefaults({handleModelAdded:function(a){var c,d;d=this.viewParameters||{},d.model=a,c=new this.viewClass(d),c.$el.data("cid",a.cid),this.modelCIDViewMap[a.cid]=c,this.container.append(c.render().el),1===b.size(this.modelCIDViewMap)&&this.handleFirstViewAdded(c),this.handleViewAdded(c,a)},handleModelDeleted:function(a){var b=this.modelCIDViewMap[a.cid];delete this.modelCIDViewMap[a.cid],this.collection.length<1&&this.handleNoViews(),this.handleViewRemoved(b)},renderView:function(a){var b=this.modelCIDViewMap[a.cid];this.container.append(b.render().el)},handleFirstViewAdded:function(){},handleNoViews:function(){},handleViewAdded:function(){},handleViewRemoved:function(){}}),this.after("initialize",function(){if(b.bindAll(this,"handleModelAdded","handleModelDeleted","renderView","handleFirstViewAdded","handleNoViews","handleViewAdded","handleViewRemoved"),this.modelCIDViewMap={},this.viewClass=c.viewClass,!this.collection||!c.collectionClass)throw new Error("Missing collection");this.collection=this.collection||c.collectionClass({}),this.listenTo(this.collection,"add",this.handleModelAdded),this.listenTo(this.collection,"remove",this.handleModelDeleted)}),this.after("render",function(){this.container=a("<div>"),this.collection.each(this.handleModelAdded),this.$(c.containerSelector).append(this.container),this.trigger("collection:rendered")})},c.Backbone.Mixins.sortableCollectionView=function(d){if(!d.handle)throw new Error("Missing handle");this.mixin([c.Backbone.Mixins.collectionView],{containerSelector:d.containerSelector,viewClass:d.viewClass,collectionClass:d.collectionClass}),this.setDefaults({handleViewMoved:function(){this.container.children().each(this.setModelIndex),this.collection.sort()},setModelIndex:function(b,c){var d=a(c).data("cid");this.collection.get(d).set("index",b)}}),this.after("initialize",function(){b.bindAll(this,"handleViewMoved","setModelIndex")}),this.after("render",function(){this.container.on("sortstop",this.handleViewMoved),this.container.sortable({axis:"y",containment:"parent",handle:d.handle,tolerance:"pointer",zIndex:6,cursor:"pointer"})})},c.Backbone.Mixins.withDynamicFormPost=function(){this.setDefaults({dynamicFormPost:function(b,c){var d,e=a('<form action="'+b+'" method="POST"></form>');for(d in c)c.hasOwnProperty(d)&&e.append(a('<input type="hidden" name="'+d+'" value="'+c[d]+'"/>'));e.appendTo(this.$el).trigger("submit")}}),this.after("initialize",function(){b.bindAll(this,"dynamicFormPost")})},c.Backbone.Mixins.disabledInputs=function(){this.setDefaults({disableInputs:function(){this.$("btn").addClass("btn--disabled"),this.$("input").prop("disabled",!0),this.$("textarea").prop("disabled",!0),this.$("select").prop("disabled",!0)}}),this.after("initialize",function(){b.bindAll(this,"disableInputs")})},c.Backbone.Mixins.sortableByIndex=function(){this.setDefaults({comparator:function(a){return a.get("index")},handleModelAdd:function(a){this.maxIndex+=1,a.set("index",this.maxIndex)},handleModelRemove:function(){this.maxIndex-=1,this.setIndexes()},setIndexes:function(){this.each(function(a,b){a.set("index",b)})}}),this.after("initialize",function(){b.bindAll(this,"handleModelAdd","handleModelRemove","setIndexes"),this.maxIndex=-1,this.on("add",this.handleModelAdd),this.on("remove",this.handleModelRemove)}),this.after("reset",function(){this.setIndexes(),this.maxIndex=this.length-1})},c.Backbone.Mixins.autocompleteHelpers=function(){this.setDefaults({_highlightText:function(b,c){var d=new RegExp("("+a.ui.autocomplete.escapeRegex(c)+")","ig");return b.replace(d,'<span class="text-body--significant">$1</span>')},_renderItem:function(b,c){return a("<li></li>").data("item.autocomplete",c).append(a("<a></a>").html(c.label)).appendTo(b)},_populateAutocomplete:function(){a(this).autocomplete("search")}})},"function"==typeof define&&define("eb/backbone/mixins",["backbone_advice","backbone_stickit","backbone_validation"],function(a){return f(a,c.Backbone),f(a,e),c.Backbone.Mixins})}(window.jQuery,window._,window.EB,window.Handlebars,window.Backbone),//
// backbone.stickit - v0.6.3
// The MIT License
// Copyright (c) 2012 The New York Times, CMS Group, Matthew DeLambo <delambo@gmail.com> 
//
function(a){Backbone.Stickit={_handlers:[],addHandler:function(a){a=_.map(_.flatten([a]),function(a){return _.extend({updateModel:!0,updateView:!0,updateMethod:"text"},a)}),this._handlers=this._handlers.concat(a)}},_.extend(Backbone.View.prototype,{_modelBindings:null,unstickit:function(a){_.each(this._modelBindings,_.bind(function(b,c){return a&&b.model!==a?!1:(b.model.off(b.event,b.fn),delete this._modelBindings[c],void 0)},this)),this._modelBindings=_.compact(this._modelBindings),this.$el.off(".stickit"+(a?"."+a.cid:""))},stickit:function(a,b){var d=this,m=a||this.model,n=".stickit."+m.cid,o=b||this.bindings||{};this._modelBindings||(this._modelBindings=[]),this.unstickit(m),_.each(_.keys(o),function(a){var b,p,q,r,s=o[a]||{},t=_.uniqueId();":el"!=a?b=d.$(a):(b=d.$el,a=""),b.length&&(_.isString(s)&&(s={observe:s}),r=i(b,s),q=r.observe,p=_.extend({bindKey:t},r.setOptions||{}),j(d,b,r,m,q),k(d,b,r,m,q),q&&(_.each(r.events||[],function(c){var f=c+n,h=function(a){var c=r.getVal.call(d,b,a,r);e(d,r.updateModel,c,r)&&g(m,q,c,p,d,r)};""===a?d.$el.on(f,h):d.$el.on(f,a,h)}),_.each(_.flatten([q]),function(a){f(m,d,"change:"+a,function(a,c,e){(null==e||e.bindKey!=t)&&l(d,b,r,h(a,q,r,d),a)})}),l(d,b,r,h(m,q,r,d),m,!0)),c(d,r.initialize,b,m,r))}),this.remove=_.wrap(this.remove,function(a){d.unstickit(),a&&a.call(d)})}});var b=function(a,b){var c=(b||"").split("."),d=_.reduce(c,function(a,b){return a[b]},a);return null==d?a:d},c=function(a,b){return b?(_.isString(b)?a[b]:b).apply(a,_.toArray(arguments).slice(2)):void 0},d=function(a){return a.find("option").not(function(){return!this.selected})},e=function(a,b){return _.isBoolean(b)?b:_.isFunction(b)||_.isString(b)?c.apply(this,_.toArray(arguments)):!1},f=function(a,b,c,d){a.on(c,d,b),b._modelBindings.push({model:a,event:c,fn:d})},g=function(a,b,d,e,f,g){g.onSet&&(d=c(f,g.onSet,d,g)),a.set(b,d,e)},h=function(a,b,d,e){var f,g=function(b){var c=d.escape?a.escape(b):a.get(b);return _.isUndefined(c)?"":c};return f=_.isArray(b)?_.map(b,g):g(b),d.onGet?c(e,d.onGet,f,d):f},i=function(a,b){var c=[{updateModel:!1,updateView:!0,updateMethod:"text",update:function(a,b,c,d){a[d.updateMethod](b)},getVal:function(a,b,c){return a[c.updateMethod]()}}];_.each(Backbone.Stickit._handlers,function(b){a.is(b.selector)&&c.push(b)}),c.push(b);var d=_.extend.apply(_,c);return delete d.selector,d},j=function(a,b,c,d,e){var g=["autofocus","autoplay","async","checked","controls","defer","disabled","hidden","loop","multiple","open","readonly","required","scoped","selected"];_.each(c.attributes||[],function(c){var i="",j=c.observe||(c.observe=e),k=function(){var e=_.indexOf(g,c.name,!0)>-1?"prop":"attr",f=h(d,j,c,a);"class"==c.name?(b.removeClass(i).addClass(f),i=f):b[e](c.name,f)};_.each(_.flatten([j]),function(b){f(d,a,"change:"+b,k)}),k()})},k=function(a,b,d,e,g){if(null!=d.visible){var i=function(){var f=d.visible,i=d.visibleFn,j=h(e,g,d,a),k=!!j;(_.isFunction(f)||_.isString(f))&&(k=c(a,f,j,d)),i?c(a,i,b,k,d):k?b.show():b.hide()};_.each(_.flatten([g]),function(b){f(e,a,"change:"+b,i)}),i()}},l=function(a,b,d,f,g,h){e(a,d.updateView,f,d)&&(d.update.call(a,b,f,g,d),h||c(a,d.afterUpdate,b,f,d))};Backbone.Stickit.addHandler([{selector:'[contenteditable="true"]',updateMethod:"html",events:["keyup","change","paste","cut"]},{selector:"input",events:["keyup","change","paste","cut"],update:function(a,b){a.val(b)},getVal:function(a){var b=a.val();return a.is('[type="number"]')?null==b?b:Number(b):b}},{selector:"textarea",events:["keyup","change","paste","cut"],update:function(a,b){a.val(b)},getVal:function(a){return a.val()}},{selector:'input[type="radio"]',events:["change"],update:function(a,b){a.filter('[value="'+b+'"]').prop("checked",!0)},getVal:function(a){return a.filter(":checked").val()}},{selector:'input[type="checkbox"]',events:["change"],update:function(b,c){b.length>1?(c||(c=[]),_.each(b,function(b){_.indexOf(c,a(b).val())>-1?a(b).prop("checked",!0):a(b).prop("checked",!1)})):_.isBoolean(c)?b.prop("checked",c):b.prop("checked",c==b.val())},getVal:function(b){var c;if(b.length>1)c=_.reduce(b,function(b,c){return a(c).prop("checked")&&b.push(a(c).val()),b},[]);else{c=b.prop("checked");var d=b.val();"on"!=d&&null!=d&&(c=c?b.val():null)}return c}},{selector:"select",events:["change"],update:function(d,e,f,g){var h,i=g.selectOptions,j=i&&i.collection||void 0,k=d.prop("multiple");if(!i){i={};var l=function(a){return a.find("option").map(function(){return{value:this.value,label:this.text}}).get()};d.find("optgroup").length?(j={opt_labels:[]},_.each(d.find("optgroup"),function(b){var c=a(b).attr("label");j.opt_labels.push(c),j[c]=l(a(b))})):j=l(d)}i.valuePath=i.valuePath||"value",i.labelPath=i.labelPath||"label";var m=function(c,d,e){i.defaultOption&&(c=_.clone(c),c.unshift("__default__")),_.each(c,function(c){var f=a("<option/>"),g=c,h=function(a,b){f.text(a),g=b,f.data("stickit_bind_val",g),_.isArray(g)||_.isObject(g)||f.val(g)};"__default__"===c?h(i.defaultOption.label,i.defaultOption.value):h(b(c,i.labelPath),b(c,i.valuePath)),!k&&null!=g&&null!=e&&g==e||_.isObject(e)&&_.isEqual(g,e)?f.prop("selected",!0):k&&_.isArray(e)&&_.each(e,function(a){_.isObject(a)&&(a=b(a,i.valuePath)),(a==g||_.isObject(a)&&_.isEqual(g,a))&&f.prop("selected",!0)}),d.append(f)})};d.html("");var n=function(a,c){var d=window;return 0===c.indexOf("this.")&&(d=a),c=c.replace(/^[a-z]*\.(.+)$/,"$1"),b(d,c)};h=_.isString(j)?n(this,j):_.isFunction(j)?c(this,j,d,g):j,h instanceof Backbone.Collection&&(h=h.toJSON()),_.isArray(h)?m(h,d,e):_.each(h.opt_labels,function(b){var c=a("<optgroup/>").attr("label",b);m(h[b],c,e),d.append(c)})},getVal:function(b){var c;return c=b.prop("multiple")?a(d(b).map(function(){return a(this).data("stickit_bind_val")})).get():d(b).data("stickit_bind_val")}}])}(window.jQuery||window.Zepto),// Backbone.Validation v0.8.0
//
// Copyright (c) 2011-2013 Thomas Pedersen
// Distributed under MIT License
//
// Documentation and full license available at:
// http://thedersen.com/projects/backbone-validation
Backbone.Validation=function(a){"use strict";var b={forceUpdate:!1,selector:"name",labelFormatter:"sentenceCase",valid:Function.prototype,invalid:Function.prototype},c={formatLabel:function(a,c){return i[b.labelFormatter](a,c)},format:function(){var a=Array.prototype.slice.call(arguments),b=a.shift();return b.replace(/\{(\d+)\}/g,function(b,c){return"undefined"!=typeof a[c]?a[c]:b})}},d=function(b,c,e){return c=c||{},e=e||"",a.each(b,function(a,f){b.hasOwnProperty(f)&&(!a||"object"!=typeof a||a instanceof Date||a instanceof RegExp||a instanceof Backbone.Model||a instanceof Backbone.Collection?c[e+f]=a:d(a,c,e+f+"."))}),c},e=function(){var e=function(b){return a.reduce(a.keys(b.validation||{}),function(a,b){return a[b]=void 0,a},{})},g=function(b,c){var d=b.validation?b.validation[c]||{}:{};return(a.isFunction(d)||a.isString(d))&&(d={fn:d}),a.isArray(d)||(d=[d]),a.reduce(d,function(b,c){return a.each(a.without(a.keys(c),"msg"),function(a){b.push({fn:j[a],val:c[a],msg:c.msg})}),b},[])},h=function(b,d,e,f){return a.reduce(g(b,d),function(g,h){var i=a.extend({},c,j),k=h.fn.call(i,e,d,h.val,b,f);return k===!1||g===!1?!1:k&&!g?h.msg||k:g},"")},i=function(b,c){var e,f={},g=!0,i=a.clone(c),j=d(c);return a.each(j,function(a,c){e=h(b,c,a,i),e&&(f[c]=e,g=!1)}),{invalidAttrs:f,isValid:g}},k=function(b,c){return{preValidate:function(b,c){return h(this,b,c,a.extend({},this.attributes))},isValid:function(b){var c=d(this.attributes);return a.isString(b)?!h(this,b,c[b],a.extend({},this.attributes)):a.isArray(b)?a.reduce(b,function(b,d){return b&&!h(this,d,c[d],a.extend({},this.attributes))},!0,this):(b===!0&&this.validate(),this.validation?this._isValid:!0)},validate:function(f,g){var h=this,j=!f,k=a.extend({},c,g),l=e(h),m=a.extend({},l,h.attributes,f),n=d(f||m),o=i(h,m);return h._isValid=o.isValid,a.each(l,function(a,c){var d=o.invalidAttrs.hasOwnProperty(c);d||k.valid(b,c,k.selector)}),a.each(l,function(a,c){var d=o.invalidAttrs.hasOwnProperty(c),e=n.hasOwnProperty(c);d&&(e||j)&&k.invalid(b,c,o.invalidAttrs[c],k.selector)}),a.defer(function(){h.trigger("validated",h._isValid,h,o.invalidAttrs),h.trigger("validated:"+(h._isValid?"valid":"invalid"),h,o.invalidAttrs)}),!k.forceUpdate&&a.intersection(a.keys(o.invalidAttrs),a.keys(n)).length>0?o.invalidAttrs:void 0}}},l=function(b,c,d){a.extend(c,k(b,d))},m=function(a){delete a.validate,delete a.preValidate,delete a.isValid},n=function(a){l(this.view,a,this.options)},o=function(a){m(a)};return{version:"0.8.0",configure:function(c){a.extend(b,c)},bind:function(c,d){var e=c.model,g=c.collection;if(d=a.extend({},b,f,d),"undefined"==typeof e&&"undefined"==typeof g)throw"Before you execute the binding your view must have a model or a collection.\nSee http://thedersen.com/projects/backbone-validation/#using-form-model-validation for more information.";e?l(c,e,d):g&&(g.each(function(a){l(c,a,d)}),g.bind("add",n,{view:c,options:d}),g.bind("remove",o))},unbind:function(a){var b=a.model,c=a.collection;b&&m(a.model),c&&(c.each(function(a){m(a)}),c.unbind("add",n),c.unbind("remove",o))},mixin:k(null,b)}}(),f=e.callbacks={valid:function(a,b,c){a.$("["+c+'~="'+b+'"]').removeClass("invalid").removeAttr("data-error")},invalid:function(a,b,c,d){a.$("["+d+'~="'+b+'"]').addClass("invalid").attr("data-error",c)}},g=e.patterns={digits:/^\d+$/,number:/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,url:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i},h=e.messages={required:"{0} is required",acceptance:"{0} must be accepted",min:"{0} must be greater than or equal to {1}",max:"{0} must be less than or equal to {1}",range:"{0} must be between {1} and {2}",length:"{0} must be {1} characters",minLength:"{0} must be at least {1} characters",maxLength:"{0} must be at most {1} characters",rangeLength:"{0} must be between {1} and {2} characters",oneOf:"{0} must be one of: {1}",equalTo:"{0} must be the same as {1}",pattern:"{0} must be a valid {1}"},i=e.labelFormatters={none:function(a){return a},sentenceCase:function(a){return a.replace(/(?:^\w|[A-Z]|\b\w)/g,function(a,b){return 0===b?a.toUpperCase():" "+a.toLowerCase()}).replace("_"," ")},label:function(a,b){return b.labels&&b.labels[a]||i.sentenceCase(a,b)}},j=e.validators=function(){var b=String.prototype.trim?function(a){return null===a?"":String.prototype.trim.call(a)}:function(a){var b=/^\s+/,c=/\s+$/;return null===a?"":a.toString().replace(b,"").replace(c,"")},c=function(b){return a.isNumber(b)||a.isString(b)&&b.match(g.number)},d=function(c){return!(a.isNull(c)||a.isUndefined(c)||a.isString(c)&&""===b(c))};return{fn:function(b,c,d,e,f){return a.isString(d)&&(d=e[d]),d.call(e,b,c,f)},required:function(b,c,e,f,g){var i=a.isFunction(e)?e.call(f,b,c,g):e;return i||d(b)?i&&!d(b)?this.format(h.required,this.formatLabel(c,f)):void 0:!1},acceptance:function(b,c,d,e){return"true"===b||a.isBoolean(b)&&b!==!1?void 0:this.format(h.acceptance,this.formatLabel(c,e))},min:function(a,b,d,e){return!c(a)||d>a?this.format(h.min,this.formatLabel(b,e),d):void 0},max:function(a,b,d,e){return!c(a)||a>d?this.format(h.max,this.formatLabel(b,e),d):void 0},range:function(a,b,d,e){return!c(a)||a<d[0]||a>d[1]?this.format(h.range,this.formatLabel(b,e),d[0],d[1]):void 0},length:function(a,c,e,f){return d(a)&&b(a).length===e?void 0:this.format(h.length,this.formatLabel(c,f),e)},minLength:function(a,c,e,f){return!d(a)||b(a).length<e?this.format(h.minLength,this.formatLabel(c,f),e):void 0},maxLength:function(a,c,e,f){return!d(a)||b(a).length>e?this.format(h.maxLength,this.formatLabel(c,f),e):void 0},rangeLength:function(a,c,e,f){return!d(a)||b(a).length<e[0]||b(a).length>e[1]?this.format(h.rangeLength,this.formatLabel(c,f),e[0],e[1]):void 0},oneOf:function(b,c,d,e){return a.include(d,b)?void 0:this.format(h.oneOf,this.formatLabel(c,e),d.join(", "))},equalTo:function(a,b,c,d,e){return a!==e[c]?this.format(h.equalTo,this.formatLabel(b,d),this.formatLabel(c,d)):void 0},pattern:function(a,b,c,e){return d(a)&&a.toString().match(g[c]||c)?void 0:this.format(h.pattern,this.formatLabel(b,e),c)}}}();return e}(_),/* ===========================================================
 * bootstrap-tooltip.js v2.3.1
 * http://twitter.github.com/bootstrap/javascript.html#tooltips
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(a){"use strict";var b=function(a,b){this.init("tooltip",a,b)};b.prototype={constructor:b,init:function(b,c,d){var e,f,g,h,i;for(this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.enabled=!0,g=this.options.trigger.split(" "),i=g.length;i--;)h=g[i],"click"==h?this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this)):"manual"!=h&&(e="hover"==h?"mouseenter":"focus",f="hover"==h?"mouseleave":"blur",this.$element.on(e+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(f+"."+this.type,this.options.selector,a.proxy(this.leave,this)));this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(b){return b=a.extend({},a.fn[this.type].defaults,this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},enter:function(b){var c,d=a.fn[this.type].defaults,e={};return this._options&&a.each(this._options,function(a,b){d[a]!=b&&(e[a]=b)},this),c=a(b.currentTarget)[this.type](e).data(this.type),c.options.delay&&c.options.delay.show?(clearTimeout(this.timeout),c.hoverState="in",this.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show),void 0):c.show()},leave:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),c.options.delay&&c.options.delay.hide?(c.hoverState="out",this.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide),void 0):c.hide()},show:function(){var b,c,d,e,f,g,h=a.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(h),h.isDefaultPrevented())return;switch(b=this.tip(),this.setContent(),this.options.animation&&b.addClass("fade"),f="function"==typeof this.options.placement?this.options.placement.call(this,b[0],this.$element[0]):this.options.placement,b.detach().css({top:0,left:0,display:"block"}),this.options.container?b.appendTo(this.options.container):b.insertAfter(this.$element),c=this.getPosition(),d=b[0].offsetWidth,e=b[0].offsetHeight,f){case"bottom":g={top:c.top+c.height,left:c.left+c.width/2-d/2};break;case"top":g={top:c.top-e,left:c.left+c.width/2-d/2};break;case"left":g={top:c.top+c.height/2-e/2,left:c.left-d};break;case"right":g={top:c.top+c.height/2-e/2,left:c.left+c.width}}this.applyPlacement(g,f),this.$element.trigger("shown")}},applyPlacement:function(a,b){var c,d,e,f,g=this.tip(),h=g[0].offsetWidth,i=g[0].offsetHeight;g.offset(a).addClass(b).addClass("in"),c=g[0].offsetWidth,d=g[0].offsetHeight,"top"==b&&d!=i&&(a.top=a.top+i-d,f=!0),"bottom"==b||"top"==b?(e=0,a.left<0&&(e=-2*a.left,a.left=0,g.offset(a),c=g[0].offsetWidth,d=g[0].offsetHeight),this.replaceArrow(e-h+c,c,"left")):this.replaceArrow(d-i,d,"top"),f&&g.offset(a)},replaceArrow:function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},setContent:function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},hide:function(){function b(){var b=setTimeout(function(){c.off(a.support.transition.end).detach()},500);c.one(a.support.transition.end,function(){clearTimeout(b),c.detach()})}var c=this.tip(),d=a.Event("hide");return this.$element.trigger(d),d.isDefaultPrevented()?void 0:(c.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?b():c.detach(),this.$element.trigger("hidden"),this)},fixTitle:function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var b=this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},getTitle:function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},tip:function(){return this.$tip=this.$tip||a(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(b){var c=b?a(b.currentTarget)[this.type](this._options).data(this.type):this;c.tip().hasClass("in")?c.hide():c.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("tooltip"),f="object"==typeof c&&c;e||d.data("tooltip",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},a.fn.tooltip.noConflict=function(){return a.fn.tooltip=c,this}}(window.jQuery),window.EB=window.EB||{},EB.util=function(a,b){"use strict";var c=/(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?/,d=/(?:(.+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?/;return{truncate:function(a,b){return"string"!=typeof a?"":b>3&&a.length>b?a.slice(0,b-3)+"...":a},sort:function(a){return a.split("").sort().join("")},getCookie:function(b){var c=null;if(document.cookie&&""!==document.cookie)for(var d=document.cookie.split(";"),e=0;e<d.length;e++){var f=a.trim(d[e]);if(f.substring(0,b.length+1)===b+"="){c=decodeURIComponent(f.substring(b.length+1));break}}return c},unshuffle:function(a,b){var c,d={};a=a.toLowerCase(),c=this.sort(a);for(var e=0;e<b.length;e++){var f=b[e].toLowerCase();d[this.sort(f)]=f}return d.hasOwnProperty(c)?d[c]:a},parseUrl:function(a,b){var e={},f=["url","scheme","slash","host","port","path","query","fragment"],g=b?d.exec(a):c.exec(a);if(null!==g)for(var h=0;h<f.length;h++)e[f[h]]=g[h];return e},looksLikeUrl:function(a){var c,d=b.util.parseUrl(a,!0);return d.scheme?!0:d.host&&(c=d.host.split("."),c.length>1&&""!==c[1])?!0:!1},scrollToElement:function(b){var c=b.offset();c&&c.top&&a("body, html").animate({scrollTop:c.top-25})},h:function(a){var b,c={},d=96,e=27;if(arguments.length>e)throw new Error("EB.Util.h received too many arguments. Got: "+arguments.length);for(var f=1;f<arguments.length;f++)c[String.fromCharCode(d+f)]=arguments[f];return b=Handlebars.compile(a),b(c)}}}(window.jQuery,EB),// NOTE: ReviewBoard is required for any changes to this file.
function(a,b,c,d,e){"use strict";b.ComponentFactory=function(){},d.extend(b.ComponentFactory.prototype,{bindMethods:function(a,b){d.each(a,function(a,c,e){"function"==typeof a&&(e[c]=d.bind(a,b))})},createComponent:function(a){var b=d.extend({},e.Events),c=d.clone(this.commands)||{},f=d.clone(this.requests)||{},g=d.clone(this.componentMethods)||{},h=d.clone(this.sandbox)||{};return this.preCreate.call(b,a),b.sandbox=h,b.commands=new e.Wreqr.Commands,b.reqres=new e.Wreqr.RequestResponse,this.bindMethods(c,b),this.bindMethods(f,b),this.bindMethods(g,b),b=d.extend(b,g),b.commands.setHandlers(c),b.reqres.setHandlers(f),b.sandbox.execute=d.bind(b.commands.execute,b.commands),b.sandbox.request=d.bind(b.reqres.request,b.reqres),b.start=d.bind(this.start,b),b.stop=d.bind(this.stop,b),this.postCreate.call(b,a),b},create:function(a){var b=this.createComponent(a);return this.initialize.call(b,a),b},preCreate:function(){},postCreate:function(){},initialize:function(){},start:function(){},stop:function(){}}),b.ComponentFactory.extend=e.Model.extend,b.ComponentFactory.create=function(a){return(new this).create(a)},"function"==typeof define&&define("eb/_backbone/component_factory",function(a){a("backbone_wreqr");var c=a("backbone_advice");return c.addMixin(b.ComponentFactory),b.ComponentFactory})}(jQuery,EB,window,window._,window.Backbone),// NOTE: ReviewBoard is required for any changes to this file.
function(a,b,c,d,e){"use strict";b.Backbone=b.Backbone||e,b.Backbone.Stickit=d.extend(e.Stickit,{})}(jQuery,EB,window,window._,window.Backbone),// NOTE: ReviewBoard is required for any changes to this file.
function(a,b,c,d,e){"use strict";b.Backbone=b.Backbone||e,b.Backbone.Validation=d.extend(e.Validation,{}),d.extend(b.Backbone.Validation.messages,{required:c.gettext("Required field")}),d.extend(b.Backbone.Validation.validators,{creditCardNumber:function(a,c,e,f){if(a){var g=b.CreditCard.cardTypeForNumber(a);return b.CreditCard.validateCardAsType(a,g)?f.getAcceptedCreditCardTypes&&!d.contains(f.getAcceptedCreditCardTypes(),g)?"Credit card type not supported":void 0:"Please enter a valid credit card number"}},creditCardExpiration:function(a,b,c,d){if(a){var e,f=d.get("card_data_expiry_0"),g=d.get("card_data_expiry_1"),h=(new Date).valueOf();return"card_data_expiry_0"===b&&(f=a),"card_data_expiry_1"===b&&(g=a),e=new Date(g+"/"+f+"/30").valueOf(),f&&g&&h>e?"Please enter a valid expiration date":void 0}},creditCardCVV:function(a,c,d,e){if(a){var f=e.get("card_data_type");return f===b.CreditCard.CARD_TYPES.AMEX&&(a.length<4||a.length>4)?"CVV must be 4 digits":f!==b.CreditCard.CARD_TYPES.AMEX&&(a.length<3||a.length>3)?"CVV must be 3 digits":void 0}}}),d.extend(b.Backbone.Validation.patterns,{sqlDateTime:/\d{4}-\d{2}-\d{2}\s\d{2}:\d{2}:\d{2}/})}(jQuery,EB,window,window._,window.Backbone),function(a,b,c){"use strict";"object"==typeof b.Advice&&"undefined"!=typeof c&&"function"!=typeof c.Controller.mixin&&b.Advice.addMixin(c.Controller),a.App=new c.Application}(window.EB,window.Backbone,window.Marionette),function(a,b,c,d,e){"use strict";c.namespace("Models"),c.Models.TicketModel=c.Backbone.Model.extend({defaults:{name:"",description:"",show_description:!1,quantity:"",paymentType:"paid",taxApplies:!1,tax:0,total:0,fee:0,currencySymbol:"$",feeAbsorb:"0",hidden:!1,auto_hide:!1,auto_hide_until:!1,auto_hide_after:!1,order_min:1,order_limit:e,hasAttendees:!1,canBeATD:!0,formattedTotal:"$0.00",formattedFee:"$0.00",formattedTax:"$0.00",formattedCost:"$0.00",formattedCCFee:"$0.00",endSalesRelativeTime:"1",endSalesRelativeType:"hours",endSalesRelativeTo:"start_time",endSalesRelativeDays:0,endSalesRelativeHours:1,endSalesRelativeMinutes:0,available_online:!0,available_atd:!0},validation:{name:[{required:!0,msg:d.gettext("Ticket name is required")},{fn:function(a){return a.length>255?d.gettext("Ensure this value has at most 255 characters."):void 0}}],quantity:[{fn:function(a){var c=Number(a);return b.isNaN(c)||(c=parseInt(c,10)),"donation"!==this.get("paymentType")?b.isNaN(c)||1>c?d.gettext("Please enter a number"):c>5e5?d.gettext("Enter a number less than 500,000"):void 0:void 0}}],order_min:[{required:!0},{pattern:"number",min:-1,msg:d.gettext("Please enter a valid number")}],order_limit:[{fn:function(a){var c=parseInt(a,10);if(!b.isNaN(c))return 0>c||c<this.get("order_min")?d.gettext("Please enter a valid number."):void 0}}],endSalesRelativeTime:[{fn:function(a){if(this.eventModel.get("is_series")){if(a&&(a=Number(a.replace(",","."))),isNaN(a))return d.gettext("Please enter a number");if(0>=a)return d.gettext("Please enter a number greater than 0");if(a>c.Models.TicketModel.MAX_RELATIVE_END_SALES)return d.gettext("Please enter a number less than or equal to "+c.Models.TicketModel.MAX_RELATIVE_END_SALES)}}}],ticketPrice:[{fn:function(a){var b=this.get("feeAbsorb"),e=parseFloat(this.get("fee")),f=parseFloat(a);return a&&(a=a.replace(",",".")),isNaN(Number(a))||0>f?d.gettext("Please enter a number"):Number(a)>99999999.99?d.gettext("Ensure this value is less than or equal to 99999999.99"):b===c.Models.TicketModel.FEE_ABSORB&&f>0&&e>f?d.gettext("When absorbing fees, the price must be greater than the fee"):void 0}}],salesStartDate:[{pattern:"sqlDateTime",msg:d.gettext("Please enter a valid date")}],salesEndDate:[{pattern:"sqlDateTime",msg:d.gettext("Please enter a valid date")},{fn:function(a){var b=c.Date.fromSql(a),e=c.Date.fromSql(this.get("salesStartDate"));return!this.eventModel.get("is_repeating")&&!this.eventModel.get("is_series")&&e&&e>b?d.gettext("Sales end time must be after the sales start time"):void 0}}]},initialize:function(a){b.bindAll(this,"setCanBeATD","calculateFees","handleNumTicketsSoldSuccess","handleNumTicketsSoldSuccessEdit","failDeleteWithLastTicketError","handleEventStartDateChange","handleSalesStartDateChange","isLiveAndLastTicket"),this.eventModel=a.eventModel,this.currencyModel=a.currencyModel,this.taxModel=a.taxModel,this.setCanBeATD(),this.listenTo(this.eventModel,"change:repeating",this.setCanBeATD),this.listenTo(this.currencyModel,"change:currency",this.setCanBeATD),"free"!==this.get("paymentType")&&(this.calculateFees=b.debounce(this.calculateFees,100),this.calculateFees(),this.on("change:available_atd change:available_online change:feeAbsorb change:ticketPrice change:taxApplies",this.calculateFees),this.listenTo(this.currencyModel,"change:currency",this.calculateFees),this.listenTo(this.taxModel,"change:taxPercent change:taxIsIncluded change:taxEnabled change:appliesToAllTickets",this.calculateFees)),this.initializeDefaultDates(),this.listenTo(this.currencyModel,"change:currency",this.calculateFees),this.listenTo(this.eventModel,"change:start_date",this.handleEventStartDateChange),this.listenTo(this.eventModel,"change:is_repeating",this.handleEventRepeatingChange)},initializeDefaultDates:function(){var a,b,d=this.getHourBeforeEventStart(),e=this.get("sqlNow");this.get("salesStartDate")||(b=c.Date.fromSql(this.get("salesEndDate")),c.Date.fromSql(e)>b?(a=b,a.setDate(b.getDate()-4),this.set("salesStartDate",c.Date.toSql(a))):(this.set("salesStartIsNow",!0),this.set("salesStartDate",e),this.on("change:salesStartDate",this.handleSalesStartDateChange))),this.get("salesEndDate")||this.set("salesEndDate",d),this.get("hide_until")||this.set("hide_until",e),this.get("hide_after")||this.set("hide_after",d)},handleEventStartDateChange:function(){var a=this.getHourBeforeEventStart(),b=""!==this.get("endSalesRelativeTime")&&""!==this.get("endSalesRelativeTo")&&""!==this.get("endSalesRelativeType")||""!==this.get("endSalesRelativeDays")||""!==this.get("endSalesRelativeHours")||""!==this.get("endSalesRelativeMinutes");b&&!this.eventModel.get("is_repeating")&&this.set("salesEndDate",a)},setCanBeATD:function(){"donation"!==this.get("paymentType")&&!this.eventModel.get("is_repeating")&&this.eventModel.isPossiblyCCP()&&this.currencyModel.isATDCurrency()?this.set("canBeATD",!0):(this.set("canBeATD",!1),this.disableSalesChannel("atd"),this.enableSalesChannel("online"))},isTaxApplied:function(){return this.taxModel.get("taxEnabled")&&(this.taxModel.get("appliesToAllTickets")||this.get("taxApplies"))?!0:!1},getHourBeforeEventStart:function(){var a=c.Date.fromSql(this.eventModel.get("start_date"));return a.setHours(a.getHours()-1),a=c.Date.toSql(a)},calculateFees:function(){a.ajax({url:"/ajax/fee",data:{available_online:this.isAvailableFor("online"),available_atd:this.isAvailableFor("atd"),eid:this.eventModel.get("eid"),ticket:this.get("id"),cost:this.get("ticketPrice"),currency:this.currencyModel.get("currency"),include_fee:this.get("feeAbsorb"),apply_tax:this.isTaxApplied(),tax_percent:this.taxModel.get("taxPercent"),tax_is_included:this.taxModel.get("taxIsIncluded")},cache:!1,context:this}).success(function(a){a.success&&(this.set({currencySymbol:a.currency_symbol,total:a.total,tax:a.tax,fee:a.fee,formattedTotal:a.formatted_total,formattedTax:a.formatted_tax,formattedFee:a.formatted_fee,formattedCost:a.formatted_cost,formattedCCFee:a.formatted_cc_fee}),this.get("ticketPrice")&&this.set("ticketPrice",a.cost),this.trigger("feesUpdated"))})},canBeDeleted:function(b){this.deleteCallback=b,this.get("readonly")?this.deleteCallback(!1,gettext("You don't have permission to edit ticket type")):this.id?a.ajax("/ajax/num_tickets_sold_by_ticket_type",{type:"GET",success:this.handleNumTicketsSoldSuccess,data:{ticket_id:this.id}}):this.isLiveAndLastTicket()?this.failDeleteWithLastTicketError():this.deleteCallback(!0)},failDeleteWithLastTicketError:function(){var a=gettext("You cannot delete the last ticket while your event is live. Add another ticket or unpublish this event first.");this.deleteCallback(!1,a)},handleNumTicketsSoldSuccess:function(a){var b="";a&&(a.num_attendees>0?(b=gettext("You cannot delete a ticket type that has pending or sold tickets"),this.deleteCallback(!1,b)):this.isLiveAndLastTicket()?this.failDeleteWithLastTicketError():this.deleteCallback(!0))},canEditPrice:function(b){this.editCallback=b,this.get("readonly")?this.editCallback(!1,gettext("You don't have permission to edit ticket type")):this.id?a.ajax("/ajax/num_tickets_sold_by_ticket_type",{type:"GET",success:this.handleNumTicketsSoldSuccessEdit,timeout:1e3,data:{ticket_id:this.id}}):this.editCallback(!0)},handleNumTicketsSoldSuccessEdit:function(a){var b="";a&&a.num_attendees>0?(b=gettext("You cannot edit a ticket type that has pending or sold tickets"),this.editCallback(!1,b)):this.editCallback(!0)},handleSalesStartDateChange:function(){this.set("salesStartIsNow",!1)},isLiveAndLastTicket:function(){return this.eventModel.get("is_live")&&1===this.collection.length?!0:void 0},isAvailableFor:function(a){return this.get("available_"+a)},enableSalesChannel:function(a){this.set("available_"+a,!0)},disableSalesChannel:function(a){this.set("available_"+a,!1)}}),c.Models.TicketModel.FEE_PASS="0",c.Models.TicketModel.FEE_ABSORB="1",c.Models.TicketModel.FEE_SPLIT="2",c.Models.TicketModel.MAX_RELATIVE_END_SALES=9999}(window.jQuery,window._,window.EB,window),/* global _ */
function(a){"use strict";a.namespace("Models"),a.Models.EventModel=a.Backbone.Model.extend({defaults:{is_free:!0,is_live:!1,is_repeating:!1,repeating:"never",is_atd:!0,capacity:0,is_series:!1},validation:{capacity:[{fn:function(a){return!$.isNumeric(a)||parseInt(a,10)<0?window.gettext("Please enter a number"):a&&a.indexOf(".")>-1?window.gettext("Please enter a whole number"):void 0}}]},initialize:function(){this.on("change:repeating",this.setIsRepeating),this.setIsRepeating()},setDefaultCapacity:function(a){0===this.get("capacity")&&this.set("capacity",a.sumQuantity())},setIsRepeating:function(){var a=this.get("repeating");"never"===a||_.isEmpty(a)?this.set("is_repeating",!1):this.set("is_repeating",!0)},isPossiblyCCP:function(){return this.get("currency").isCCP()&&(!this.get("has_payment_type")||this.get("accept_eventbrite"))}}),a.Models.EventModel.EVENT_DELETED=80,"function"==typeof define&&define("require/entities/event_model",function(){return a.Models.EventModel})}(window.EB),function(a,b,c){"use strict";b.namespace("Models"),b.Models.VenueModel=b.Backbone.Model.extend({defaults:{id:"new",venue:"",address_1:"",address_2:"",city:"",state:"",postal_code:"",country:"",latitude:"0.000000",longitude:"0.000000",longaddress:"",zoom:13,showmap:!0,online_event:!1,isCepEnabled:!1},validation:{venue:{maxLength:255},address_1:{maxLength:255},address_2:{maxLength:255},city:{maxLength:255},state:{maxLength:50},postal_code:{maxLength:255},longaddress:{maxLength:255},country:{maxLength:50},latitude:{maxLength:20},longitude:{maxLength:20}},initialize:function(){c.bindAll(this,"updateLongAddress"),this.on("change:address_1 change:address_2 change:postal_code change:city",this.updateLongAddress)},getLabel:function(){return this.get("venue")||this.getComputedLongAddress()},hasMapPosition:function(){return parseFloat(this.get("latitude"))||parseFloat(this.get("longitude"))},updateLongAddress:function(){this.set("longaddress",this.getComputedLongAddress().substring(0,255))},getComputedLongAddress:function(){return this.get("address_1")||this.get("address_2")||this.get("city")||this.get("state")||this.get("postal_code")?c.reduce([this.get("address_1"),this.get("address_2"),this.get("city"),this.get("state"),this.get("postal_code")],function(a,b){return b=b.trim(),b&&(a=a?a+", "+b:b),a},""):""},getAddressComponent:function(a,b,c){var d,e;for(d in a)if(a[d].types&&a[d].types.length)for(e=0;e<a[d].types.length;e++)if(a[d].types[e]===b)return a[d][c?"short_name":"long_name"];return""},updateFromGeocodeGeometry:function(a){this.set({latitude:(a.location.lat()||"").toString().substring(0,this.validation.latitude.maxLength),longitude:(a.location.lng()||"").toString().substring(0,this.validation.longitude.maxLength)})},parseAddressComponents:function(a){var b={},c=this.getAddressComponent(a,"country",!0),d=this.getAddressComponent(a,"route"),e=this.getAddressComponent(a,"street_number");return b.address_1="DE"==c?(d+" "+e).trim():(e+" "+d).trim(),b.address_2=this.getAddressComponent(a,"subpremise")?"#"+this.getAddressComponent(a,"subpremise"):"",b.city=this.getAddressComponent(a,"locality")||this.getAddressComponent(a,"sublocality")||this.getAddressComponent(a,"administrative_area_level_3",!0)||this.getAddressComponent(a,"postal_town"),b.state=this.getAddressComponent(a,"administrative_area_level_1",!0)||this.getAddressComponent(a,"administrative_area_level_2",!0)||this.getAddressComponent(a,"administrative_area_level_3",!0),b.postal_code=this.getAddressComponent(a,"postal_code"),b.country=c,b.venue=this.getAddressComponent(a,"establishment"),b},setFromGooglePlace:function(a){var b,c=a.address_components,d=a.geometry,e=a.formatted_address,f=a.name;this.updateFromGeocodeGeometry(d),b=this.parseAddressComponents(c),b.longaddress=e,f===b.address_1&&(f=""),b.venue=b.venue||f||"",this.set(b)},getPostalCode:function(){return this.get("postal_code")}}),b.App&&b.App.addInitializer&&b.App.reqres.setHandler("venue:entity:new",function(a){return new b.Models.VenueModel(a)}),"function"==typeof define&&define("eb/models/venue_model",function(){return b.Models.VenueModel})}(window.jQuery,window.EB,window._),function(a,b){"use strict";a.namespace("Models"),a.Models.VenueCollection=a.Backbone.Collection.extend({model:a.Models.VenueModel}),b&&b.addInitializer&&b.reqres.setHandler("venue:entities:new",function(b){return new a.Models.VenueCollection(b)})}(window.EB,window.EB.App),/*
 * Ajax Image Upload Feature
 */
window.EB.image_upload=function(EB,$){var DEFAULT_ACTION_URL="/ajax/image_upload",DEFAULT_CONFIRM_REMOVE_TEXT=gettext("Are you sure you wish to delete your profile picture?"),isIE=function(){var a=Array.prototype.slice.call(arguments);return a=a.length?" ("+a.join("|")+")":"",new RegExp("MSIE"+a,"i").test(navigator.userAgent)},form_selector,image_data_selector,image_id_selector,image_version_selector,image_ext_selector,image_sizes_selector,image_max_size_selector,browse_button_selector,upload_button_selector,remove_button_selector,logo_selector,error_selector,callback_name,upload_start_callback,upload_finish_callback,upload_error_callback,remove_callback,action_url,default_image_url,spinnerUrl,confirm_remove_text,unsaved_changes_text,imageUrl=$(logo_selector).attr("src"),errorPoll,reset=function(){var a,b;a=$(image_data_selector).parent(),b=$(image_data_selector).detach(),b.wrap("<form>").closest("form").get(0).reset(),b.unwrap(),a.prepend(b)},check_image_max_size=function(){var a,b;if(image_max_size_selector)try{if(b=$(image_data_selector)[0].files[0].size,a=parseInt($(image_max_size_selector).val(),10),b>a)return error=interpolate(gettext("Your image is %(fileSize)s bytes. The maximum size allowed is %(maxSize)s bytes. Please resize your image and try again."),{fileSize:b,maxSize:a},!0),upload_error_callback(error),!1}catch(c){}return!0},upload=function(a){a&&a.preventDefault(),$(logo_selector).attr("src",spinnerUrl).addClass("spinner"),$(form_selector).attr("target","image_upload"),$(form_selector).attr("action",action_url);var b=$(image_data_selector).attr("name");$(image_data_selector).attr("name","data");var c=$(image_id_selector).attr("name");if($(image_id_selector).attr("name","image_id"),$(form_selector).append('<input id="id_callback" name="callback" type="hidden" value="parent.'+callback_name+'" />'),!check_image_max_size())return!1;try{$(form_selector).submit()}catch(d){return $(image_data_selector).attr("name",b),$(image_id_selector).attr("name",c),!1}$(form_selector).removeAttr("target"),$(form_selector).removeAttr("action"),$(image_data_selector).attr("name",b),$(image_id_selector).attr("name",c),$("#id_callback").remove(),reset(),"function"==typeof upload_start_callback&&upload_start_callback(),errorPoll=setInterval(function(){var a=window.frames.image_upload.document.getElementsByTagName("body")[0];a&&a.innerHTML&&(clearInterval(errorPoll),$("#image_upload").attr("src",""),EB.image_upload.imageUploadCallback({success:!1,error:gettext("An unknown error occurred while uploading your image. Please try again.")}))},100)},imageUploadCallback=function(json){if(!json.success){reset();try{$(logo_selector).attr("src",imageUrl).removeClass("spinner")}catch(e){}return"function"==typeof upload_error_callback&&upload_error_callback(),alert(json.error),void 0}clearInterval(errorPoll),$(image_id_selector).val(json.image_id),$(image_version_selector).val(json.image_version),$(image_ext_selector).val(json.image_ext),$(image_sizes_selector).val(json.image_sizes),imageUrl=json.image_url+"?"+Math.floor(1e12*Math.random()),(new Image).src=imageUrl,setTimeout(function(){try{var offset=160*eval("("+json.image_sizes+")").logo.height/225;offset=offset>160?Math.floor((offset-160)/2):0}catch(e){var offset=0}$(logo_selector).attr("src",imageUrl).removeClass("spinner").css("top","-"+offset+"px"),$(remove_button_selector).removeClass("hidden"),$(error_selector).html(unsaved_changes_text),reset(),"function"==typeof upload_finish_callback&&upload_finish_callback(imageUrl)},500)},noImage=function(a){a.preventDefault(),alert(gettext("Please choose an image to upload."))};return{init:function(a){form_selector=a.form_selector,logo_selector=a.logo_selector,image_data_selector=a.image_data_selector,image_id_selector=a.image_id_selector,image_version_selector=a.image_version_selector,image_ext_selector=a.image_ext_selector,image_sizes_selector=a.image_sizes_selector,image_max_size_selector=a.image_max_size_selector,callback_name="EB.image_upload.imageUploadCallback",upload_button_selector=a.upload_button_selector,remove_button_selector=a.remove_button_selector,error_selector=a.error_selector,browse_button_selector=a.browse_button_selector,upload_start_callback=a.upload_start_callback,upload_finish_callback=a.upload_finish_callback,upload_error_callback=a.upload_error_callback,check_max_size_on_select_file=a.check_max_size_on_select_file,remove_callback=a.remove_callback,action_url=a.action_url||DEFAULT_ACTION_URL,default_image_url=EB.getMediaUrl()+"django/images/icons/default-organizer-logo.png","default_image_url"in a&&(default_image_url=a.default_image_url),confirm_remove_text=a.confirm_remove_text||DEFAULT_CONFIRM_REMOVE_TEXT,"confirm_remove_text"in a&&(confirm_remove_text=a.confirm_remove_text),unsaved_changes_text=gettext("You have unsaved changes. Click save."),"unsaved_changes_text"in a&&(unsaved_changes_text=a.unsaved_changes_text),imageUrl=$(logo_selector).attr("src"),$("body").append('<iframe id="image_upload" name="image_upload" style="display: none;"></iframe>'),spinnerUrl=EB.getMediaUrl()+"django/images/util/spinner32x32.gif",(new Image).src=spinnerUrl,$(browse_button_selector).delegate(image_data_selector,"change",function(){$(this).val()?$(upload_button_selector).removeClass("default").addClass("go").unbind("click").click(upload):$(upload_button_selector).removeClass("go").addClass("default").unbind("click").click(noImage)}),$(upload_button_selector).removeClass("go").addClass("default").unbind("click").click(noImage),check_max_size_on_select_file&&$(image_data_selector).on("change",function(){check_image_max_size()||reset()}),isIE()&&$(browse_button_selector).delegate(image_data_selector,"click",function(){var a=$(this).val(),b=$(this),c=setInterval(function(){b.val()!==a&&(clearInterval(c),b.trigger("change"))},100)}),$(remove_button_selector).click(function(a){a.preventDefault(),confirm(confirm_remove_text)&&($(image_id_selector).val(""),$(image_version_selector).val(""),$(image_ext_selector).val(""),$(image_sizes_selector).val(""),$(logo_selector).attr("src",default_image_url).css("top","0"),$(remove_button_selector).addClass("hidden"),$(error_selector).html(unsaved_changes_text),reset(),EB.DirtyPage&&EB.DirtyPage.setDirty(!0),"function"==typeof remove_callback&&remove_callback())})},imageUploadCallback:imageUploadCallback}}(window.EB||{},window.jQuery),function(a,b,c){"use strict";c.namespace("UIComponents"),c.UIComponents.FilePicker=c.Backbone.View.extend({initialize:function(a){b.bindAll(this,"handleFileSelection","handleFileSelectClick","getFileName"),this.$inputElement=a.inputElement,this.$buttonElement=a.buttonElement,this.$inputElement.on("change",this.handleFileSelection),this.$buttonElement.on("click",this.handleFileSelectClick),this.fileName=""},handleFileSelection:function(){this.fileName=this.$inputElement.val().split("\\").pop(),this.trigger("fileSelected")},handleFileSelectClick:function(a){a.preventDefault(),this.$inputElement.click()},getFileName:function(){return this.fileName}}),a.fn.filepicker=function(d){return this.each(function(){var e=a(this),f=e.find(".js-file-picker__input"),g=e.find(".js-file-picker__button");return new c.UIComponents.FilePicker(b.extend({},d||{},{inputElement:f,buttonElement:g}))})},a(function(){a(".js-file-picker").filepicker()})}(window.jQuery,window._,window.EB,window),//fgnass.github.com/spin.js#v1.3
/**
 * Copyright (c) 2011-2013 Felix Gnass
 * Licensed under the MIT license
 */
function(a,b){a.Spinner=b()}(this,function(){"use strict";function a(a,b){var c,d=document.createElement(a||"div");for(c in b)d[c]=b[c];return d}function b(a){for(var b=1,c=arguments.length;c>b;b++)a.appendChild(arguments[b]);return a}function c(a,b,c,d){var e=["opacity",b,~~(100*a),c,d].join("-"),f=.01+100*(c/d),g=Math.max(1-(1-a)/b*(100-f),a),h=j.substring(0,j.indexOf("Animation")).toLowerCase(),i=h&&"-"+h+"-"||"";return l[e]||(m.insertRule("@"+i+"keyframes "+e+"{0%{opacity:"+g+"}"+f+"%{opacity:"+a+"}"+(f+.01)+"%{opacity:1}"+(f+b)%100+"%{opacity:"+a+"}100%{opacity:"+g+"}}",m.cssRules.length),l[e]=1),e}function d(a,b){var c,d,e=a.style;if(void 0!==e[b])return b;for(b=b.charAt(0).toUpperCase()+b.slice(1),d=0;d<k.length;d++)if(c=k[d]+b,void 0!==e[c])return c}function e(a,b){for(var c in b)a.style[d(a,c)||c]=b[c];return a}function f(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)void 0===a[d]&&(a[d]=c[d])}return a}function g(a){for(var b={x:a.offsetLeft,y:a.offsetTop};a=a.offsetParent;)b.x+=a.offsetLeft,b.y+=a.offsetTop;return b}function h(a){return"undefined"==typeof this?new h(a):(this.opts=f(a||{},h.defaults,n),void 0)}function i(){function c(b,c){return a("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',c)}m.addRule(".spin-vml","behavior:url(#default#VML)"),h.prototype.lines=function(a,d){function f(){return e(c("group",{coordsize:j+" "+j,coordorigin:-i+" "+-i}),{width:j,height:j})}function g(a,g,h){b(l,b(e(f(),{rotation:360/d.lines*a+"deg",left:~~g}),b(e(c("roundrect",{arcsize:d.corners}),{width:i,height:d.width,left:d.radius,top:-d.width>>1,filter:h}),c("fill",{color:d.color,opacity:d.opacity}),c("stroke",{opacity:0}))))}var h,i=d.length+d.width,j=2*i,k=2*-(d.width+d.length)+"px",l=e(f(),{position:"absolute",top:k,left:k});if(d.shadow)for(h=1;h<=d.lines;h++)g(h,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(h=1;h<=d.lines;h++)g(h);return b(a,l)},h.prototype.opacity=function(a,b,c,d){var e=a.firstChild;d=d.shadow&&d.lines||0,e&&b+d<e.childNodes.length&&(e=e.childNodes[b+d],e=e&&e.firstChild,e=e&&e.firstChild,e&&(e.opacity=c))}}var j,k=["webkit","Moz","ms","O"],l={},m=function(){var c=a("style",{type:"text/css"});return b(document.getElementsByTagName("head")[0],c),c.sheet||c.styleSheet}(),n={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};h.defaults={},f(h.prototype,{spin:function(b){this.stop();var c,d,f=this,h=f.opts,i=f.el=e(a(0,{className:h.className}),{position:h.position,width:0,zIndex:h.zIndex}),k=h.radius+h.length+h.width;if(b&&(b.insertBefore(i,b.firstChild||null),d=g(b),c=g(i),e(i,{left:("auto"==h.left?d.x-c.x+(b.offsetWidth>>1):parseInt(h.left,10)+k)+"px",top:("auto"==h.top?d.y-c.y+(b.offsetHeight>>1):parseInt(h.top,10)+k)+"px"})),i.setAttribute("role","progressbar"),f.lines(i,f.opts),!j){var l,m=0,n=(h.lines-1)*(1-h.direction)/2,o=h.fps,p=o/h.speed,q=(1-h.opacity)/(p*h.trail/100),r=p/h.lines;!function s(){m++;for(var a=0;a<h.lines;a++)l=Math.max(1-(m+(h.lines-a)*r)%p*q,h.opacity),f.opacity(i,a*h.direction+n,l,h);f.timeout=f.el&&setTimeout(s,~~(1e3/o))}()}return f},stop:function(){var a=this.el;return a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=void 0),this},lines:function(d,f){function g(b,c){return e(a(),{position:"absolute",width:f.length+f.width+"px",height:f.width+"px",background:b,boxShadow:c,transformOrigin:"left",transform:"rotate("+~~(360/f.lines*i+f.rotate)+"deg) translate("+f.radius+"px,0)",borderRadius:(f.corners*f.width>>1)+"px"})}for(var h,i=0,k=(f.lines-1)*(1-f.direction)/2;i<f.lines;i++)h=e(a(),{position:"absolute",top:1+~(f.width/2)+"px",transform:f.hwaccel?"translate3d(0,0,0)":"",opacity:f.opacity,animation:j&&c(f.opacity,f.trail,k+i*f.direction,f.lines)+" "+1/f.speed+"s linear infinite"}),f.shadow&&b(h,e(g("#000","0 0 4px #000"),{top:"2px"})),b(d,b(h,g(f.color,"0 0 1px rgba(0,0,0,.1)")));return d},opacity:function(a,b,c){b<a.childNodes.length&&(a.childNodes[b].style.opacity=c)}});var o=e(a("group"),{behavior:"url(#default#VML)"});return!d(o,"transform")&&o.adj?i():j=d(o,"animation"),h}),/**
 * Requires
 * - Underscore
 */
function(){"use strict";var a={lines:12,length:2,width:2,radius:4,corners:1,rotate:0,direction:1,color:"#ffffff",speed:1,trail:60,shadow:!1,hwaccel:!1,className:"spinner--small",zIndex:1,top:"auto",left:"auto"},b=_.extend({},a,{length:3,width:3,radius:7,className:"spinner--medium"}),c=_.extend({},a,{length:5,width:4,radius:9,className:"spinner--large"});EB.namespace("SpinSettings"),EB.SpinSettings={small:a,medium:b,large:c}}(),/**
 * Requires:
 * - EB
 * - jQuery
 * - Underscore
 * - vendor/spin-1.3.js (for buttonLoader)
 * - vendor/spin-1.3_settings.js (for buttonLoader)
 */
function(a){"use strict";function b(b,c){var d=a("<div>",{"class":"layout-overlay"});return b.each(function(b,c){var d=a(c);"static"===d.css("position")&&d.css("position","relative")}),c&&d.addClass("layout-overlay--visible"),b.append(d),d}function c(a){a.find(".layout-overlay").remove()}function d(a){var b=EB.SpinSettings.large;return a.hasClass("btn--small")&&(b=EB.SpinSettings.small),a.hasClass("btn--medium")&&(b=EB.SpinSettings.medium),new window.Spinner(_.extend({},b,{top:0}))}function e(e,f,g){var h,i,j=a(e),k=a("<span>",{style:"display: inline;"}),l=d(j),m=a(g);return"block"===j.css("display")&&(k=a("<div>")),j.wrap(k),j.addClass("btn--has-spinner"),l.spin(j.get(0)),h=b(j.parent()),i=b(m),f.always(_.bind(c,null,m.add(j.parent()))).always(function(){l.stop(),j.unwrap(),j.removeClass("btn--has-spinner")}),{buttonOverlay:h,sectionOverlay:i,spinner:l}}function f(d,e){var f,g=a(d),h=new window.Spinner(_.extend({},EB.SpinSettings.large,{color:"#000000"}));return h.spin(g.get(0)),f=b(g,!0),e.always(_.bind(c,null,g)).always(function(){h.stop()}),{overlay:f,spinner:h}}EB.namespace("UIComponents"),EB.UIComponents.Loader={createButtonLoader:e,createSectionLoader:f}}(jQuery),function(a,b,c,d){"use strict";b.namespace("UIComponents"),b.UIComponents.SwitchView=c.View.extend({className:"js-switch-view",initialize:function(b){var c=this;if(d.bindAll(this,"switchButtonClicked","updateToggleButton","updateToggleSize","checkboxChanged"),this.$checkbox=a(b.checkbox),1!==this.$checkbox.length||"checkbox"!==this.$checkbox.attr("type"))throw new Error("SwitchView expects a checkbox as an option");this.switchId=b.checkbox.id,this.isSelected=this.$checkbox.prop("checked"),this.isDisabled=this.$checkbox.prop("disabled"),this.$switchButton=a("<a/>",{href:"#","class":this.className+"-button"}),this.$switchIcon=a("<i/>",{"class":"ico-cross"}),this.$switchButton.on("click",this.switchButtonClicked),this.$checkbox.on("change",this.checkboxChanged),this.$checkbox.on("alternate-button",function(a,b){return c.updateToggleButton(b)}),this.updateToggleButton()},render:function(){return this.$el.addClass("switch"),this.$switchButton.addClass("switch__button"),this.$el.append(this.$switchButton),this.$el.append(this.$switchIcon),this.$el.insertBefore(this.$checkbox),this.$checkbox.detach().appendTo(this.$el).hide(),this},switchButtonClicked:function(a){a.preventDefault(),this.isDisabled||(this.isSelected=!this.isSelected,this.updateToggleButton(),this.trigger("toggle",this.isSelected))},checkboxChanged:function(){this.isSelected=this.$checkbox.prop("checked"),this.updateToggleButton(),this.trigger("toggle",this.isSelected)},updateToggleButton:function(a){void 0!==a&&(this.isSelected=a),this.$switchButton.toggleClass("switch__button--selected",this.isSelected),this.$checkbox.prop("checkbox",this.isSelected),this.$switchButton.html('<span class="switch__bar"></span><span class="switch__bar"></span>'),this.updateToggleSize(this.isSelected),this.$el.toggleClass("switch--disabled",this.isDisabled),this.isSelected?(this.$el.addClass("switch--selected"),this.$switchIcon.removeClass("ico-cross"),this.$switchIcon.addClass("ico-checkmark ico--color-brand-white")):(this.$el.removeClass("switch--selected"),this.$switchIcon.addClass("ico-cross"),this.$switchIcon.removeClass("ico-checkmark ico--color-brand-white"))},updateToggleSize:function(){this.$checkbox.hasClass("switch--small")?(this.$el.addClass("switch--small"),this.$switchIcon.addClass("ico--small")):this.$switchButton.append('<span class="switch__bar"></span>'),this.$checkbox.hasClass("switch--large")&&(this.$el.addClass("switch--large"),this.$switchIcon.addClass("ico--large"))},enable:function(){this.$checkbox.prop("disabled",!1),this.isDisabled=!1,this.updateToggleButton()},disable:function(){this.$checkbox.prop("disabled",!0),this.isDisabled=!0,this.updateToggleButton()}}),b.UIComponents.SwitchView.initializeToggles=function(a){var c=[];return a.each(function(){var a=new b.UIComponents.SwitchView({checkbox:this});c.push(a),a.render()}),c}}(jQuery,window.EB,window.Backbone,window._,window),function(a,b,c,d){"use strict";c.namespace("Media.ImageUpload"),c.Media.MAX_LENGTH_IMAGE_NAME=20,c.Media.ImageUpload=c.Backbone.View.extend({initialize:function(c){b.bindAll(this,"handleFileSelection","handleStartUploadCallback","handleUploadCallback","handleRemoveCallback","handleErrorCallback"),this.$noImage=this.$(".js-image-upload__add-image-section"),this.$uploadImage=this.$(".js-image-upload__upload-image-section"),this.$withImage=this.$(".js-image-upload__with-image-section"),this.$imageForm=this.$(".js-image-upload__form"),this.$uploadForm=this.$imageForm,this.saveImageCallback=c.saveImageCallback,this.removeImageCallback=c.removeImageCallback,this.actionUrl="/ajax/image_upload",this.saveUrl="/ajax/image_save",c.adminPage&&(this.actionUrl="/admin/ajax/image_upload",this.saveUrl="/admin/ajax/image_save"),this.options.uploadFormEl&&(this.$uploadForm=a(this.options.uploadFormEl)),this.initializeUploadInput(),this.initializeImageUpload()},events:{"click .js-image-upload__cancel-button":"handleCancelUploadClick","mouseover .js-image-upload__with-image-section":"handleImageMouseover","mouseout .js-image-upload__with-image-section":"handleImageMouseout"},initializeUploadInput:function(){this.filePicker=new c.UIComponents.FilePicker({inputElement:this.$(".js-file-picker__input"),buttonElement:this.$(".js-file-picker__button")}),this.filePicker.on("fileSelected",this.handleFileSelection)},initializeImageUpload:function(){var a={form_selector:".js-image-upload__form",logo_selector:".js-image-upload__image",image_data_selector:".js-file-picker__input",image_id_selector:"#id_image_id",image_version_selector:"#id_image_version",image_ext_selector:"#id_image_ext",image_sizes_selector:"#id_image_sizes",image_max_size_selector:"#id_max_image_size",upload_button_selector:".js-image-upload__upload-button",remove_button_selector:".js-image-upload__remove-button",error_selector:".js-image-upload div.error",browse_button_selector:".js-image-upload__input-field",confirm_remove_text:gettext("Are you sure you want to delete your image?"),default_image_url:"",action_url:this.actionUrl,upload_start_callback:this.handleStartUploadCallback,upload_finish_callback:this.handleUploadCallback,remove_callback:this.handleRemoveCallback,upload_error_callback:this.handleErrorCallback};"object"==typeof this.options.uploadInit&&b.extend(a,this.options.uploadInit),c.image_upload.init(a)},handleFileSelection:function(){var a=this.filePicker.getFileName();a=this.truncateFileName(a),a&&this.displayUploadImageSection(a)},truncateFileName:function(a){return a.length>c.Media.MAX_LENGTH_IMAGE_NAME&&(a="..."+a.substring(a.length-(c.Media.MAX_LENGTH_IMAGE_NAME-3))),a},handleCancelUploadClick:function(a){a.preventDefault(),this.$uploadForm.each(function(){this.reset()}),this.displayAddImageSection()},handleImageMouseover:function(){this.$(".js-image-upload__remove-button").removeClass("is-hidden")},handleImageMouseout:function(){this.$(".js-image-upload__remove-button").addClass("is-hidden")},handleStartUploadCallback:function(){this.displayWithImageSection()},handleUploadCallback:function(){a.ajax({type:"POST",url:this.saveUrl,data:this.$uploadForm.serialize()}).done(this.saveImageCallback)},handleRemoveCallback:function(){this.displayAddImageSection(),this.removeImageCallback()},handleErrorCallback:function(a){a&&d.alert(a),this.displayAddImageSection()},displayAddImageSection:function(){this.$noImage.removeClass("is-hidden"),this.$uploadImage.addClass("is-hidden"),this.$withImage.addClass("is-hidden")},displayUploadImageSection:function(b){this.$noImage.addClass("is-hidden"),this.$uploadImage.removeClass("is-hidden"),this.$withImage.addClass("is-hidden"),a(".js-image-upload__filename").html(b)},displayWithImageSection:function(){this.$noImage.addClass("is-hidden"),this.$uploadImage.addClass("is-hidden"),this.$withImage.removeClass("is-hidden")}})}(window.jQuery,window._,window.EB,window),/*
 * EB Tiny MCE Helper
 *
 * Requires: /static/js/tiny_mce_XXX/tiny_mce_gzip.js
 *           /php/tinybrowser/tb_tinymce.js.php?u=${ mg.qdata.uid }&s=${ mg.isprod }
 *
 * Note: EB.js is not required.
 *
 */
window.EB=window.EB||{},EB.TinyMCE=function(a,b){var c="/static/js/tiny_mce_347/tiny_mce_gzip.php",d="/php/tinybrowser/tb_tinymce.js.php",e={languages:"en",disk_cache:!0},f={plugins:"advimage,advlink,preview,searchreplace,inlinepopups,media,autoresize,paste",mode:"textareas",dialog_type:"modal",apply_source_formatting:!0,relative_urls:!1,remove_script_host:!1,document_base_url:location.protocol+"//"+location.hostname+"/",extended_valid_elements:"style[type]",theme:"advanced",theme_advanced_buttons1:"bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,fontselect,fontsizeselect,forecolor,backcolor,|,bullist,numlist,|,link,unlink,image,media,|,preview,code",theme_advanced_buttons2:"",theme_advanced_buttons3:"",theme_advanced_toolbar_location:"top",theme_advanced_toolbar_align:"left",file_browser_callback:"tinyBrowser",autoresize_max_height:"600",paste_remove_styles_if_webkit:!1,paste_retain_style_properties:"all",paste_strip_class_attributes:"all"},g=function(a){var b=document.getElementsByTagName("body")[0],c=document.createElement("script");c.type="text/javascript",c.src=a,b.appendChild(c)};return{init:function(a){var h;b.extend(f,a),e.languages=a.language||e.languages,e.plugins=f.plugins,e.themes=f.theme,c=c+"?js=true&diskcache="+(e.disk_cache?"true":"false")+"&core=true&languages="+escape(e.languages)+"&themes="+escape(e.themes)+"&plugins="+escape(e.plugins),b(document).ready(function(){g(c),g(d),h=setInterval(function(){window.tinyMCE&&(clearInterval(h),null!=document.body.contentEditable&&tinyMCE.init(f))},100)})}}}(window.EB,window.jQuery),// this notifies the user of how many characters are remaining for an input box
function(a,b){if(!b)throw new Error("EB.Ui.charLimit: Missing jQuery.");a.Ui=a.Ui||{},a.Ui.charLimit=function(a,c,d,e,f,g){f=f||!1,g=g||{remaining:gettext("Remaining:"),minimum:gettext("Must be at least %(min_length)s characters")};var h=b(a);h.each(function(a,h){var i=b(h),j=i.closest(".module_content").find('.js-charlimit[for="'+h.id+'"]'),k=function(){var a=b(this),f=d-this.value.length,h="";d>0&&(h=g.remaining+" "+f),this.value==a.data("placeholder")&&a.data("placeholder")?j.html(g.remaining+" "+d):(j.removeClass("exceeded warn minimum"),c&&this.value.length<c?(h=interpolate(g.minimum,{min_length:c},!0)+(d>0?"<br/>"+h:""),j.addClass("minimum")):d&&0>f?j.addClass("exceeded"):d&&e>=f&&j.addClass("warn"),j.html(h))},l=function(a){k.call(this,a),j.removeClass("hidden")},m=function(){j.hasClass("exceeded")||j.hasClass("minimum")||j.addClass("hidden")};i.on("keyup",k),f&&(i.on("focus",l).on("blur",m),m())})}}(window.EB=window.EB||{},window.jQuery),// converts SQL dates to and from native JS dates
function(a){a.Date={};var b=a.Date.zerofill=function(a,b){if(a=a.toString(),a.length<b)for(;b>1;)a="0"+a,b-=1;return a};a.Date.toSql=function(a){if("function"==typeof a.getFullYear){var c="";return c+=a.getFullYear()+"-",c+=b(a.getMonth()+1,2)+"-",c+=b(a.getDate(),2)+" ",c+=b(a.getHours(),2)+":",c+=b(a.getMinutes(),2)+":",c+=b(a.getSeconds(),2),c+=a.getMilliseconds()?"."+a.getMilliseconds():""}},a.Date.fromSql=function(a){if(/^[\d]{4}-[\d]{1,2}-[\d]{1,2}( [\d]{1,2}:[\d]{1,2}:[\d]{1,2}(\.[\d]{1,3})?)?$/.test(a)){var b=new Date,c=a.split(" ")[0].split("-"),d=(a.split(" ")[1]||"00:00:00").split(":");return b.setFullYear(c[0]),b.setMonth(Number(c[1])-1,c[2]),b.setHours(d[0]),b.setMinutes(d[1]),b.setSeconds(Math.floor(d[2])),b.setMilliseconds(d[2].split(".")[1]||0),b}},a.Date.toCustom=function(a,c){if("function"!=typeof a.getFullYear)throw"EB.Date.toCustom: Invalid date object.";if(c=c.replace("YYYY",a.getFullYear()),c=c.replace("YY",a.getFullYear().toString().substr(2,2)),c=c.replace("MM",b(a.getMonth()+1,2)),c=c.replace("M",a.getMonth()+1),c=c.replace("DD",b(a.getDate(),2)),c=c.replace("D",a.getDate()),c=c.replace("HH",b(a.getHours(),2)),c=c.replace("H",a.getHours()),"hh:mm a"==c){var d=12==a.getHours()?12:a.getHours()%12;c=c.replace("hh",b(d,2)),c=c.replace("h",d)}else c=c.replace("hh",b(a.getHours(),2)),c=c.replace("h",a.getHours());return c=c.replace("mm",b(a.getMinutes(),2)),c=c.replace("ss",b(a.getSeconds(),2)),c=c.replace("A",a.getHours()>11?"PM":"AM"),c=c.replace("a",a.getHours()>11?"pm":"am")}}(window.EB=window.EB||{}),// placeholders in text input fields
function(a,b){if(!b)throw"EB.Ui.placeholder: Missing jQuery.";a.Ui=a.Ui||{};var c=!1,d=b.fn.val;a.Ui.placeholder=function(a){var e;e=a instanceof b?a:b(a),e=e.filter('input[type="text"], textarea'),e.each(function(){var a=b(this),c=function(){d.call(a)&&d.call(a)!=a.attr("data-placeholder")||!a.data("pristine")?a.removeClass("placeholder"):(d.call(a,a.attr("data-placeholder")),a.addClass("placeholder"))};a.hasClass("placeholder")||(!a[0]||a[0].getAttribute("value")!=a.attr("data-placeholder")&&a.html()!=a.attr("data-placeholder")?a.data("pristine",!0):a.data("pristine",!1),a.attr("data-placeholder")&&(a.focus(function(){d.call(a)==a.attr("data-placeholder")&&a.data("pristine")&&d.call(a,""),a.removeClass("placeholder")}),a.blur(c),c(),a.keyup(function(b){b.keyCode&&(d.call(a)?a.data("pristine",!1):a.data("pristine",!0))})))}),c||(b.fn.val=function(a){if("undefined"!=typeof a)return d.call(this,a);var c=b(this);return d.call(this)==c.attr("data-placeholder")&&c.data("pristine")?"":d.call(this)},b("body").delegate("form","submit",function(){b(this).find('input[type="text"], textarea').each(function(){d.call(b(this))==b(this).attr("data-placeholder")&&b(this).data("pristine")&&d.call(b(this),"")})}),c=!0)}}(window.EB=window.EB||{},window.jQuery),// pretty EB select boxes!!!
function(a,b){"use strict";if(!b)throw"EB.Ui.select: Missing jQuery.";a.Ui=a.Ui||{};var c=!1,d=function(a){var c=!1;return a.parentsUntil("html").each(function(){return"fixed"==b(this).css("position")?(c=!0,!1):void 0}),c},e=function(a,b){return a.length>b?a.substr(0,b)+"...":a};a.Ui.select=function(a){var f,g=function(a){if(!/MSIE\ (5|6|7)/i.test(navigator.userAgent)){var c=a.data("eb_select_id")||"eb_select_"+Math.round(1e6*Math.random()),d='<div class="eb_select" id="'+c+'"><div class="eb_select_inner"><div class="eb_select_value"></div><div class="eb_select_pipe"></div><div class="eb_select_arrow">&#x25BC;</div><ul class="eb_select_list">';return a.find("optgroup, option").each(function(){"OPTION"!=this.nodeName||b(this).attr("disabled")?"OPTGROUP"==this.nodeName&&(d+='<li class="heading">'+b(this).attr("label")+"</li>"):d+='<li class="item'+(b(this).attr("value")==a.val()?" selected":"")+'" data-value="'+b(this).attr("value")+'">'+e(b(this).html(),32)+"</li>"}),d+="</ul></div></div>",a.data("eb_select_id",c),a.after(d).hide(0),c}},h=function(a){var c,d,e,f="eb_select_"+Math.round(1e6*Math.random()),h='<div id="'+f+'" class="eb_select_table"><table class="eb_select_list"><tr>',i=a.hasClass("eb_select_showvals"),j={},k=0;if(!a.find("optgroup").length)return g(a);a.find("optgroup").each(function(){j[b(this).attr("label")]=[]}),a.find("optgroup, option").each(function(){"OPTION"!=this.nodeName||b(this).attr("disabled")?"OPTGROUP"==this.nodeName&&(c=b(this).attr("label")):j[c].push([b(this).val(),b(this).html()])});for(d in j)k=Math.max(k,j[d].length),h+='<td class="heading">'+d+"</th>";for(h+="</tr>",d=0;k>d;d++){h+="<tr>";for(e in j)j[e][d]?(h+='<td class="item'+(j[e][d][0]==a.val()?" selected":"")+'" data-value="'+j[e][d][0]+'"><span class="item_inner'+(j[e][d][0]==a.val()?' selected_inner"':'"')+">"+j[e][d][1]+"</span>",i&&(h+=" ("+j[e][d][0]+")"),h+="</td>"):h+="<td>&nbsp;</td>"}return h+="</table>",a.data("eb_select_id",f),a.after(h),a.css("display","none"),f},i=function(a,c){if(c){var e,f,g=180,h=!1,i=b("#"+c),j=i.find(".eb_select_inner"),k=i.find(".eb_select_list"),l=a.hasClass("eb_select_table"),m=!1;l||(k.css("height","auto"),i.find(".eb_select_value").html(k.find(".item.selected").html()),i.find("li:last").addClass("last"),e=j.outerWidth(),f=k.height(),k.css("height","0"),f>g&&k.css({"max-height":g+"px","overflow-y":"scroll"}),j.css("width",e+"px"),i.css("width",e+"px"),d(i)&&/MSIE/i.test(navigator.userAgent)&&j.css("position","fixed")),!l&&j.find("li.heading").length&&j.addClass("grouped"),j.click(function(a){a.stopImmediatePropagation(),h?(k.animate({height:"0px"},100),j.removeClass("active"),h=!1,j.find(".eb_select_arrow").html("&#x25BC;")):(b(".eb_select_inner.active").trigger("click"),k.animate({height:f+"px"},100),j.addClass("active"),h=!0,j.find(".eb_select_arrow").html("&#x25B2;"))}),k.delegate(".item","click",function(){i.find(".eb_select_value").html(b(this).html()),k.find(".item").removeClass("selected"),b(this).addClass("selected"),l&&(k.find(".selected_inner").removeClass("selected_inner"),b(this).find("span").addClass("selected_inner")),a.val(b(this).attr("data-value")),a.trigger("change")}),k.find(".heading").click(function(a){a.stopImmediatePropagation()}),l||(b(document).keydown(function(a){9===a.keyCode&&(m=!0,window.setTimeout(function(){m=!1},100))}),i.focus(function(){m&&(i.hide(),a.show().focus())}),a.blur(function(){i.show(),a.hide()}))}};if(!c){b(document).click(function(){b(".eb_select_inner.active").trigger("click")});var j=b.fn.val;b.fn.val=function(a){var c=b(this),d=c.attr("data-eb_select_id");if(d&&"undefined"!=typeof a){var e=b("#"+d),f=e.find(".eb_select_list");f.find(".item").each(function(){return c.data("value")==a?(e.find(".eb_select_value").html(c.html()),f.find(".item").removeClass("selected"),c.addClass("selected"),!1):void 0})}return"undefined"!=typeof a?j.call(this,a):j.call(this)},c=!0}f=a instanceof b?a:b(a),f.each(function(){(b(this).is(":visible")||b(this).data("eb_select_id"))&&(b("#"+b(this).data("eb_select_id")).remove(),b(this).hasClass("eb_select_table")?i(b(this),h(b(this))):i(b(this),g(b(this))))})}}(window.EB=window.EB||{},jQuery),// this is a generic lightbox module for showing and hiding lightboxes
function(a,b){if(!b)throw"EB.Ui.lightbox: Missing jQuery.";a.Ui=a.Ui||{},a.Ui.lightbox={};var c=function(a){return a instanceof b?a.eq(0):b(a).eq(0)},d=function(a){if(!a.hasClass("js-eb-lightbox")){var b=(a.outerHeight()||jQuery("body").outerHeight())/2,c=(a.outerWidth()||jQuery("body").outerWidth())/2;a.css({"margin-top":"-"+b+"px","margin-left":"-"+c+"px"})}},e=function(){b("body").css({"max-height":b(window).height()+"px",overflow:"hidden"})},f=function(){b("body").css({"max-height":"none",overflow:"auto"})},g=function(a,c,g){(a.hasClass("eb_lightbox")||a.hasClass("js-eb-lightbox"))&&(c?(f(),a.removeClass("active"),/MSIE\ (5|6|7|8)/i.test(navigator.userAgent)?(a.hide(0,g),b("div.eb_lightbox_background").remove(),a.trigger("lightboxHide")):(a.fadeOut(333,function(){a.trigger("lightboxHide"),"function"==typeof g&&g.call(a)}),b("div.eb_lightbox_background").fadeTo(333,0,function(){b(this).remove()})),b(".js-eb-lightbox-parent").hide()):(a.hasClass("active")||(a.addClass("active"),a.before('<div class="eb_lightbox_background"></div>')),/MSIE\ (5|6|7|8)/i.test(navigator.userAgent)?(a.show(0),b("div.eb_lightbox_background").css("opacity","0.5")):(a.fadeIn(333),b("div.eb_lightbox_background").fadeTo(333,.5)),a.trigger("lightboxShow"),"function"==typeof g&&g.call(a),d(a),e()))},h=function(a){var c=b("div.eb_lightbox.active, .js-eb-lightbox.active"),d=b.Event("lightboxCancel");b(a.target).hasClass("eb_lightbox_background")&&c.data("noBackgroundClick")||(c.trigger(d),d.isDefaultPrevented()||(c.find("input, select, textarea").each(function(){/radio|checkbox/.test(b(this).attr("type"))?this.checked=!!b(this).data("initial"):b(this).val(b(this).data("initial")||"").trigger("change").trigger("blur")}),g(c,!0)))};a.Ui.lightbox.show=function(a,d){var e=c(a);e.find("input, select, textarea").each(function(){/radio|checkbox/.test(b(this).attr("type"))?b(this).data("initial",this.checked):b(this).data("initial",b(this).val())}),g(e,!1,d)},a.Ui.lightbox.hide=function(a,b){g(c(a),!0,b)},a.Ui.lightbox.center=function(a){d(c(a))},b("body").delegate(".js-eb-lightbox__close, div.eb_lightbox_close, div.eb_lightbox .cancel, div.eb_lightbox_background","click",function(a){a.preventDefault(),h(a)}),b("body").delegate("div.eb_lightbox .save","click",function(a){a.preventDefault();var c=b("div.eb_lightbox.active"),d=b.Event("lightboxSave");c.trigger(d),d.isDefaultPrevented()||g(c,!0)}),b(document).keyup(function(a){27==a.keyCode&&h(a)})}(window.EB=window.EB||{},jQuery),function(a){a.namespace("CreatePage");var b,c="<html>\n<head>\n<title>"+gettext("Please wait while we preview your event")+"</title>\n<style>\ndiv {\n  background: url(data:image/gif;base64,R0lGODlhIAAgAPMAAP///wAAAMbGxoSEhLa2tpqamjY2NlZWVtjY2OTk5Ly8vB4eHgQEBAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAIAAgAAAE5xDISWlhperN52JLhSSdRgwVo1ICQZRUsiwHpTJT4iowNS8vyW2icCF6k8HMMBkCEDskxTBDAZwuAkkqIfxIQyhBQBFvAQSDITM5VDW6XNE4KagNh6Bgwe60smQUB3d4Rz1ZBApnFASDd0hihh12BkE9kjAJVlycXIg7CQIFA6SlnJ87paqbSKiKoqusnbMdmDC2tXQlkUhziYtyWTxIfy6BE8WJt5YJvpJivxNaGmLHT0VnOgSYf0dZXS7APdpB309RnHOG5gDqXGLDaC457D1zZ/V/nmOM82XiHRLYKhKP1oZmADdEAAAh+QQJCgAAACwAAAAAIAAgAAAE6hDISWlZpOrNp1lGNRSdRpDUolIGw5RUYhhHukqFu8DsrEyqnWThGvAmhVlteBvojpTDDBUEIFwMFBRAmBkSgOrBFZogCASwBDEY/CZSg7GSE0gSCjQBMVG023xWBhklAnoEdhQEfyNqMIcKjhRsjEdnezB+A4k8gTwJhFuiW4dokXiloUepBAp5qaKpp6+Ho7aWW54wl7obvEe0kRuoplCGepwSx2jJvqHEmGt6whJpGpfJCHmOoNHKaHx61WiSR92E4lbFoq+B6QDtuetcaBPnW6+O7wDHpIiK9SaVK5GgV543tzjgGcghAgAh+QQJCgAAACwAAAAAIAAgAAAE7hDISSkxpOrN5zFHNWRdhSiVoVLHspRUMoyUakyEe8PTPCATW9A14E0UvuAKMNAZKYUZCiBMuBakSQKG8G2FzUWox2AUtAQFcBKlVQoLgQReZhQlCIJesQXI5B0CBnUMOxMCenoCfTCEWBsJColTMANldx15BGs8B5wlCZ9Po6OJkwmRpnqkqnuSrayqfKmqpLajoiW5HJq7FL1Gr2mMMcKUMIiJgIemy7xZtJsTmsM4xHiKv5KMCXqfyUCJEonXPN2rAOIAmsfB3uPoAK++G+w48edZPK+M6hLJpQg484enXIdQFSS1u6UhksENEQAAIfkECQoAAAAsAAAAACAAIAAABOcQyEmpGKLqzWcZRVUQnZYg1aBSh2GUVEIQ2aQOE+G+cD4ntpWkZQj1JIiZIogDFFyHI0UxQwFugMSOFIPJftfVAEoZLBbcLEFhlQiqGp1Vd140AUklUN3eCA51C1EWMzMCezCBBmkxVIVHBWd3HHl9JQOIJSdSnJ0TDKChCwUJjoWMPaGqDKannasMo6WnM562R5YluZRwur0wpgqZE7NKUm+FNRPIhjBJxKZteWuIBMN4zRMIVIhffcgojwCF117i4nlLnY5ztRLsnOk+aV+oJY7V7m76PdkS4trKcdg0Zc0tTcKkRAAAIfkECQoAAAAsAAAAACAAIAAABO4QyEkpKqjqzScpRaVkXZWQEximw1BSCUEIlDohrft6cpKCk5xid5MNJTaAIkekKGQkWyKHkvhKsR7ARmitkAYDYRIbUQRQjWBwJRzChi9CRlBcY1UN4g0/VNB0AlcvcAYHRyZPdEQFYV8ccwR5HWxEJ02YmRMLnJ1xCYp0Y5idpQuhopmmC2KgojKasUQDk5BNAwwMOh2RtRq5uQuPZKGIJQIGwAwGf6I0JXMpC8C7kXWDBINFMxS4DKMAWVWAGYsAdNqW5uaRxkSKJOZKaU3tPOBZ4DuK2LATgJhkPJMgTwKCdFjyPHEnKxFCDhEAACH5BAkKAAAALAAAAAAgACAAAATzEMhJaVKp6s2nIkolIJ2WkBShpkVRWqqQrhLSEu9MZJKK9y1ZrqYK9WiClmvoUaF8gIQSNeF1Er4MNFn4SRSDARWroAIETg1iVwuHjYB1kYc1mwruwXKC9gmsJXliGxc+XiUCby9ydh1sOSdMkpMTBpaXBzsfhoc5l58Gm5yToAaZhaOUqjkDgCWNHAULCwOLaTmzswadEqggQwgHuQsHIoZCHQMMQgQGubVEcxOPFAcMDAYUA85eWARmfSRQCdcMe0zeP1AAygwLlJtPNAAL19DARdPzBOWSm1brJBi45soRAWQAAkrQIykShQ9wVhHCwCQCACH5BAkKAAAALAAAAAAgACAAAATrEMhJaVKp6s2nIkqFZF2VIBWhUsJaTokqUCoBq+E71SRQeyqUToLA7VxF0JDyIQh/MVVPMt1ECZlfcjZJ9mIKoaTl1MRIl5o4CUKXOwmyrCInCKqcWtvadL2SYhyASyNDJ0uIiRMDjI0Fd30/iI2UA5GSS5UDj2l6NoqgOgN4gksEBgYFf0FDqKgHnyZ9OX8HrgYHdHpcHQULXAS2qKpENRg7eAMLC7kTBaixUYFkKAzWAAnLC7FLVxLWDBLKCwaKTULgEwbLA4hJtOkSBNqITT3xEgfLpBtzE/jiuL04RGEBgwWhShRgQExHBAAh+QQJCgAAACwAAAAAIAAgAAAE7xDISWlSqerNpyJKhWRdlSAVoVLCWk6JKlAqAavhO9UkUHsqlE6CwO1cRdCQ8iEIfzFVTzLdRAmZX3I2SfZiCqGk5dTESJeaOAlClzsJsqwiJwiqnFrb2nS9kmIcgEsjQydLiIlHehhpejaIjzh9eomSjZR+ipslWIRLAgMDOR2DOqKogTB9pCUJBagDBXR6XB0EBkIIsaRsGGMMAxoDBgYHTKJiUYEGDAzHC9EACcUGkIgFzgwZ0QsSBcXHiQvOwgDdEwfFs0sDzt4S6BK4xYjkDOzn0unFeBzOBijIm1Dgmg5YFQwsCMjp1oJ8LyIAACH5BAkKAAAALAAAAAAgACAAAATwEMhJaVKp6s2nIkqFZF2VIBWhUsJaTokqUCoBq+E71SRQeyqUToLA7VxF0JDyIQh/MVVPMt1ECZlfcjZJ9mIKoaTl1MRIl5o4CUKXOwmyrCInCKqcWtvadL2SYhyASyNDJ0uIiUd6GGl6NoiPOH16iZKNlH6KmyWFOggHhEEvAwwMA0N9GBsEC6amhnVcEwavDAazGwIDaH1ipaYLBUTCGgQDA8NdHz0FpqgTBwsLqAbWAAnIA4FWKdMLGdYGEgraigbT0OITBcg5QwPT4xLrROZL6AuQAPUS7bxLpoWidY0JtxLHKhwwMJBTHgPKdEQAACH5BAkKAAAALAAAAAAgACAAAATrEMhJaVKp6s2nIkqFZF2VIBWhUsJaTokqUCoBq+E71SRQeyqUToLA7VxF0JDyIQh/MVVPMt1ECZlfcjZJ9mIKoaTl1MRIl5o4CUKXOwmyrCInCKqcWtvadL2SYhyASyNDJ0uIiUd6GAULDJCRiXo1CpGXDJOUjY+Yip9DhToJA4RBLwMLCwVDfRgbBAaqqoZ1XBMHswsHtxtFaH1iqaoGNgAIxRpbFAgfPQSqpbgGBqUD1wBXeCYp1AYZ19JJOYgH1KwA4UBvQwXUBxPqVD9L3sbp2BNk2xvvFPJd+MFCN6HAAIKgNggY0KtEBAAh+QQJCgAAACwAAAAAIAAgAAAE6BDISWlSqerNpyJKhWRdlSAVoVLCWk6JKlAqAavhO9UkUHsqlE6CwO1cRdCQ8iEIfzFVTzLdRAmZX3I2SfYIDMaAFdTESJeaEDAIMxYFqrOUaNW4E4ObYcCXaiBVEgULe0NJaxxtYksjh2NLkZISgDgJhHthkpU4mW6blRiYmZOlh4JWkDqILwUGBnE6TYEbCgevr0N1gH4At7gHiRpFaLNrrq8HNgAJA70AWxQIH1+vsYMDAzZQPC9VCNkDWUhGkuE5PxJNwiUK4UfLzOlD4WvzAHaoG9nxPi5d+jYUqfAhhykOFwJWiAAAIfkECQoAAAAsAAAAACAAIAAABPAQyElpUqnqzaciSoVkXVUMFaFSwlpOCcMYlErAavhOMnNLNo8KsZsMZItJEIDIFSkLGQoQTNhIsFehRww2CQLKF0tYGKYSg+ygsZIuNqJksKgbfgIGepNo2cIUB3V1B3IvNiBYNQaDSTtfhhx0CwVPI0UJe0+bm4g5VgcGoqOcnjmjqDSdnhgEoamcsZuXO1aWQy8KAwOAuTYYGwi7w5h+Kr0SJ8MFihpNbx+4Erq7BYBuzsdiH1jCAzoSfl0rVirNbRXlBBlLX+BP0XJLAPGzTkAuAOqb0WT5AH7OcdCm5B8TgRwSRKIHQtaLCwg1RAAAOwAAAAAAAAAAAA==) no-repeat center center;\n  height: 100%;\n  width: 100%;}\n</style>\n</head>\n<body>\n<div></div>\n</body>\n</html>",d=function(a){var b=a.contentWindow||a.contentDocument;return b.document&&(b=b.document),b},e=parseInt($("#id_eid").val()||0,10),f=null,g=null,h=null,i=function(){$(window).bind("hashchange",function(a){""===a.fragment?p():"preview"===a.fragment&&(window.OmnitureHelper.track(window.OmnitureEventsMap.NEW_CREATE_COLORS_AND_OPTIONS_CLICK),window.tinyMCEDeferred.done(q))});var e=$(".page"),f=$("#tab_details"),g=$("#tab_preview"),h=($("#tab_manage"),$(".main-heading")),i=$("#main_page"),j=$("#preview_page"),k=$("#preview_frame"),l=$("#preview_frame_lightbox"),m=$("#event_form"),n=function(){tinyMCE.triggerSave(),m.attr("action","/preview?processForm=1&hideClose=1&hideHeaderFooter=1"),m.attr("target","preview_frame"),a.CreatePage.submit().always(function(){m.removeAttr("action"),m.removeAttr("target"),m.find('input[type="text"]').trigger("blur")}).pipe(function(){var a=$.Deferred();return $(".js-error-not-saved").hasClass("is-hidden")?a.resolve():a.reject(),a.promise()}).fail(function(){p(),document.location.hash=""})},o=function(){tinyMCE.triggerSave();var b=window.open("","_preview");try{b.document.write(c)}catch(d){b.close(),b=window.open("","_preview"),b.document.write(c)}var e=$("#js_form_errors");e.empty();var f=function(c){b.close(),e.append(a.util.h('<div class="deprecated-notification red">{{a}}</div>',c)),$(window).scrollTop(0)},g=function(b){var c,d=0,e="js-preview-error";for($("."+e).remove(),$(".error").filter(":input").removeClass("error"),d=0;d<b.length;d++)$("#"+b[d].html_id).addClass("error"),"id_group-privacy_and_promotion-custom_subdomain"!==b[d].html_id&&("id_group-location-longaddress"===b[d].html_id?b[d].html_id="id_location_physical_input":"id_group-payment_options-paypal_email"===b[d].html_id&&currencyModel.trigger("paypalError"),c=$("<ul>").addClass(e+" error"),$.each(b[d].errors,function(b,d){c.append(a.util.h("<li>{{a}}</li>",d))}),$("#"+b[d].html_id).parent().append(c));f(gettext("We can't preview your event just yet. Please review the highlighted fields below."))};$("#id_group-invoice_tax_pdf-country").attr("disabled",!1),$("#id_group-tickets-0-cost").attr("disabled",!1),$.ajax({type:"POST",url:"/edit?type=ajax",data:m.serialize(),success:function(c){c.success?(b.location.href="/preview?eid="+c.eid,setTimeout(function(){a.DirtyPage.setDirty(!1),window.location.href="/edit?eid="+c.eid},25)):(c.eid&&$("#id_eid").val(c.eid),g(c.errors))},error:function(){f(gettext("A server error occurred while attempting to preview your event. Please try again."))}})},p=function(){document.body.scrollTop=0,i.addClass("visible active").removeClass("hidden inactive"),j.addClass("hidden inactive").removeClass("visible active"),e.addClass("inactive").removeClass("active"),f.addClass("persistent-header__button--active"),g.removeClass("persistent-header__button--active"),$(".page.main").addClass("active").removeClass("inactive"),$(".js-publish-callout").removeClass("is-hidden"),l.fadeTo(0,.8).find("div").show(),$("#event_summary_bar").show(),$("#id_on_preview").val("0")},q=function(){$(window).scrollTop(0),i.addClass("hidden inactive").removeClass("visible active"),j.addClass("visible active").removeClass("hidden inactive"),e.addClass("inactive").removeClass("active"),f.removeClass("persistent-header__button--active"),g.addClass("persistent-header__button--active"),$(".page.preview").addClass("active").removeClass("inactive"),$(".js-publish-callout").addClass("is-hidden"),$("#event_summary_bar").hide(),$("#id_on_preview").val("1"),l.css("opacity","0.8"),k.load(function(){a.CreatePage.Preview.renderTheme(),"undefined"!=typeof b&&(b?$(d(k[0])).find(".event_title_image").html('<img class="photo" src="'+b+'" />'):$(d(k[0])).find(".event_title_image").empty()),$(this).css("height",$(window.frames.preview_frame.document).height()+"px"),l.fadeTo(333,0).find("div").hide()}),a.CreatePage.Preview.initThemeSlides(),n()};k.load(function(){$(this).css("height",$(window.frames.preview_frame.document).height()+"px")}),$(".preview_button").click(function(a){a.preventDefault(),o()}),$("#id_group-details-name").on("keyup",function(a){var b=$.trim($(a.target).val());0!==h.length&&(""===b?h.text(gettext("Create an Event")):h.text(b))}),$("#id_group-extras-see_whos_going").change(n),/preview\=1/i.test(location.search)?location.hash="preview":"#preview"===location.hash&&("string"!=typeof document.referrer||window.OmnitureHelper.isReferredByEventEditPage()||window.OmnitureHelper.track(window.OmnitureEventsMap.PERSISTENT_NAV_MANAGE_DESIGN_CLICK),0===$(".deprecated-notification").length?window.tinyMCEDeferred.done(q):location.hash="")},j=function(a){var b=$("#last_saved");a&&b.prepend(gettext("Last saved at")+" "+a)},k={updateTimeZoneDisplay:$.noop,selectTimeZone:$.noop,timezoneChangedTooltip:{show:$.noop}},l=function(a){var b=$("#timezone_short"),c=$("#id_group-timezone-timezone_string");k={updateTimeZoneDisplay:function(){var d=c.val();if(d){var e=a[d],f=(e.zone.split("/")[0],e.abbreviation);b.html(f),$("#timezone_short_series").html(f)}},selectTimeZone:function(a){if(a){var b=c.find('option[value="'+a+'"]').length?!0:!1,d=c.val()===a;if(b&&!d)return c.val(a).trigger("change"),!0}},timezoneChangedTooltip:function(){var a,c={placement:"bottom",trigger:"manual",title:gettext("The timezone was changed to match your event's location")};return b.tooltip(c),$("#event_timezone").on("click",function(){b.tooltip("hide"),a&&a.tooltip("hide")}),{show:function(d){a||(a=$("#timezone_short_series"),a.tooltip(c)),b.is(":visible")&&b.tooltip("show"),a.is(":visible")&&a.tooltip("show"),setTimeout(function(){b.tooltip("hide"),a.tooltip("hide")},d||5e3)}}}()}},m=function(a,b,c){var d=$("#event_details_date_timezone");l(a),d.on("click",".save",function(){k.updateTimeZoneDisplay()}),d.on("click",".cancel",function(){d.find("input, select, textarea").each(function(){/radio|checkbox/.test($(this).attr("type"))?this.checked=!!$(this).data("initial"):$(this).val($(this).data("initial")||"").trigger("change").trigger("blur")})}),k.updateTimeZoneDisplay(),c||require(["require/components/timezone/detect_local_timezone"],function(a){var b=a();b&&(k.selectTimeZone(b),k.updateTimeZoneDisplay())})},n=function(){var a=function(a){var b=$("#edit-organizer-desc-"+a).find("textarea").attr("id");$(".edit-organizer-name, .edit-organizer-desc, .preview-organizer-name, .preview-organizer-desc").addClass("hidden").removeClass("visible"),$("#edit-organizer-name-"+a+", #edit-organizer-desc-"+a).addClass("visible").removeClass("hidden"),$("#event_details_organizer .extra .add-edit, #organizer-selector").addClass("hidden").removeClass("visible"),$("#event_details_organizer .extra .cancel").addClass("visible").removeClass("hidden"),$("#organizer_description_label").addClass("visible").removeClass("hidden"),$(".edit_organizer_social").addClass("hidden"),$("#edit_organizer_social_"+a).addClass("visible").removeClass("hidden"),a>0&&$("#edit-organizer-warning").addClass("visible").removeClass("hidden"),tinyMCE.execCommand("mceAddControl",!0,b)},b=function(a){$(".edit-organizer-name, .edit-organizer-desc, .preview-organizer-name, .preview-organizer-desc").addClass("hidden").removeClass("visible"),$("#preview-organizer-name-"+a+", #preview-organizer-desc-"+a).addClass("visible").removeClass("hidden"),$("#event_details_organizer .extra .add-edit, #organizer-selector").addClass("visible").removeClass("hidden"),$("#event_details_organizer .extra .cancel, #edit-organizer-warning").addClass("hidden").removeClass("visible"),$("#organizer_description_label").addClass("hidden").removeClass("visible"),$(".edit_organizer_social").addClass("hidden"),$("#edit_organizer_social_"+a).addClass("visible").removeClass("hidden")};$("#event_details_organizer").on("change",".include_social_page",function(){var a=$(this),b=a.is(":checked"),c=a.parent();$editOrgSocialFacebook=c.siblings(".edit_organizer_social_facebook"),$editOrgSocialTwitter=c.siblings(".edit_organizer_social_twitter"),$editOrgSocialFacebook.toggleClass("hidden",!b),$editOrgSocialTwitter.toggleClass("hidden",!b),$editOrgSocialFacebook.find("input:checkbox").prop("checked",b),$editOrgSocialTwitter.find("input:checkbox").prop("checked",b)}),$("#id_group-organizer-organizer").change(function(){$("#organizer-selector").data("has-error")?a($(this).val()):b($(this).val())}),$("#event_details_organizer .extra .edit").click(function(b){b.preventDefault();var c=$("#id_group-organizer-organizer").val()||"1";a(c)}),$("#event_details_organizer .extra .cancel").click(function(a){a.preventDefault(),$('#event_details_organizer input[type="text"]').each(function(){$(this).val($(this).data("initial"))}),$("#event_details_organizer textarea").each(function(){$(this).val($(this).data("initial")),tinyMCE.get($(this).attr("id"))&&tinyMCE.get($(this).attr("id")).setContent($(this).data("initial"))});var c=$("#id_group-organizer-organizer").val()||"1";b(c),"True"==$("#id_group-organizer-add_organizer").val()&&$("#id_group-organizer-add_organizer").val("False")}),$("#event_details_organizer .extra .add").click(function(b){b.preventDefault();var c="0",d=$("#edit-organizer-desc-"+c).find("textarea").attr("id");a(c),$("#id_group-organizer-add_organizer").val("True"),tinyMCE.execCommand("mceAddControl",!0,d)})},o=function(){a.Media.ImageUpload.prototype.handleImageMouseover=function(){},a.Media.ImageUpload.prototype.handleImageMouseout=function(){};{var c=$(".js-image-upload__image"),e=$(".form__logo-upload__with-image-section .form__logo-upload__image-controls");new a.Media.ImageUpload({el:"#event-logo-uploader",filePickerEl:".js-file-picker__input",uploadFormEl:"#event_form",uploadInit:{form_selector:"#event_form",image_data_selector:"#id_group-logo-logo-upload-form",image_id_selector:"#id_logo_id-upload-form",image_version_selector:"#id_logo_version-upload-form",image_ext_selector:"#id_logo_ext-upload-form",image_sizes_selector:"#id_logo_sizes-upload-form",check_max_size_on_select_file:1},saveImageCallback:function(){var a=c.attr("src"),f=d($("#preview_frame")[0]);e.addClass("is-forced-visible"),c.parent(".js-uploaded-image-container").removeClass("l-padded-v-4").removeClass("l-padded-h-3").removeClass("pod").removeClass("pod--empty"),b=a,$(".event_title_image").html('<img class="photo" src="'+a+'" />'),f&&$(f).find(".event_title_image").html('<img class="photo" src="'+a+'" />')},removeImageCallback:function(){var a=d($("#preview_frame")[0]);e.removeClass("is-forced-visible"),c.parent(".js-uploaded-image-container").addClass("l-padded-v-4").addClass("l-padded-h-3").addClass("pod").addClass("pod--empty"),$(".event_title_image").html(b?'<img class="photo" src="'+b+'" />':""),b="",a&&$(a).find(".event_title_image").empty()}})}""===c.attr("src")?c.parent(".js-uploaded-image-container").addClass("l-padded-v-4").addClass("l-padded-h-3").addClass("pod").addClass("pod--empty"):e.addClass("is-forced-visible")},p=function(){$('#event_questions_questions_required input[type="radio"]').change(function(){$("#id_group-questions-questions_required_3").is(":checked")?$(this).parentsUntil("ul").last().before('<li class="message">'+gettext("Go to Collect Custom Information within event management for additional options")+"</li>"):$(this).parentsUntil("div.right").find("li.message").remove()})},q=function(a){var b=$("#add_faqs_lightbox"),c=b.find(".faq_div"),d="id_group-details-description",e=function(){return c.find('input[type="checkbox"]:checked')},f=function(){e().each(function(){this.checked=!1,$(this).data("initial",!1)})},g=function(){return tinyMCE.get(d)},h=function(){var b="";return a.forEach(function(a,c){b+="<h3>"+a.heading+"</h3>",a.faqs.forEach(function(a,d){b+='<p><input id="faq-lightbox-checkbox'+c+d+'" type="checkbox" value="'+[c,d].join(",")+'" /> <label for="faq-lightbox-checkbox'+c+d+'">'+a+"</label></p>"})}),b},i=function(){var b=e();if(b.length){var c="<p>&nbsp;</p><p><b>"+gettext("FAQs")+"</b></p><p>&nbsp;</p>";return b.each(function(){var b=$(this).val().split(",");c+="<p><b>"+a[b[0]].faqs[b[1]]+"</b></p>",c+="<p>"+gettext("Your answer goes here")+"</p><p>&nbsp;</p>"}),c}};c.html(h()),$(document).on("click","#add_faqs",function(){window.OmnitureHelper.track(window.OmnitureEventsMap.NEW_CREATE_EVENT_DESCRIPTION_ADD_FAQ_CLICK)}),$("#add_faqs_lightbox").on("click",".js-save-faqs",function(a){var b,c,d;a.preventDefault(),b=i(),b&&(c=g(),c.isHidden()&&c.show(),d=c.getContent(),c.setContent(d+b)),f()})},r=function(){$("#event_details_bar .preview_button").on("click",function(){window.OmnitureHelper.track(window.OmnitureEventsMap.NEW_CREATE_TOP_PREVIEW_CLICK)}),$("#footer_buttons .preview_button").on("click",function(){window.OmnitureHelper.track(window.OmnitureEventsMap.NEW_CREATE_BOTTOM_PREVIEW_CLICK)}),$("#event_details_header .tip").on("click",function(){window.OmnitureHelper.track(window.OmnitureEventsMap.NEW_CREATE_EXPERT_TIPS_CLICK)}),$("#create_tickets_header .tip").on("click",function(){window.OmnitureHelper.track(window.OmnitureEventsMap.NEW_CREATE_TICKET_TIPS_CLICK)}),$("#privacy_and_promotion_wrapper .tip").on("click",function(){window.OmnitureHelper.track(window.OmnitureEventsMap.NEW_CREATE_PROMOTE_TIPS_CLICK)}),$("#next_step_buttons .submit_for_live").on("click",function(){window.OmnitureHelper.track(window.OmnitureEventsMap.NEW_CREATE_BODY_MAKE_EVENT_LIVE_CLICK)}),$("#next_step_buttons .js-design-callout").on("click",function(){window.OmnitureHelper.track(window.OmnitureEventsMap.NEW_CREATE_COLORS_AND_OPTIONS_CLICK)})},s=function(){$(".tax_lightbox_link").on("click",function(){a.Analytics.recordAction({name:"tax",category:"new_create"})}),$(".js-change-currency-link").on("click",function(){a.Analytics.recordAction({name:"currency",category:"new_create"})})},t=function(){a.Ui.lightbox.show("#new_create_benefit"),$(".lightbox-close").on("click",function(){a.Ui.lightbox.hide("#new_create_benefit")})},u=function(){var b=$("#welcome_modal");a.Ui.lightbox.show("#"+b.attr("id")),b.bind("lightboxCancel",function(){a.Analytics.trackExperimentConversion({experimentName:"create_welcome_modal_2",conversionType:"lightbox_cancel"})}),b.find(".js-attendee-redirect").bind("click",function(){a.Analytics.trackExperimentConversion({experimentName:"create_welcome_modal_2",conversionType:"find_events_click",isOutboundLinkClickNoCookie:!0})}),b.find(".js-welcome-modal-create-event").bind("click",function(b){b.preventDefault(),a.Analytics.trackExperimentConversion({experimentName:"create_welcome_modal_2",conversionType:"create_event_click"}),a.Ui.lightbox.hide("#welcome_modal")})},v=function(){$(".submit_for_live").on("click",function(b){b.preventDefault(),a.CreatePage.submit(1)})},w=function(b){var c=$("#event_form select[disabled], #event_form input[disabled]"),d=$("#event_form"),e=new Date,g=$("#id_group-details-repeat_selection").val(),i=!1,j=!1,k=$.Deferred();return $(".js-error-not-saved").addClass("is-hidden"),tinymce.triggerSave(),$(".include_social_page").trigger("change"),"never"!==g&&""!==g&&void 0!==g&&$(".js-sales-start-time-picker").detach(),b&&(/^never$|^$/i.test(g)&&a.Date.fromSql($("#id_group-details-end_date").val())<e&&(confirm(gettext("Both the start and end date for this event are set in the past. Do you want to continue?"))||(j=!0)),1===eventModel.get("inventory_type")&&(!eventModel.get("has_payment_type")||eventModel.get("accept_eventbrite")&&!currencyModel.requiresPaypal()||(alert(window.gettext("Reserved Seating events require using Eventbrite Payment Processing and its supported currencies. Please change your payment processing on the Manage page or search for 'Credit card processing setup' on help.eventbrite.com.")),j=!0),eventModel.get("is_repeating")&&(alert(window.gettext("Reserved Seating is not yet supported for repeating events.")),j=!0)),eventModel.get("is_series")&&h&&0===h.length&&(alert(window.gettext("You must add at least one date to your repeating event.")),j=!0)),i=this.validateTickets(),j||(j=i),"daily"===g&&a.Date.fromSql($("#id_daily-ends_after").val())<e&&(confirm(window.gettext("The daily repeat end date is set in the past.  No available dates will be shown on the registration page.\n\nDo you wish to continue?"))||(j=!0)),"weekly"===g&&a.Date.fromSql($("#id_weekly-ends_after").val())<e&&(confirm(window.gettext("The weekly repeat end date is set in the past.  No available dates will be shown on the registration page.\n\nDo you wish to continue?"))||(j=!0)),"monthly"===g&&a.Date.fromSql($("#id_monthly-ends_after").val())<e&&(confirm(window.gettext("The monthly repeat end date is set in the past.  No available dates will be shown on the registration page.\n\nDo you wish to continue?"))||(j=!0)),eventModel.get("allow_transfers")&&!f.hasPaidTicket()&&(confirm(window.gettext("You have turned on transfers for one or more tickets on this event. Changing this to a free or donation-only event will disable transfers for this event. Continue?"))||(j=!0)),j?(k.reject(),k.promise()):(b&&$("#id_group-details-make_live").val(1),a.DirtyPage.setDirty(!1),f&&f.removeStartDateWhenUnchanged(),c.removeAttr("disabled"),a.CreatePage.preFormSubmitHandler(b,eventModel,function(){d.submit(),c.attr("disabled","true"),k.resolve()}),k.promise())},x={init:function(b){var c=$("#event_form");a.Ui.placeholder('input:not([id*="__prefix__"])');var d=$("#id_group-details-name");a.Ui.charLimit("#id_group-details-name",0,75,20,!0),d.hasClass("error")&&d.keyup(function(){$(this).val().length>0?($(this).removeClass("error"),$("#id_group-details-name_errors").addClass("hidden")):($(this).addClass("error"),$("#id_group-details-name_errors").removeClass("hidden"))}),"boolean"==typeof b.persistentNavigationFlag&&b.persistentNavigationFlag&&-1===document.location.href.indexOf("/try-eventbrite")&&$("#tab_manage").on("click",function(b){var c=($(this),$("#event_form")),d=a.DirtyPage.isDirty(),e=window.gettext("Do you want to save the changes made to your event?"),f=window.gettext("Do you want to save changes to the draft event you've created?\nYour changes will be lost if you do not save them."),g=e;-1===document.location.pathname.search("edit")&&(g=f),a.DirtyPage.setDirty(!1),d&&confirm(g)&&(b.preventDefault(),c.append($('<input type="hidden" name="go_to_manage" value="1" />')),a.CreatePage.submit())}),c.on("click",".js-create-seat-map",function(b){b.preventDefault(),c.append($('<input type="hidden" name="go_to_seatmap" value="1" />')),a.CreatePage.submit()}),c.on("keypress",function(a){13===a.keyCode&&a.preventDefault()}),b.showInfoModal.display&&u(b.showInfoModal),i(),j(b.lastSaved),n(),m(b.timezone_info,b.readonly_date,b.isEventSaved),o(),p(),q(b.faqs),r(),s(),v(),b.showNewCreateBenefit&&t(),window.save=a.CreatePage.submit,window.publish=function(){a.CreatePage.submit(1)}},submit:_.debounce(w,1e3,!0),preFormSubmitHandler:function(a,b,c){c()},eid:e,setTicketCollection:function(a){f=a},setTicketSummaryView:function(a){g=a},validateTickets:function(){var a=!1;return(f&&g&&g.validateViews()||!eventModel.isValid(!0))&&($(".js-error-not-saved").removeClass("is-hidden"),$("html body").stop().animate({scrollTop:0},400),a=!0),parseInt($("#id_group-tickets-TOTAL_FORMS").val(),10)>0&&0===$("#id_group-tickets-0-id").length&&(a=!0),a},setSeriesCollection:function(a){h=a},updateTimeZoneByGeo:function(a,b){parseFloat(a,10)&&parseFloat(b,10)&&$.ajax({url:"/ajax/timezone_from_geo",data:{latitude:a,longitude:b}}).done(function(a){a&&a.timezone&&k.selectTimeZone(a.timezone)&&(k.updateTimeZoneDisplay(),k.timezoneChangedTooltip.show())})}};_.extend(a.CreatePage,x)}(window.EB),function(a,b,c){"use strict";a.namespace("CreatePage"),a.CreatePage.NewLocationController=c.Controller.extend({initialize:function(){_.bindAll(this,"locationEdit","locationCantFind","locationIsOnline","locationSelectPast"),this.view=new a.CreatePage.NewLocationView({model:this.sandbox.request("venue:entity:new"),hasPastLocations:!!this.sandbox.request("venue:entities:past"),isCepEnabled:!!(a.CreatePage.featureFlags&&a.CreatePage.featureFlags.isBrasil()&&a.CreatePage.featureFlags.isCepEnabled())}),this.region.show(this.view),this.listenTo(this.view,"location:place:selected",this.locationEdit),this.listenTo(this.view,"location:cantFind:clicked",this.locationCantFind),this.listenTo(this.view,"location:isOnline:clicked",this.locationIsOnline),this.listenTo(this.view,"location:selectPast:clicked",this.locationSelectPast),this.listenTo(this.view,"location:cep:selected",this.locationEdit)},locationEdit:function(){this.sandbox.execute("location:navigate:edit")},locationCantFind:function(){this.sandbox.request("venue:entity:new"),this.sandbox.execute("location:navigate:edit")},locationIsOnline:function(){this.sandbox.execute("location:navigate:isOnline")},locationSelectPast:function(){this.sandbox.execute("location:navigate:selectPast")},onClose:function(){this.view.close()}}).mixin(a.Backbone.Mixins.enforceDependencies,{dependencies:["sandbox","region"]})}(window.EB,window.EB.App,window.Marionette),function(a,b,c){"use strict";a.namespace("CreatePage"),a.CreatePage.NewLocationView=c.ItemView.extend({bindings:{".js-location-input-new":"address_1"},triggers:{"click .js-location-cant-find":"location:cantFind:clicked","click .js-location-is-online":"location:isOnline:clicked","click .js-location-select-past":"location:selectPast:clicked","click .js-location-cep":"location:cep:selected"},template:"new_location",initialize:function(){_.bindAll(this,"clearGoogleMapsAutoCompleteListeners","handleCantFindLocationClick","handlePlaceSelected","initializeGoogleMapsAutocomplete","injectCantFindLocationAutocomplete","handleLatLongChange"),this.listenTo(this.model,"change:latitude change:longitude",_.debounce(this.handleLatLongChange,10))},getTemplate:function(){return window.Handlebars.templates.new_location},onRender:function(){b.request("googleMapsAPIDeferred").done(this.initializeGoogleMapsAutocomplete),a.Ui.placeholder(this.$el.find('input[type="text"]'))},initializeGoogleMapsAutocomplete:function(a){this.googlePlacesAutocompleteEl=this.$(".js-location-input-new")[0],this.googlePlacesAutocomplete=new a.places.Autocomplete(this.googlePlacesAutocompleteEl),this.injectCantFindLocationAutocomplete(),a.event.addListener(this.googlePlacesAutocomplete,"place_changed",this.handlePlaceSelected)},handleCantFindLocationClick:function(){this.trigger("location:cantFind:clicked")},serializeData:function(){return{hasPastLocations:this.hasPastLocations,isCepEnabled:this.isCepEnabled}},handleLatLongChange:function(){a.CreatePage.updateTimeZoneByGeo(this.model.get("latitude"),this.model.get("longitude"))},injectCantFindLocationAutocomplete:function(){var a=$(".pac-container");a.length?(a.addClass("location-autocomplete-container"),a.append(window.Handlebars.templates.cant_find_location()),a.find(".js-location-cant-find").on("mousedown",this.handleCantFindLocationClick)):setTimeout(this.injectCantFindLocationAutocomplete,100)},handlePlaceSelected:function(){var a=this.googlePlacesAutocomplete.getPlace();a.geometry&&(this.model.setFromGooglePlace(a),this.trigger("location:place:selected"))},clearGoogleMapsAutoCompleteListeners:function(a){"undefined"!=typeof this.googlePlacesAutocomplete&&a.event.clearInstanceListeners(this.googlePlacesAutocomplete)},detachAutoCompleteContainer:function(){$(".pac-container").detach()},onClose:function(){this.detachAutoCompleteContainer(),b.request("googleMapsAPIDeferred").done(this.clearGoogleMapsAutoCompleteListeners)}}).mixin(a.Backbone.Mixins.withStickitForMarionette).mixin(a.Backbone.Mixins.enforceDependencies,{dependencies:["hasPastLocations","isCepEnabled"]})}(window.EB,window.EB.App,window.Marionette),function(a,b,c){"use strict";a.namespace("CreatePage"),a.CreatePage.EditLocationController=c.Controller.extend({initialize:function(b){_.bindAll(this,"resetLocation"),this.view=new a.CreatePage.EditLocationView({model:this.sandbox.request("venue:entity:current"),sandbox:this.sandbox,isCepEnabled:!!(a.CreatePage.featureFlags&&a.CreatePage.featureFlags.isBrasil()&&a.CreatePage.featureFlags.isCepEnabled())}),this.region.show(this.view),b&&!_.isEmpty(b.errors)&&this.view.displayValidationErrors(b.errors),this.listenTo(this.view,"location:reset:clicked",this.resetLocation)},resetLocation:function(){this.sandbox.execute("location:navigate:new")},onClose:function(){this.view.close()}}).mixin(a.Backbone.Mixins.enforceDependencies,{dependencies:["sandbox","region"]})}(window.EB,window.EB.App,window.Marionette),function(a,b,c){"use strict";a.namespace("CreatePage"),a.CreatePage.EditLocationView=c.Layout.extend({regions:{googleMap:".js-google-map-region"},triggers:{"click .js-location-reset":"location:reset:clicked"},getTemplate:function(){return window.Handlebars.templates.edit_location},bindings:{".js-location-edit-venue":"venue",".js-location-edit-address_1":"address_1",".js-location-edit-address_2":"address_2",".js-location-edit-city":"city",".js-location-edit-postal_code":"postal_code",".js-location-edit-state":"state",".js-location-edit-country":"country",".js-location-edit-zoom":"zoom",".js-location-edit-longaddress":"longaddress",".js-location-edit-longitude":"longitude",".js-location-edit-latitude":"latitude",".js-location-edit-showmap":"showmap"},initialize:function(){_.bindAll(this,"getGoogleMapView","handleGeocoderResponse","handleLatLongChange","handleModelChange","initializeGoogleMap","updateTimeZone")
},onRender:function(){b.request("googleMapsAPIDeferred").done(this.initializeGoogleMap),a.Ui.placeholder(this.$el.find('input[type="text"]')),$("#start_date_date").datepicker("hide").trigger("blur"),window.setTimeout(_.bind(function(){this.isCepEnabled||(this.model.get("address_1")?this.$(".js-location-edit-venue").trigger("focus"):this.$(".js-location-edit-address_1").trigger("focus"))},this),0)},getGoogleMapView:function(b){return new a.CreatePage.GoogleMapView({googleMapsAPI:b,model:this.model,sandbox:this.sandbox})},initializeGoogleMap:function(a){this.listenTo(this.model,"change:address_1 change:address_2 change:postal_code change:city",_.bind(this.handleModelChange,this,a)),this.listenTo(this.model,"change:latitude change:longitude",_.bind(this.handleLatLongChange,this,a)),this.listenTo(this.model,"change:latitude change:longitude",_.debounce(this.updateTimeZone,10)),this.renderGoogleMapsRegion(a)},renderGoogleMapsRegion:function(b){this.model.hasMapPosition()?this.googleMap.currentView instanceof a.CreatePage.GoogleMapView||this.googleMap.show(this.getGoogleMapView(b)):this.googleMap.currentView instanceof a.CreatePage.MapPlaceholderView||this.googleMap.show(new a.CreatePage.MapPlaceholderView)},handleLatLongChange:function(a){this.renderGoogleMapsRegion(a)},updateTimeZone:function(){a.CreatePage.updateTimeZoneByGeo(this.model.get("latitude"),this.model.get("longitude"))},handleModelChange:function(a){"undefined"==typeof this.geocoder&&(this.geocoder=new a.Geocoder);var b=this.model.getComputedLongAddress();this.geocoder.geocode({address:b},_.bind(this.handleGeocoderResponse,this,a))},handleGeocoderResponse:function(a,b,c){if(c===a.GeocoderStatus.OK&&b.length>0){var d=b[0],e=d.address_components,f=this.model.parseAddressComponents(e);this.model.updateFromGeocodeGeometry(d.geometry),this.model.set("country",f.country)}else this.model.set({latitude:"0.0",longitude:"0.0",country:""})},serializeData:function(){return{isCepEnabled:this.isCepEnabled}}}).mixin(a.Backbone.Mixins.withStickitForMarionette).mixin(a.Backbone.Mixins.withInputValidation).mixin(a.Backbone.Mixins.enforceDependencies,{dependencies:["sandbox","isCepEnabled"]})}(window.EB,window.EB.App,window.Marionette),function(a,b,c){"use strict";a.namespace("CreatePage"),a.CreatePage.GoogleMapView=c.ItemView.extend({initialize:function(){_.bindAll(this,"handleLatLongChange","handleModelZoomChange","handleMapZoomChange"),this.listenTo(this.model,"change:zoom",this.handleModelZoomChange),this.listenTo(this.model,"change:latitude change:longitude",this.handleLatLongChange),this.googleMapsAPI.event.addListener(this.getMap(),"zoom_changed",this.handleMapZoomChange)},getTemplate:function(){return _.template("")},onRender:function(){this.appendMap(),this.updateLatLong(),this.updateZoom(),this.updateMarker()},appendMap:function(){this.$el.append(this.getMap().getDiv())},detachMap:function(){$(this.getMap().getDiv()).detach()},getMarker:function(){return"undefined"==typeof this._marker&&(this._marker=new this.googleMapsAPI.Marker({map:this.getMap(),draggable:!1})),this._marker},getMap:function(){return"undefined"==typeof this._map&&(this._map=this.sandbox.request("googleMap",this.googleMapsAPI)),this._map},handleLatLongChange:function(){this.updateLatLong(),this.updateMarker()},handleModelZoomChange:function(a,b){this.getMap().setZoom(b)},handleMapZoomChange:function(){this.model.set("zoom",this.getMap().getZoom())},updateLatLong:function(){this.getMap().setCenter(this.getLatLong())},updateMarker:function(){this.getMarker().setPosition(this.getMap().getCenter())},updateZoom:function(){this.getMap().setZoom(this.model.get("zoom"))},getLatLong:function(){return new this.googleMapsAPI.LatLng(this.model.get("latitude"),this.model.get("longitude"))},removeMarker:function(){this.getMarker().setMap(null)},onClose:function(){this.removeMarker(),this.detachMap(),this.googleMapsAPI.event.clearInstanceListeners(this.getMap())}}).mixin(a.Backbone.Mixins.enforceDependencies,{dependencies:["googleMapsAPI","model","sandbox"]})}(window.EB,window.EB.App,window.Marionette),function(a){"use strict";a.namespace("CreatePage"),a.CreatePage.MapPlaceholderView=a.Backbone.View.extend({}).mixin(a.Backbone.Mixins.withTemplate,{templateName:"location_placeholder"})}(window.EB,window.EB.App,window.Marionette),function(a,b,c){"use strict";a.namespace("CreatePage"),a.CreatePage.OnlineLocationController=c.Controller.extend({initialize:function(){_.bindAll(this,"newLocation"),this.view=new a.CreatePage.OnlineLocationView,this.region.show(this.view),this.listenTo(this.view,"location:new",this.newLocation)},newLocation:function(){this.sandbox.execute("location:navigate:new")}}).mixin(a.Backbone.Mixins.enforceDependencies,{dependencies:["sandbox","region"]})}(window.EB,window.EB.App,window.Marionette),function(a,b,c){"use strict";a.namespace("CreatePage"),a.CreatePage.OnlineLocationView=c.ItemView.extend({className:"g-cell g-cell-1-1",triggers:{"click .js-location-new":"location:new"},getTemplate:function(){return window.Handlebars.templates.online_location}})}(window.EB,window.EB.App,window.Marionette),function(a,b,c){"use strict";a.namespace("CreatePage"),a.CreatePage.PastLocationController=c.Controller.extend({initialize:function(){_.bindAll(this,"locationIsOnline","resetLocation","setPastLocation"),this.view=new a.CreatePage.PastLocationView({model:this.sandbox.request("venue:entity:new"),collection:this.sandbox.request("venue:entities:past")}),this.listenTo(this.view,"location:isOnline:clicked",this.locationIsOnline),this.listenTo(this.view,"location:reset:clicked",this.resetLocation),this.listenTo(this.view,"location:pastLocation:selected",this.setPastLocation),this.region.show(this.view)},resetLocation:function(){this.sandbox.execute("location:navigate:new")},locationIsOnline:function(){this.sandbox.execute("location:navigate:isOnline")},setPastLocation:function(b){this.view.model.set(b.attributes),this.sandbox.execute("location:navigate:edit"),a.CreatePage.updateTimeZoneByGeo(this.view.model.get("latitude"),this.view.model.get("longitude"))},onClose:function(){this.view.close()}}).mixin(a.Backbone.Mixins.enforceDependencies,{dependencies:["sandbox","region"]})}(window.EB,window.EB.App,window.Marionette,window.jQuery),function(a,b,c){"use strict";a.namespace("CreatePage"),a.CreatePage.PastLocationView=c.ItemView.extend({className:"g-cell g-cell-1-1",events:{"change .js-location-select-past":"handlePastVenueChange"},triggers:{"click .js-location-reset":"location:reset:clicked","click .js-location-is-online":"location:isOnline:clicked"},initialize:function(){_.bindAll(this,"handlePastVenueChange")},getTemplate:function(){return window.Handlebars.templates.past_locations},renderCustomSelect:function(){this.customSelectBox=new a.UIComponents.SelectBox({element:this.$(".js-location-select-past"),parentClass:"responsive-form__select"})},onRender:function(){this.renderCustomSelect()},handlePastVenueChange:function(a){var b=a.currentTarget.value;b&&this.trigger("location:pastLocation:selected",this.collection.findWhere({id:parseInt(b,10)}))},serializeData:function(){return{collection:this.collection.toJSON(),pastVenueOptions:_.map(this.collection.models,function(a){return{label:a.getLabel(),value:a.get("id")}})}},onClose:function(){this.customSelectBox&&this.customSelectBox.remove()}}).mixin(a.Backbone.Mixins.enforceDependencies,{dependencies:["collection","model"]})}(window.EB,window.EB.App,window.Marionette,window.jQuery),function(a,b,c){"use strict";a.namespace("CreatePage"),a.CreatePage.LocationLayout=c.Layout.extend({regions:{content:".js-region-location-content"},bindings:{'[name="group-location-old_venue"]':"id",'[name="group-extras-online_event"]':{observe:"online_event",onGet:"toPythonBoolean"},'[name="group-location-venue"]':"venue",'[name="group-location-address_1"]':"address_1",'[name="group-location-address_2"]':"address_2",'[name="group-location-city"]':"city",'[name="group-location-postal_code"]':"postal_code",'[name="group-location-state"]':"state",'[name="group-location-country"]':"country",'[name="group-location-zoom"]':"zoom",'[name="group-location-longaddress"]':"longaddress",'[name="group-location-longitude"]':"longitude",'[name="group-location-latitude"]':"latitude",'[name="group-location-showmap"]':{observe:"showmap",onGet:"toPythonBoolean"}},toPythonBoolean:function(a){return a?"True":"False"}}).mixin(a.Backbone.Mixins.withTemplate,{templateName:"location_layout"}).mixin(a.Backbone.Mixins.withStickit)}(window.EB,window.EB.App,window.Marionette,window.jQuery),function(a,b){"use strict";a.namespace("CreatePage"),a.CreatePage.LocationComponentFactory=a.ComponentFactory.extend({start:function(a){this.initializePastVenues(a.pastVenueAttributes),this.hasExistingLocation(a)||!_.isEmpty(a.errors)?(delete a.venueAttributes.id,this.venue=b.request("venue:entity:new",a.venueAttributes),this.initializeLayout(a.region),this.venue.get("online_event")?this.sandbox.execute("location:navigate:isOnline"):this.sandbox.execute("location:navigate:edit",{errors:a.errors})):(this.venue=b.request("venue:entity:new"),this.initializeLayout(a.region),this.sandbox.execute("location:navigate:new"))},componentMethods:{initializePastVenues:function(a){_.isEmpty(a)||(this.pastVenues=b.request("venue:entities:new",a))},initializeLayout:function(b){var c=new a.CreatePage.LocationLayout({model:this.venue});b.show(c),this.contentRegion=c.content},hasExistingLocation:function(a){return"undefined"!=typeof a.venueAttributes&&["id","venue","address_1","address_2","city","state","postal_code","country","longaddress","online_event"].some(function(b){return!!a.venueAttributes[b]})},getCurrentVenue:function(){return this.venue}},commands:{"location:navigate:new":function(){this.controller&&this.controller.close(),this.controller=new a.CreatePage.NewLocationController({sandbox:this.sandbox,region:this.contentRegion})},"location:navigate:edit":function(b){this.controller&&this.controller.close(),this.controller=new a.CreatePage.EditLocationController({sandbox:this.sandbox,region:this.contentRegion,errors:b?b.errors:{}})},"location:navigate:isOnline":function(){this.controller&&this.controller.close(),this.sandbox.request("venue:entity:new"),this.venue.set("online_event",!0),this.controller=new a.CreatePage.OnlineLocationController({sandbox:this.sandbox,region:this.contentRegion})},"location:navigate:selectPast":function(){this.pastVenues&&(this.controller&&this.controller.close(),this.controller=new a.CreatePage.PastLocationController({sandbox:this.sandbox,region:this.contentRegion}))}},requests:{"venue:entity:current":function(){return this.venue},"venue:entity:new":function(){return"undefined"!=typeof this.venue?(this.venue.clear(),this.venue.set(this.venue.defaults)):this.venue=b.request("venue:entity:new"),this.trigger("venue:new",this,this.venue),this.venue},"venue:entities:past":function(){return this.pastVenues},googleMap:function(a){return"undefined"==typeof this.googleMap&&(this.googleMapEl=document.createElement("div"),this.googleMapEl.setAttribute("id","edit_location_google_map"),this.googleMapEl.setAttribute("class","location-map-panel"),this.googleMap=new a.Map(this.googleMapEl,{mapTypeId:a.MapTypeId.ROADMAP,mapTypeControl:!1,scrollwheel:!1})),this.googleMap}}});var c;c=function(a){b.reqres.setHandler("googleMapsAPIDeferred",function(){return a.googleMapsAPIDeferred})},b.addInitializer(c)}(window.EB,window.EB.App),function(a,b,c,d){"use strict";c.namespace("CreatePage"),c.CreatePage.EventDetailsView=c.Backbone.View.extend({el:"#event_details_wrapper",events:{"click .js-add_repeating_schedule":"handleRepeatingClick","change #id_group-details-repeat_selection":"setRepeating","click .js-add_series_schedule":"handleToggleIsSeriesClick"},bindings:{".js-event-start-date":{observe:"start_date"}},initialize:function(){b.bindAll(this,"handleRepeatingClick","showRepeatingBasedOnATD","showRepeatingBasedOnInventoryType","setRepeating","showRepeating","hideRepeating","seriesStateChanged"),this.$repeatingDropdown=this.$("#id_group-details-repeat_selection"),this.$repeatingContainer=this.$("#event_details_repeat"),this.$repeatingLink=this.$(".repeated_option"),this.$toggleRepeating=this.$(".js-add_repeating_schedule"),this.$repeatingLabel=this.$(".js-event-repeats-label"),this.$eventDateAndTime=this.$("#event_details_date"),this.$previewButton=a(".preview_button"),this.$displayEventStartDateWrapper=a("#display_start_date_wrapper"),this.initSelectBoxes(),this.setRepeating(),this.initRepeatingSettings(),this.model.on("change:is_atd",this.showRepeatingBasedOnATD),this.model.on("change:inventory_type",this.showRepeatingBasedOnInventoryType),this.initializeLocation(),this.model.on("change:is_series",this.seriesStateChanged),this.$seriesContainer=this.$("#event_details_series"),this.$isSeriesParentField=this.$("#id_group-series-is_series_parent"),this.initializeSeries(),this.showRepeatingBasedOnInventoryType()},initializeLocation:function(){var a=this.model;c.App.addInitializer(function(b){var e=c.CreatePage.LocationComponentFactory.create();e.start({googleMapsAPIDeferred:b.googleMapsAPIDeferred,errors:b.formErrors.location,venueAttributes:b.venueAttributes,pastVenueAttributes:b.pastVenueAttributes,region:new d.Backbone.Marionette.Region({el:"#event_details_super_location"})}),e.on("venue:new",function(b,c){a.set("venue",c)}),a.set("venue",e.getCurrentVenue())})},initRepeatingSettings:function(){this.model.get("is_repeating")?this.showRepeating():this.hideRepeating()},initSelectBoxes:function(){this.$("select#id_group-details-repeat_selection").length&&new c.UIComponents.SelectBox({element:this.$("#id_group-details-repeat_selection"),parentClass:"responsive-form__select"}),this.startDateTime=new c.UIComponents.SelectBox({element:this.$("#start_date_time"),parentClass:"responsive-form__select create_select_time_field custom-select-time-picker"}),this.startDateTime.$el.prev(".custom-select-arrow").on("click",function(){a(this).next("input").focus()}),this.endDateTime=new c.UIComponents.SelectBox({element:this.$("#end_date_time"),parentClass:"responsive-form__select create_select_time_field custom-select-time-picker"}),this.endDateTime.$el.prev(".custom-select-arrow").on("click",function(){a(this).next("input").focus()})},render:function(){return this},showRepeatingBasedOnATD:function(){this.showOrHideRepeatingLink()},showRepeatingBasedOnInventoryType:function(){this.showOrHideRepeatingLink()},showOrHideRepeatingLink:function(){c.CreatePage.TicketCollection.hasATDTicket&&c.CreatePage.TicketCollection.hasATDTicket()||this.model.get("inventory_type")===c.CreatePage.EventDetailsView.RESERVED_INVENTORY_TYPE?(this.hideRepeating(),this.$repeatingLink.addClass("is-hidden"),this.hideSeries()):(this.$repeatingLink.removeClass("is-hidden"),this.model.get("is_repeating")&&this.showRepeating(),this.model.get("is_series")&&this.showSeries())},setRepeating:function(){this.model.set("repeating",this.$repeatingDropdown.val()),this.model.setIsRepeating()},handleRepeatingClick:function(a){a.preventDefault(),this.$repeatingContainer.hasClass("is-hidden")?this.showRepeating():this.hideRepeating()},showRepeating:function(){this.$repeatingContainer.removeClass("is-hidden"),this.$repeatingLabel.html(gettext("Remove repeating event schedule"))},hideRepeating:function(){this.$repeatingContainer.addClass("is-hidden"),this.$repeatingDropdown.val("never"),this.$repeatingDropdown.trigger("change"),this.$repeatingLabel.html(gettext("This event repeats"))},handleToggleIsSeriesClick:function(a){a.preventDefault(),this.model.set("is_series",!this.model.get("is_series"))},seriesStateChanged:function(){this.model.get("is_series")?this.showSeries():this.hideSeries()},showSeries:function(){this.$isSeriesParentField.val("True").change(),this.$seriesContainer.removeClass("is-hidden"),this.$repeatingLabel.html(gettext("Remove repeating event schedule")),this.$eventDateAndTime.addClass("is-hidden"),this.$previewButton.addClass("is-hidden"),this.$displayEventStartDateWrapper.addClass("is-hidden"),a("#timezone_short_series").html(a("#timezone_short").html())},hideSeries:function(){this.$isSeriesParentField.val("False").change(),this.$seriesContainer.addClass("is-hidden"),this.$repeatingLabel.html(gettext("This event repeats")),this.$eventDateAndTime.removeClass("is-hidden"),this.$previewButton.removeClass("is-hidden"),this.$displayEventStartDateWrapper.removeClass("is-hidden")},initializeSeries:function(){var e=this.model;c.App.addInitializer(function(f){function g(){a("#id_group-series-saved_events").val(h.savedEventsToJSON()).change(),a("#id_group-series-new_events").val(h.newEventsToJSON()).change(),a("#id_group-series-delete_events").val(JSON.stringify(j)).change()}var h,i,j=[];if(f.seriesComponentEnabled){var k;d.moment.lang(c.Intl.getLocale()),h=c.Models.SeriesCollection.fromSeriesJSON(a("input[name=group-series-saved_events]").val()),i=c.Models.SeriesCollection.fromSeriesJSON(a("input[name=group-series-new_events]").val()),i.length>0&&h.add(i.toJSON()),c.CreatePage.setSeriesCollection(h),k=c.CreatePage.SeriesComponentFactory.create({collection:h,seriesDeleteEvents:j}),k.start({region:new Backbone.Marionette.Region({el:".js-series-browser"})}),k.on("disable",function(){e.set("is_series",!1),a("#event_details_series .errorlist").addClass("is-hidden")}),h.on("change reset add remove",b.debounce(g,100))}}),this.seriesStateChanged()}},{RESERVED_INVENTORY_TYPE:1}).mixin(c.Backbone.Mixins.withStickit)}(window.jQuery,window._,window.EB,window),function(a,b){a.namespace("CreatePage"),a.CreatePage.Dates=function(){var c,d,e,f,g=function(a,c){return a instanceof b?c?a.eq(0):a:c?b(a).eq(0):b(a)},h={},i=function(c,d){g(c).each(function(){var c=b(this);c.hasClass("datetime_input")||(c=c.parent());var e=null,f=c.find("input.hasDatepicker").datepicker("getDate"),g=c.find(".time");if(f){var h=f.getFullYear(),i=f.getMonth(),j=f.getDate(),k=null,l=-1,m=-1,n=c.find("select.meridiem").val()||"AM",o=c.find("input.datetime");c.find("select.hour").length?(l=c.find("select.hour").val(),m=c.find("select.minute").val()):g.length&&(k=b.timePicker(g).getTime(),l=k.getHours(),m=k.getMinutes()),e=new Date(h,i,j,"PM"==n?parseInt(l,10)+12:l,m,0,0),o.val(a.Date.toSql(e)),d||o.trigger("change")}else{var p=c.find("input.datetime").val();e=p.split(" ")[0],c.find("input.hasDatepicker").val(e).datepicker("setDate",a.Date.fromSql(e)),g.length&&b.timePicker(g).setTime(a.Date.fromSql(p))}})},j=function(c,d){g(c).each(function(){var c,e=b(this),f=e.find("select.meridiem");if(e.find("input.hasDatepicker").length?e.find("input.hasDatepicker").datepicker("setDate",d):e.find("input.date").attr("value",a.Date.toSql(d).split(" ")[0]),e.find("select.hour").length)c=(5*Math.floor(d.getMinutes()/5)).toString(),1===c.length&&(c="0"+c),e.find("select.hour").val(f.length?d.getHours()%12:d.getHours()),e.find("select.minute").val(c),f.val(d.getHours()<12?"AM":"PM");else try{b.timePicker(e.find(".time")).setTime(new Date(d.toString()))}catch(g){}e.find("input.datetime").val(a.Date.toSql(d))})},k=function(c,d,e){var f=g(c,!0),h=g(d,!0),i=g(e,!0);f.data("diff",a.Date.fromSql(i.find("input.datetime").val())-a.Date.fromSql(h.find("input.datetime").val())),f.find("input.datetime").change(function(){var c=/start/i.test(b(this).attr("id")),d=a.Date.fromSql(h.find("input.datetime").val()),e=a.Date.fromSql(i.find("input.datetime").val()),g=f.data("diff")||108e5;if(c){i.find("input.hasDatepicker").datepicker("option","minDate",d);var k=new Date;k.setTime(d.getTime()+g),j(i,k)}else d.getTime()>=e.getTime()&&j(h,new Date(e.getTime()-g)),d=a.Date.fromSql(h.find("input.datetime").val()),e=a.Date.fromSql(i.find("input.datetime").val()),f.data("diff",e-d),i.find("input.hasDatepicker").datepicker("option","minDate",d)})},l=function(c,d,e){var f=g(c,!0),h=g(d,!0),i=g(e,!0),j=function(){var c=(/start/i.test(b(this).attr("id")),a.Date.fromSql(h.find("input.datetime").val())),d=a.Date.fromSql(i.find("input.datetime").val());c>=d?(i.find(".date").addClass("error"),i.find(".datetime_error").removeClass("hidden")):(i.find(".date").removeClass("error"),i.find(".datetime_error").addClass("hidden"))};f.find("input.datetime").change(j),j()},m=function(c,d,e,f){var j,m,n=g(c),o=g(d),p=g(e),q=o.siblings(".time"),r=p.siblings(".time"),s=q.val(),t=r.val(),u=function(){i(b(this).parent())},v=function(a,c){a&&a.length&&(a.timePicker({startTime:"0:00",endTime:"23:30",separator:":",step:30,show24Hours:a.data("use24hour")}),c&&b.timePicker(a).setTime(c),a.on("change",u))};if(j=a.Date.fromSql(o.val()||a.Date.toSql(new Date)),o.datepicker(h),o.datepicker("option","onClose",function(a,b){i(b.input.parent())}),o.datepicker("setDate",j),m=a.Date.fromSql(p.val()||a.Date.toSql(new Date)),p.datepicker(h),p.datepicker("option","onClose",function(a,b){i(b.input.parent())}),p.datepicker("setDate",m),n.find(".datetime_input select").change(u),v(q,s),v(r,t),i(o.parent(),!0),i(p.parent(),!0),f){k(n,o.parent(),p.parent());var w=function(){var b=a.Date.fromSql(n.find('input[type="hidden"]').filter('[name*="start"]').val());return b&&b<new Date?b:new Date}();o.datepicker("option","minDate",w),p.datepicker("option","minDate",w)}else l(n,o.parent(),p.parent())},n=function(){for(var a=[],c=b("#id_custom-TOTAL_FORMS").val()||0,d=0;c>d;d++)a[d]={formIndex:d};return b("#lightbox_custom_dates_hidden_form").find("input[type=hidden]").filter('[id^="id_custom-"]').each(function(){var c=b(this).attr("name").split("-"),d=c[1],e=c[2],f=b(this).val();a[d][e]="can_delete"==e?"True"===f?!0:!1:f}),a},o=Backbone.Model.extend({defaults:{id:null,DELETE:null,event:null,start:null,end:null,can_delete:!0},formattedDateRange:function(){if(this.has("start")&&this.has("end")&&""!==this.get("start")&&""!==this.get("end")){var b=a.Intl.formatDate(a.Date.fromSql(this.get("start"))),c=a.Intl.formatTime(a.Date.fromSql(this.get("start"))),d=a.Intl.formatDate(a.Date.fromSql(this.get("end"))),e=a.Intl.formatTime(a.Date.fromSql(this.get("end")));return"de_DE"==a.Intl.getLocale()&&(c+=" Uhr",e+=" Uhr"),b==d?interpolate(gettext("%(start_day)s from %(start_hour)s to %(end_hour)s"),{start_day:b,start_hour:c,end_hour:e},!0):interpolate(gettext("%(start_day)s from %(start_hour)s to %(end_day)s %(end_hour)s"),{start_day:b,start_hour:c,end_day:d,end_hour:e},!0)}}}),p=Backbone.Collection.extend({model:o,comparator:function(a){return a.get("start")}}),q=new p(n()),r=new p(n()),s=Backbone.View.extend({initialize:function(){_.bindAll(this,"render","updateManagementForm","renderCustomDate"),this.collection.bind("reset",this.render),this.collection.bind("reset",this.updateManagementForm),this.customDateFormTemplate=_.template(b("#custom-date-form-template").html())},renderCustomDate:function(a){b(this.el).append(this.customDateFormTemplate(a.toJSON()))},render:function(){return b(this.el).empty(),this.collection.each(this.renderCustomDate),this},updateManagementForm:function(){b("#id_custom-TOTAL_FORMS").val(this.collection.length)}}),t=Backbone.View.extend({tagName:"ul",initialize:function(){_.bindAll(this,"render","renderCustomDate"),this.collection.bind("reset",this.render),this.customDateTemplate=_.template(b("#custom-date-page-template").html())},renderCustomDate:function(a){a.get("DELETE")||b(this.el).append(this.customDateTemplate({customDate:a}))},render:function(){return b(this.el).empty(),this.collection.each(this.renderCustomDate),this}}),u=Backbone.View.extend({tagName:"li",events:{"click .remove":"remove"},initialize:function(){_.bindAll(this,"render","remove"),this.template=_.template(b("#custom-date-lightbox-template").html())},render:function(){return b(this.el).html(this.template({customDate:this.model})),this},remove:function(){this.model.set({DELETE:"on"}),b(this.el).remove(),this.trigger("remove",this)}}),v=Backbone.View.extend({tagName:"ul",initialize:function(){_.bindAll(this,"render","renderCustomDate","showHideCustomDateList"),this.collection.bind("reset",this.render),this.collection.bind("add",this.render)},renderCustomDate:function(a){if(!a.get("DELETE")){var c=new u({model:a});c.bind("remove",this.showHideCustomDateList);var d=c.render().el;b(this.el).append(d)}},showHideCustomDateList:function(){this.$("li").length?b("#lightbox_custom_dates_list_row").removeClass("hidden").addClass("visible"):b("#lightbox_custom_dates_list_row").removeClass("visible").addClass("hidden")},render:function(){return b(this.el).html(""),this.collection.each(this.renderCustomDate),this.showHideCustomDateList(),this}}),w=function(){var a=b("#id_group-details-repeat_selection").val();return a&&"never"!==a?!0:!1},x=function(a){"custom"!=a?z():y()},y=function(){b("#datetime_custom_text").removeClass("hidden"),b(".js-start-end-date-connector").addClass("hidden"),b("#event_details_repeat_custom_date_list").removeClass("hidden"),b("#event_details_date .datetime_input").addClass("hidden"),b("#event_details_repeat_info").html(gettext("on the following days")+":")},z=function(){b("#datetime_custom_text").addClass("hidden"),b(".js-start-end-date-connector").removeClass("hidden"),b("#event_details_repeat_custom_date_list").addClass("hidden"),b("#event_details_date .datetime_input").removeClass("hidden")},A=function(){var i="#id_group-details-repeat_selection",k="#event_details_repeat_options",l=b(".js-open-event-details-repeat"),n=b("#event_details_repeat_options").find(".daily, .weekly, .monthly").find('input[type="text"]'),o=g("#add_custom_start_date"),p=g("#add_custom_end_date");x(b(i).val()),m("#event_details_repeat_options .custom","#add_custom_start_date","#add_custom_end_date",!0),_.each(n,function(c){var g=b(c).val(),i=b.extend({},h);e?(i.maxDate=e,o.datepicker("option","maxDate",e),p.datepicker("option","maxDate",e)):(i.maxDate=d,o.datepicker("option","maxDate",d),p.datepicker("option","maxDate",e)),f.readonly_dates&&f.can_edit_repeat_dates&&b.extend(i,{minDate:a.Date.fromSql(g)}),b(c).datepicker(i)}),b(i).change(function(){var d=b(this).val();if(c&&"never"===b(this).data("initial")&&"never"!==d&&!confirm(gettext("WARNING:")+" "+gettext("Group registration will be deactivated if you make this event a repeating event.")+" "+gettext("Do you want to continue?")))return b(this).val("never"),void 0;if(x(d),"never"!=d){b(k).find("div."+d).removeClass("hidden").addClass("visible"),b(k).find("input.hasDatepicker").each(function(){b(this).datepicker("setDate",a.Date.fromSql(b(this).val())||b("#start_date_date").datepicker("getDate"))}),b(k).find("input.datetime, input.hasDatepicker").trigger("change");var e=b("#id_group-details-start_date").val(),f=b("#id_group-details-end_date").val();j(".custom_start_date",a.Date.fromSql(e)),j(".custom_end_date",a.Date.fromSql(f)),l.trigger("click")}else a.CreatePage.privacyAndPromotionView.updateEnduranceCategoryAvailability(),b(this).data("initial","never"),b("#event_details_repeat_info").empty(),b("#event_details_repeat .edit").addClass("hidden"),b("#display_start_date_wrapper").removeClass("hidden")}),b(k).on("click",".save",function(c){if("weekly"===b(i).val()){var d=b(k).find('.daysofweek input[type="checkbox"]:checked').length,f=b(k).find(".daysofweek .error");if(!d)return f.html(gettext("Please choose at least one day.")),c.preventDefault(),void 0;f.text("")}var g,h=b(i).val();if("custom"==h){var j=b("#add_custom_start").val();if(0==b("#lightbox_custom_dates_list ul li").size())return b(k).find(".add").parent().find("div.error").remove(),b(k).find(".add").after('<div class="error">'+gettext("Please add custom dates to your repeating event.")+"</div>"),c.preventDefault(),void 0;if(a.Date.fromSql(j)>=e)return b(k).find(".add").parent().find("div.error").remove(),b(k).find(".add").after('<div class="error">'+gettext("You cannot add a date past "+e+".")+"</div>"),c.preventDefault(),void 0;r.reset(q.toJSON())}else if("never"!=h){if(b(k).find("input.hasDatepicker.error:visible").length)return c.preventDefault(),void 0;b(k).find("input.hasDatepicker").each(function(){var c=a.Date.toSql(b(this).datepicker("getDate")).split(" ")[0];b(this).val(c),b(this).data("initial",c)}),b("[name^=weekly]:checked").val("on"),g=b("[name=eid], [name^=group-details], [name^=monthly], [name^=weekly], [name^=daily]").serialize(),b.ajax("/ajax/repeating_event_date_string",{type:"POST",success:function(a){b("#event_details_repeat_info").html(a),b("#remaining_ticket_display").hide()},error:function(){b("#event_details_repeat_info").empty()},data:g})}b(i).data("initial",b(i).val()),"never"!==h&&(b("#event_details_repeat .edit").removeClass("hidden"),b("#display_start_date_wrapper").addClass("hidden")),a.CreatePage.privacyAndPromotionView.updateEnduranceCategoryAvailability(),b(k).find(".js-close-lightbox-old-repeating").trigger("click"),b(".js-repeating-date-section").addClass("hidden").removeClass("visible")}),b(k).on("click",".cancel",function(){b(k+" .visible").find("input, select").each(function(){"id_custom"!=b(this).attr("id").substring(0,9)&&b(this).val(b(this).data("initial")||"")});var c=b(i).data("initial");x(c),b(i).val(c),b(k).find("input.hasDatepicker").each(function(){var c=a.Date.toSql(b(this).datepicker("getDate")).split(" ")[0];b(this).val(c),b(this).data("initial",c)}),b("#id_group-details-repeat_selection").siblings(".custom-select-value").text(b(i+" option:selected").text()),q.reset(r.toJSON()),"never"==c?(b("#event_details_repeat .edit").addClass("hidden"),b("#event_details_repeat_info").empty()):b("#event_details_repeat .edit").removeClass("hidden"),b(this).find("input.error").removeClass("error"),b(this).find("div.error:not(#event_repeat_weekly_error)").remove(),b("#event_repeat_weekly_error").text(""),b(".js-repeating-date-section").addClass("hidden").removeClass("visible")}),b("#event_details_repeat").find("a.edit").click(function(a){a.preventDefault(),b(i).trigger("change")}),b(k).on("click",".ra_swap",function(){b(k).find(".js-repeating-date-section.monthly .relative").toggleClass("hidden active"),b(k).find(".js-repeating-date-section.monthly .absolute").toggleClass("hidden active"),b(k).find("#id_monthly-is_relative").val(1^parseInt(b("#id_monthly-is_relative").val()))}),b(k).find(".daily, .weekly, .monthly").delegate("input.hasDatepicker","change",function(){b(this).removeClass("error"),b(this).parent().find("div.error").remove(),b(this).datepicker("getDate")<b("#start_date_date").datepicker("getDate")&&(b(this).addClass("error"),b(this).after('<div class="error">'+gettext("The repeat end date cannot be before the event start date.")+"</div>")),b(this).datepicker("getDate")>d&&(b(this).addClass("error"),b(this).after('<div class="error">'+gettext("Please select an earlier end date.")+"</div>"))})},B=function(){var c=b("#event_details_repeat_options");window.customDateListPageView=new t({collection:r}),b("#event_details_repeat_custom_date_list").append(window.customDateListPageView.render().el),window.customDateListLightboxView=new v({collection:q}),b("#lightbox_custom_dates_list").append(window.customDateListLightboxView.render().el),window.customDateListFormView=new s({collection:r}),b("#lightbox_custom_dates_hidden_form").html(window.customDateListFormView.render().el),b("#lightbox_custom_dates_container a.add").click(function(d){d.preventDefault(),b(this).parent().find("div.error").remove(),i("#lightbox_custom_dates_container .datetime_input");var f=b("#add_custom_start").val(),g=b("#add_custom_end").val();if(a.Date.fromSql(f)>=e)return b(c).find(".add").parent().find("div.error").remove(),b(c).find(".add").after('<div class="error">'+gettext("You cannot add a date past "+e+".")+"</div>"),d.preventDefault(),void 0;if(a.Date.fromSql(g)>=a.Date.fromSql(f)){var h=q.length;q.add(new o({start:f,end:g,formIndex:h}))}}),b("#id_group-details-hide_end_date_dummy, #id_group-details-hide_start_date_dummy").change(function(){var a=b("#"+b(this).attr("id").slice(0,-6));!!this.checked!=!!b(a).attr("checked")&&a.trigger("click")}),b("#id_group-details-hide_end_date, #id_group-details-hide_start_date").change(function(){var a=b("#"+b(this).attr("id")+"_dummy");!!this.checked!=!!b(a).attr("checked")&&a.trigger("click")
})},C=function(){b("#start_date_date").removeClass("error"),b("#start_date_time").removeClass("error"),b("#end_date_date").removeClass("error"),b("#end_date_time").removeClass("error"),b("#event_details_date .errorlist").addClass("hidden")},D=function(){C()},E=function(){C()};return{init:function(g){d=a.Date.fromSql(g.repeatingV1EndOfLifeDate),g.repeatingV1EventLockDate&&(e=a.Date.fromSql(g.repeatingV1EventLockDate)),h=b.datepicker.settings,h.maxDate=new Date(2038,0,1),f=g,m("#event_details_date","#start_date_date","#end_date_date",!0),A(),B(),b(window).resize(function(){b(".hasDatepicker").datepicker("hide").trigger("blur")}),b("#start_date_date").on("change",D),b("#end_date_date").on("change",E),b("#event_details_repeat_options").bind("lightboxSave",function(){b(".nonrepeating_only").addClass("hidden")}),b("#id_group-details-repeat_selection").change(function(){"never"==b(this).val()&&b(".nonrepeating_only").removeClass("hidden")}),c=g.TEAMS_ENABLED,b(".display_end_date_dummy").change(function(){var a=b(this).is(":checked");b("#id_group-details-display_end_date").val(a?"True":"False"),b(".display_end_date_dummy").prop("checked",a)}).prop("checked","True"===b("#id_group-details-display_end_date").val())},initDatepickerPair:m,updateDateTimeInputs:j,syncDatetimeInput:i,isRepeatingEvent:w,disableRepeatingEvents:function(){var a=b("select#id_group-details-repeat_selection");a.length&&(a.addClass("hidden"),b("#event_details_repeat .edit").addClass("hidden"),b("#event_details_repeat_info").html(gettext("Never")))},enableRepeatingEvents:function(){var a=b("select#id_group-details-repeat_selection");a.length&&(b("select#id_group-details-repeat_selection").removeClass("hidden"),b("#event_details_repeat .edit").removeClass("hidden"),b("#event_details_repeat_info").empty())}}}()}(window.EB=window.EB||{},jQuery),function(a,b,c){"use strict";b.namespace("CreatePage"),b.CreatePage.TieredPricingModel=b.Backbone.Model.extend({AUTO_HIDE_TYPES:{SALES_START_END:"0",CUSTOM_DATE_TIME:"1"},defaults:{autoHide:!1,hideType:"0",hideUntil:null,hideAfter:null,startSalesDate:null,endSalesDate:null,isHidden:!1},initialize:function(){var a=["change:autoHide","change:hideType","change:hideUntilDate","change:hideAfterDate","change:startSalesDate","change:endSalesDate"];c.bindAll(this,"customHideChanged","isCurrentlyHidden"),this.on("change:hideUntil change:hideAfter",this.customHideChanged),this.on(a.join(" "),this.isCurrentlyHidden)},customHideEnabled:function(){return this.get("hideUntil")||this.get("hideAfter")?!0:!1},customHideChanged:function(){this.customHideEnabled()||this.get("hideType")===this.AUTO_HIDE_TYPES.SALES_START_END||this.trigger("resetAutoHideType"),this.isCurrentlyHidden()},isCurrentlyHidden:function(){var a=!1,b=new Date;return this.get("autoHide")?(a=this.get("hideType")===this.AUTO_HIDE_TYPES.SALES_START_END?b<this.get("startSalesDate")||b>this.get("endSalesDate")?!0:!1:this.get("hideUntil")&&b<this.get("hideUntilDate")||this.get("hideAfter")&&b>this.get("hideAfterDate")?!0:!1,this.set("isHidden",a),a):(this.set("isHidden",!1),void 0)}})}(window.jQuery,window.EB,window._),function(a,b,c){"use strict";b.namespace("CreatePage"),b.CreatePage.TieredPricingView=b.Backbone.View.extend({events:{},initialize:function(){c.bindAll(this,"formSubmit","autoHideToggled","autoHideTypeChanged","autoHideUntilToggled","autoHideAfterToggled","resetAutoHideType","hideUntilChanged","hideAfterChanged","autoHideUntilInputChanged","autoHideAfterInputChanged"),this._defineElementIds(),this._defineElements(),this._configureEvents(),a("#event_form").on("submit",this.formSubmit),this.autoHideToggled(),this.autoHideUntilToggled(),this.autoHideAfterToggled(),this.autoHideTypeChanged(),this.autoHideUntilInputChanged(),this.autoHideAfterInputChanged(),this.model.isCurrentlyHidden()},_defineElementIds:function(){this.elementIds={autoHideToggle:"#"+this.options.parentId+"auto_hide",autoHideSettings:"#"+this.options.parentId+"auto_hide_settings",autoHideType:"input[name$=auto_hide_type]",autoHideCustom:"#"+this.options.parentId+"auto_hide_custom",autoHideUntilToggle:"#"+this.options.parentId+"auto_hide_until",autoHideUntilDateGroup:"#"+this.options.parentId+"auto_hide_until_datetime_group",autoHideUntilDateInput:"#"+this.options.parentId+"hide_until",autoHideAfterToggle:"#"+this.options.parentId+"auto_hide_after",autoHideAfterDateGroup:"#"+this.options.parentId+"auto_hide_after_datetime_group",autoHideAfterDateInput:"#"+this.options.parentId+"hide_after",hidden:"#"+this.options.parentId+"hidden"}},_defineElements:function(){this.$elements={autoHideToggle:this.$(this.elementIds.autoHideToggle),autoHideSettings:this.$(this.elementIds.autoHideSettings),autoHideType:this.$(this.elementIds.autoHideType),autoHideCustom:this.$(this.elementIds.autoHideCustom),autoHideUntilToggle:this.$(this.elementIds.autoHideUntilToggle),autoHideUntilDateGroup:this.$(this.elementIds.autoHideUntilDateGroup),autoHideUntilDateInput:this.$(this.elementIds.autoHideUntilDateInput),autoHideAfterToggle:this.$(this.elementIds.autoHideAfterToggle),autoHideAfterDateGroup:this.$(this.elementIds.autoHideAfterDateGroup),autoHideAfterDateInput:this.$(this.elementIds.autoHideAfterDateInput),hidden:this.$(this.elementIds.hidden)}},_configureEvents:function(){this.events["change "+this.elementIds.autoHideToggle]="autoHideToggled",this.events["change "+this.elementIds.autoHideType]="autoHideTypeChanged",this.events["change "+this.elementIds.autoHideUntilToggle]="autoHideUntilToggled",this.events["change "+this.elementIds.autoHideAfterToggle]="autoHideAfterToggled",this.events["change "+this.elementIds.autoHideUntilDateInput]="autoHideUntilInputChanged",this.events["change "+this.elementIds.autoHideAfterDateInput]="autoHideAfterInputChanged",this.delegateEvents(),this.model.on("resetAutoHideType",this.resetAutoHideType),this.model.on("change:hideUntil",this.hideUntilChanged),this.model.on("change:hideAfter",this.hideAfterChanged)},syncAutoHideDates:function(){b.CreatePage.Dates.updateDateTimeInputs(this.$elements.autoHideUntilDateGroup,this.model.get("startSalesDate")),b.CreatePage.Dates.updateDateTimeInputs(this.$elements.autoHideAfterDateGroup,this.model.get("endSalesDate"))},autoHideUntilInputChanged:function(){this.model.set("hideUntilDate",b.Date.fromSql(this.$elements.autoHideUntilDateInput.val()))},autoHideAfterInputChanged:function(){this.model.set("hideAfterDate",b.Date.fromSql(this.$elements.autoHideAfterDateInput.val()))},autoHideToggled:function(){this.model.set("autoHide",this.$elements.autoHideToggle.is(":checked")),this.$elements.autoHideSettings.toggle(this.model.get("autoHide"))},autoHideUntilToggled:function(){this.model.set("hideUntil",this.$elements.autoHideUntilToggle.is(":checked"))},hideUntilChanged:function(){this._toggleDisableDateTime(this.$elements.autoHideUntilDateGroup,this.$elements.autoHideUntilDateInput,!this.model.get("hideUntil"))},autoHideAfterToggled:function(){this.model.set("hideAfter",this.$elements.autoHideAfterToggle.is(":checked"))},hideAfterChanged:function(){this._toggleDisableDateTime(this.$elements.autoHideAfterDateGroup,this.$elements.autoHideAfterDateInput,!this.model.get("hideAfter"))},autoHideTypeChanged:function(){var a=this.$elements.autoHideType.filter(":checked").val();this.model.set("hideType",a),this.$elements.autoHideCustom.toggleClass("hidden",a!==this.model.AUTO_HIDE_TYPES.CUSTOM_DATE_TIME),this.model.get("hideType")!==this.model.AUTO_HIDE_TYPES.CUSTOM_DATE_TIME||this.model.customHideEnabled()||(this.$elements.autoHideUntilToggle.prop("checked",!0).trigger("change"),this.$elements.autoHideAfterToggle.prop("checked",!0).trigger("change"))},resetAutoHideType:function(){this.$elements.autoHideType.filter("[value="+this.model.AUTO_HIDE_TYPES.SALES_START_END+"]").prop("checked",!0).trigger("change")},formSubmit:function(){this.model.get("autoHide")&&this.model.get("hideType")===this.model.AUTO_HIDE_TYPES.SALES_START_END&&(this.$elements.autoHideUntilToggle.prop("checked",!1).trigger("change"),this.$elements.autoHideAfterToggle.prop("checked",!1).trigger("change"))},_toggleDisableDateTime:function(a,b,c){a.find("input, select").prop("disabled",c),b.prop("disabled",c)}})}(window.jQuery,window.EB,window._),function(a,b,c){"use strict";c.namespace("CreatePage"),c.CreatePage.TicketCollection=c.Backbone.Collection.extend({model:c.Models.TicketModel,sumQuantity:function(){var a=0;return this.reduce(function(b,c){return a=parseInt(c.get("quantity"),10),isNaN(a)&&(a=0),b+a},0)},hasAllFreeTickets:function(){return this.every(function(a){return"free"===a.get("paymentType")})},hasPaidTicket:function(){return this.some(function(a){return 0!==parseFloat(a.get("ticketPrice"))})},hasATDTicket:function(){return this.some(function(a){return a.get("available_atd")})},containsTicketWithId:function(a){return this.any(function(b){var c=b.id||"-"+b.cid.slice(1);return a===c})},removeStartDateWhenUnchanged:function(){this.each(function(a){a.get("salesStartIsNow")&&a.set("salesStartDate","")})}}).mixin(c.Backbone.Mixins.sortableByIndex)}(window.jQuery,window._,window.EB,window),function(a,b,c,d,e){"use strict";c.namespace("CreatePage");var f='<div class="text--normal"><h3 class="text-body-large">'+e.gettext("Enable Reserved Seating?")+'</h3><p class="l-padded-v-1">'+e.gettext("Design a unique seat map for your event, create a selling order, and assign tickets.")+"</p></div>",g='<div class="text--normal"><h3 class="text-body-large">'+e.gettext("Disable Reserved Seating?")+'</h3><p class="l-padded-v-1">'+e.gettext("This will turn your event into a general admission event.")+"</p></div>";c.CreatePage.EventTicketsView=c.Backbone.View.extend({el:"#create_tickets_wrapper",initialize:function(a){b.bindAll(this,"handleReservedSeatingToggled"),this.eventModel=a.eventModel,this.currencyModel=a.currencyModel,this.ticketCollection=a.ticketCollection,this.currencyView=new c.CreatePage.CurrencyView({eventModel:this.eventModel,model:this.currencyModel}),this.ticketSummaryView=new c.CreatePage.TicketSummaryView(a),this.eventModel.keys().indexOf("inventory_type")>-1&&(this.initializeAssignedSeating(),this.listenTo(this.eventModel,"change:inventory_type",this.handleInventoryTypeChanged))},initializeAssignedSeating:function(){var a=this.$(".js-reserved-seating-status").first();this.reservedSeatingComponent=c.CreatePage.ReservedSeatingComponentFactory.create({eventModel:this.eventModel,ticketCollection:this.ticketCollection}),a.length&&(this.listenTo(this.eventModel,"change:is_repeating",this.handleEventRepeatingChange),this.listenTo(this.eventModel,"change:is_series",this.handleEventSeriesChange),this.listenTo(this.currencyModel,"change:currency",this.handleEventCurrencyChange),this.handleEventSeriesChange(this.eventModel,this.eventModel.get("is_series")),a.on("toggle",this.handleReservedSeatingToggled),this.handleReservedSeatingToggled(a.get(0).checked),document.referrer.indexOf("reserved-seating")>-1&&this.$(".js-switch-view").tooltip("show")),this.reservedSeatingComponent.start({region:new d.Marionette.Region({el:"#event_reserved_seating_super_location"})})},handleReservedSeatingToggled:function(c){var d=b.isBoolean(c)?c:c.currentTarget.checked;this.eventModel.set("inventory_type",Number(d)),this.$(".js-switch-view").tooltip("destroy").tooltip({title:d?g:f,placement:"left",html:!0}),d?(a(".repeated_option").addClass("is-hidden"),a("#event_details_repeat").addClass("is-hidden"),a("#id_group-details-repeat_selection").val("never"),a("#id_group-details-repeat_selection").trigger("change"),this.showCurrencySelection()):(a(".repeated_option").removeClass("is-hidden"),a(".js-event-repeats-label").html(e.gettext("This event repeats")),this.hideCurrencySelection())},handleEventRepeatingChange:function(b,c){a(".js-reserved-toggle-container").toggle(!c)},handleEventSeriesChange:function(b,c){a(".js-reserved-toggle-container").toggle(!c)},handleEventCurrencyChange:function(b){b.requiresPaypal()?a(".js-reserved-toggle-container").toggle(!1):a(".js-reserved-toggle-container").toggle(!b.get("usingPaypal"))},handleInventoryTypeChanged:function(a,b){this.ticketSummaryView.render(),1===b?this.ticketSummaryView.handleHideView():this.ticketSummaryView.handleShowView()},showCurrencySelection:function(){a(".js-change-currency").removeClass("is-hidden")},hideCurrencySelection:function(){this.currencyView.handleIsFreeChange()},render:function(){this.ticketSummaryView.render(),c.CreatePage.setTicketSummaryView(this.ticketSummaryView)}})}(window.jQuery,window._,window.EB,window.Backbone,window),function(a,b,c,d,e){"use strict";c.namespace("CreatePage.Mixins"),"object"==typeof e.Advice&&"function"!=typeof c.Backbone.View.mixin&&(e.Advice.addMixin(c.Backbone.View),e.Advice.addMixin(c.Backbone.Model),e.Advice.addMixin(c.Backbone.Collection)),c.CreatePage.Mixins.stickitIEHack=function(){this.clobber("unstickit",function(a){b.each(this._modelBindings,b.bind(function(b,c){return a&&b.model!==a?!1:(b.model.off(b.event,b.fn),delete this._modelBindings[c],void 0)},this)),this._modelBindings=b.compact(this._modelBindings)})},c.CreatePage.Mixins.animatedView=function(b){b||(b={isOpen:!1,scrollSpeed:600}),this.after("initialize",function(){this.isOpen=b.isOpen,this.scrollSpeed=b.scrollSpeed}),this.clobber({scrollViewToViewport:function(b){a("html body").stop().animate({scrollTop:b},this.scrollSpeed)},show:function(b){var c=a("html body").scrollTop();this.isOpen=!0,this.beforeShow(),this.$el.delay(10).slideDown(this.scrollSpeed),b>c&&this.scrollViewToViewport(b)},hide:function(b){var c=a("html body").scrollTop();this.isOpen=!1,this.$el.slideUp(this.scrollSpeed),c>b&&this.scrollViewToViewport(b)}}),this.setDefaults({beforeShow:function(){}})}}(window.jQuery,window._,window.EB,window.Handlebars,window.Backbone),// Ticket View is a view controlling both the ticket row and ticket settings
function(a,b,c){"use strict";c.namespace("CreatePage"),c.CreatePage.TicketView=c.Backbone.View.extend({tagName:"div",className:"create-tickets--ticket",events:{"click .js-ticket-settings-link":"handleSettingsClick","click .js-minimize-settings-link":"handleSettingsClick","click .js-delete-ticket":"handleDeleteTicketClick","focus .js-price-input":"handlePriceInputChange"},initialize:function(){b.bindAll(this,"handleSettingsClick","handleSettingsOpenEvent","toggleSettings","handleSettingsViewValidationFail","handlePriceInputChange","changePriceCallback","handleDeleteTicketClick","toggleSettingsTabSelect","removeFromCollection","deleteTicketCallback","setDraggable","disableInputsWhenReadonly"),this.ticketRowView=new c.CreatePage.TicketRowView({model:this.model}),this.ticketSettingsView=new c.CreatePage.TicketSettingsView({model:this.model}),this.hasSettingsOpen=!1,Backbone.on("ticket-settings-open-"+this.model.cid,this.handleSettingsOpenEvent)},render:function(){return this.$el.append(this.ticketRowView.render().el),this.$el.append(this.ticketSettingsView.render().el),this.$settingsLink=this.$(".js-ticket-settings-link"),this.$el.hide(),this.ticketSettingsView.$el.hide(),this.ticketSettingsView.on("validationFail",this.handleSettingsViewValidationFail),this.model.get("requireValidation")&&(this.ticketRowView.validateView(),this.ticketSettingsView.validateView()),this.disableInputsWhenReadonly(),this},disableInputsWhenReadonly:function(){this.model.get("readonly")&&(this.disableInputs(),this.$(".js-delete-ticket").hide())},showFirst:function(){this.$el.fadeTo(0,1)},show:function(){this.$el.slideDown(150),this.$el.fadeTo(300,1)},enableTooltips:function(){this.ticketRowView.enableTooltips()},enablePaymentTooltip:function(){this.ticketRowView.enablePaymentTooltip()},disableTooltips:function(){this.ticketRowView.disableTooltips()},handleSettingsClick:function(a){a&&a.preventDefault(),this.ticketSettingsView.$el.promise().done(this.toggleSettings),this.model.collection.trigger("settingsVisibilityChanged")},handleSettingsOpenEvent:function(a){this.ticketSettingsView.isOpen||this.ticketSettingsView.$el.promise().done(this.toggleSettings),this.ticketSettingsView.$(a).trigger("click")},handleSettingsViewValidationFail:function(){this.showTicketSettingsView()},getTicketRowOffset:function(){return this.ticketRowView.$el.offset().top-120},showTicketSettingsView:function(){this.toggleSettingsTabSelect(),this.ticketSettingsView.show(this.getTicketRowOffset())},hideTicketSettingsView:function(){this.ticketSettingsView.hide(this.getTicketRowOffset()),this.ticketSettingsView.$el.promise().done(this.toggleSettingsTabSelect)},toggleSettings:function(){this.ticketSettingsView.isOpen?(this.hideTicketSettingsView(),this.hasSettingsOpen=!1):(this.showTicketSettingsView(),this.hasSettingsOpen=!0),window.s.events=window.OmnitureEventsMap.NEW_CREATE_TICKET_SETTINGS_CLICK},toggleSettingsTabSelect:function(){this.$settingsLink.toggleClass("is-selected")},handlePriceInputChange:function(a){a.preventDefault(),this.model.canEditPrice(this.changePriceCallback)},changePriceCallback:function(a,b){a||(alert(b),this.$(".js-price-input").prop("disabled","true"))},handleDeleteTicketClick:function(a){a.preventDefault(),this.model.canBeDeleted(this.deleteTicketCallback)},deleteTicketCallback:function(a,b){if(a){if(!confirm(gettext("Are you sure you want to delete this ticket type?")))return;this.$el.fadeTo(600,0),this.$el.slideUp(250,this.removeFromCollection)}else alert(b)},removeFromCollection:function(){this.model.collection.remove(this.model),this.model.set("deleted",1)},validateViews:function(){this.ticketRowView.resetValidationErrors(),this.ticketRowView.validateView(),this.ticketSettingsView.resetValidationErrors(),this.ticketSettingsView.validateView()},setDraggable:function(a){a?this.ticketRowView.$el.addClass("draggable"):this.ticketRowView.$el.removeClass("draggable")}}).mixin(c.Backbone.Mixins.disabledInputs)}(window.jQuery,window._,window.EB,window.Handlebars),function(a,b,c){"use strict";c.namespace("CreatePage"),c.CreatePage.TicketSummaryFooterView=c.Backbone.View.extend({events:{"click .js-designer-launch":"handleLaunchDesigner"},initialize:function(a){this.readonly=a.readonly,1===this.model.get("inventory_type")&&(this.readonly=!0),this.options=a,this.collection=a.ticketCollection},render:function(){return this.options.readonly&&(this.$(".js-create-ticket").addClass("btn--disabled"),this.$(".js-create-ticket").prop("disabled",!0)),this.eventCapacityView=new c.CreatePage.EventCapacityView({el:this.$(".js-event-capacity"),ticketCollection:this.collection,model:this.model,readonly:this.readonly,capacityErrors:this.options.capacityErrors}),this.eventCapacityView.render(),this},getTemplateName:function(){return 1===this.model.get("inventory_type")?"ticket_summary_reserved_footer":"ticket_summary_footer"},handleLaunchDesigner:function(){a("#event_form").append(a("<input/>",{type:"hidden",name:"go_to_seatmap",value:"1"})),c.CreatePage.submit()}}).mixin(c.Backbone.Mixins.withTemplate)}(window.jQuery,window._,window.EB,window.Backbone,window),// Ticket Summary View contains the entire create ticket flow.
// It is a combo ticket collection view and ticket router
function(a,b,c,d){"use strict";c.namespace("CreatePage"),c.CreatePage.TicketSummaryView=c.Backbone.View.extend({el:".js-create-ticket-wrapper",events:{"click .js-create-ticket":"createTicket"},initialize:function(){b.bindAll(this,"createTicket","initializeNumTicket","setTicketDraggability","hasClosedSettings","setTicketIsDraggable","setTicketIsNotDraggable","handleHideView","handleShowView"),this.collection=this.options.ticketCollection,this.numTickets=0,this.collection.each(this.initializeNumTicket),this.collection.on("settingsVisibilityChanged",this.setTicketDraggability),this.deletedTicketCollection=new c.CreatePage.TicketCollection,this.listenTo(this.collection,"remove",this.handleTicketRemoved),d.Events.on("create:tickets:hide",this.handleHideView),d.Events.on("create:tickets:show",this.handleShowView),this.listenTo(this,"collection:rendered",this.handleCollectionRendered),this.listenTo(this.collection,"show",this.handleTicketShownRequested)},render:function(){this.container=this.$(".js-ticket-container"),this.$ticketError=this.$(".js-create-ticket-error"),this.$el.removeClass("loading"),this.options.publishError&&this.$ticketError.removeClass("is-hidden"),this.$ticketToggleContainer=new c.UIComponents.ToggleContainerVisibility({el:this.$el,containers:this.$(".js-ticket-summary-container"),animation:!1}),this.ticketSummaryFooterView=new c.CreatePage.TicketSummaryFooterView({ticketCollection:this.collection,model:this.options.eventModel,readonly:this.options.readonly,capacityErrors:this.options.capacityErrors}),this.$(".js-ticket-summary-footer").html(this.ticketSummaryFooterView.render().$el),this.renderDeletedTickets()},renderDeletedTickets:function(){var a=this.$(".js-deleted-tickets");this.deletedTicketCollection.each(function(b){var d=new c.CreatePage.TicketView({model:b});a.append(d.render().$el)})},initializeNumTicket:function(a){a.set("numTicket",this.numTickets),this.numTickets++},createTicket:function(b){var d;b.preventDefault(),c.DirtyPage.setDirty(!0),this.$ticketToggleContainer.animationDuration=800,(a(".js-ticket-cta").find(b.target)||this.collection.length>0)&&(d=a(b.target).data("type")||a(b.target).closest(".js-create-ticket").data("type"),this.collection.add({paymentType:d,numTicket:this.numTickets,currencyModel:this.options.currencyModel,eventModel:this.options.eventModel,taxModel:this.options.taxModel,sort:!1,numTicketsSold:0,readonly:this.options.readonly,sqlNow:this.options.sqlNow}),this.numTickets++)},handleViewAdded:function(b,c){var d;b.show(),d=this.deletedTicketCollection.length>0?this.deletedTicketCollection.length+c.get("numTicket"):c.get("numTicket")+1,a("#id_group-tickets-TOTAL_FORMS").val(d),this.options.eventModel.set("is_free",this.collection.hasAllFreeTickets()),this.setTicketDraggability()},handleViewRemoved:function(a){a.$el.detach().appendTo(".js-deleted-tickets"),this.options.eventModel.set("is_free",this.collection.hasAllFreeTickets()),this.setTicketDraggability()},handleFirstViewAdded:function(a){this.$ticketError.addClass("is-hidden"),a.showFirst(),this.$ticketToggleContainer.toggleContainers()},handleNoViews:function(){this.$ticketToggleContainer.toggleContainers()},handleCollectionRendered:function(){b.keys(this.modelCIDViewMap).length&&this.$(".js-ticket-summary").hasClass("is-hidden")&&this.$ticketToggleContainer.toggleContainers()},handleShowView:function(){this.$el.removeClass("is-hidden")},handleHideView:function(){this.collection.length||this.$el.addClass("is-hidden")},handleTicketRemoved:function(a){this.deletedTicketCollection.add(a),a.collection=this.deletedTicketCollection},handleTicketShownRequested:function(a){this.handleCollectionRendered(),d.trigger("ticket-settings-open-"+a.cid)},setTicketDraggability:function(){b.every(this.modelCIDViewMap,this.hasClosedSettings)&&this.collection.length>1?(this.container.sortable("option","disabled",!1),b.each(this.modelCIDViewMap,this.setTicketIsDraggable)):(this.container.sortable("option","disabled",!0),b.each(this.modelCIDViewMap,this.setTicketIsNotDraggable))},hasClosedSettings:function(a){return!a.hasSettingsOpen},setTicketIsDraggable:function(a){a.setDraggable(!0)},setTicketIsNotDraggable:function(a){a.setDraggable(!1)},validateViews:function(){var a=!1;return b.each(b.values(this.modelCIDViewMap),function(b){b.model.isValid(!0)||(b.validateViews(),b.$(".form__field-error").not(":empty").length>0&&(a=!0))}),a}}).mixin(c.Backbone.Mixins.withTemplate,{templateName:"ticket_summary"}).mixin(c.Backbone.Mixins.sortableCollectionView,{containerSelector:".js-ticket-container",viewClass:c.CreatePage.TicketView,collectionClass:c.CreatePage.TicketCollection,handle:".sorting-gripper"})}(window.jQuery,window._,window.EB,window.Backbone,window),function(a,b,c,d){"use strict";c.namespace("CreatePage"),c.CreatePage.TicketRowView=c.Backbone.View.extend({tagName:"div",className:"g-group create-tickets--row",bindings:{".js-ticket-name":"name",".js-quantity-input":"quantity",".js-quantity-text":"quantity",".js-ticket-order":{observe:"index",onGet:"formatTicketOrder"},".js-has-attendees":{observe:"hasAttendees"},".js-ticket-delete":{observe:"deleted"},".js-delete-ticket":{observe:"numTicketsSold",visible:function(a){return 1>a},updateView:!1}},initialize:function(){b.bindAll(this,"displayTooltips","formatTicketOrder","handleVisibilityChange"),this.isMobile=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry)/),this.listenTo(this.model,"change:index",this.displayTooltips),this.listenTo(this.model,"change:hidden",this.handleVisibilityChange)},render:function(){return this.$nameInput=this.$(".js-ticket-name"),this.$visibilityIcon=this.$(".js-ticket-visibility"),this.$deleteTicket=this.$(".js-delete-ticket"),this.$ticketCostContainer=this.$(".js-payment-type"),this.$settingsLink=this.$(".js-ticket-settings-link"),this.$quantityInput=this.$(".js-quantity-input"),this.renderTicketCost(),this.initializeTooltips(),this.handleVisibilityChange(),this},getContextData:function(){var a=this.model.id||"-"+this.model.cid.slice(1);return{color:this.model.get("color"),numTicket:this.model.get("numTicket"),index:this.model.get("index"),id:this.model.id,cid:a}},renderTicketCost:function(){var a;this.model.get("costErrors")?a=this.model.get("costErrors"):"free"===this.model.get("paymentType")?a=d.templates.ticket_cost_free({index:this.model.get("index"),numTicket:this.model.get("numTicket")}):"donation"===this.model.get("paymentType")?a=d.templates.ticket_cost_donation({index:this.model.get("index"),numTicket:this.model.get("numTicket")}):(this.ticketPaidView=new c.CreatePage.TicketPaidView({model:this.model}),a=this.ticketPaidView.render().el,this.$el.addClass("report__row--paid-ticket")),this.$ticketCostContainer.html(a)},initializeTooltips:function(){this.isMobile||(this.$nameInput.tooltip({trigger:"focus"}),this.$quantityInput.tooltip({trigger:"focus"}),this.$deleteTicket.tooltip(),this.$settingsLink.tooltip(),this.displayTooltips())},displayTooltips:function(){0===this.model.get("index")?(this.$nameInput.tooltip("enable"),this.$quantityInput.tooltip("enable"),this.$settingsLink.tooltip("enable"),this.$deleteTicket.tooltip("enable")):(this.$nameInput.tooltip("disable"),this.$quantityInput.tooltip("disable"),this.$settingsLink.tooltip("disable"),this.$deleteTicket.tooltip("disable"))},handleVisibilityChange:function(){this.model.get("hidden")?(this.$visibilityIcon.removeClass("is-hidden"),this.$nameInput.parent().addClass("form-input-with-icon")):(this.$visibilityIcon.addClass("is-hidden"),this.$nameInput.parent().removeClass("form-input-with-icon"))},formatTicketOrder:function(a){return a+1},getTemplateName:function(){return this.model.get("eventModel").get("inventory_type")&&!this.model.get("deleted")?"ticket_row_reserved":"ticket_row"}}).mixin(c.Backbone.Mixins.withTemplate).mixin(c.Backbone.Mixins.withStickit).mixin(c.Backbone.Mixins.withInputValidation)}(window.jQuery,window._,window.EB,window.Handlebars),function(a,b,c,d){"use strict";c.namespace("CreatePage"),c.CreatePage.TicketPaidView=c.Backbone.View.extend({tagName:"div",bindings:{".js-ticket-buyer-total-number":{observe:["formattedTotal","formattedCost","available_online","available_atd"],onGet:"updateBuyerTotal"},".js-ticket-buyer-total":{observe:["available_online","available_atd"],visible:function(a){return b.any(a)?!0:void 0},updateView:!1},".js-price-input":"ticketPrice",".js-ticket-fee-hidden":{observe:"fee"},".js-ticket-fee-summary-link":{observe:"available_online",visible:!0,updateView:!1}},events:{"click .js-ticket-fee-summary-link":"handleClickFeeSummary","click .js-ticket-buyer-total":"handleClickBuyerTotal","keyup .js-price-input":"handleInputCurrency","blur .js-price-input":"handleInputCurrencyBlur"},initialize:function(){b.bindAll(this,"getFeeSummaryTemplate","handleFeesUpdated","handlePriceChange","handleInputCurrency","handleClickBuyerTotal","initializeTooltips","displayPaidTooltip","render"),this.listenTo(this.model,"change:currencySymbol",this.render)},render:function(){return this.$settingsLink=this.$(".js-ticket-settings-link"),this.$priceField=this.$(".js-price-input"),this.initializeTicketCostField(),this.$ticketBuyerTotal=this.$(".js-ticket-buyer-total"),this.$feeSummaryLink=this.$(".js-ticket-fee-summary-link"),this.initializeTooltips(),this.handlePriceChange(),this.handleFeesUpdated(),this.currencyModel=this.model.currencyModel,this.listenTo(this.model.collection,"sort",this.displayPaidTooltip),this.model.on("change:ticketPrice",this.handlePriceChange),this.model.on("feesUpdated",this.handleFeesUpdated),this.model.get("numTicketsSold")>0&&this.$priceField.prop("disabled","true"),this},getContextData:function(){return{index:this.model.get("index"),currencySymbol:this.model.get("currencySymbol"),currencySuffix:c.Intl.getCurrencyFormat().isSymbolSuffix,currencyLong:this.model.get("currencySymbol").length>1,numTicket:this.model.get("numTicket"),ticketCostPlaceholder:c.Intl.formatNumber(15)}},initializeTooltips:function(){this.$feeSummaryLink.tooltip({title:this.getFeeSummaryTemplate,html:!0}),this.$priceField.tooltip({trigger:"focus"}),this.displayPaidTooltip()},displayPaidTooltip:function(){var a;this.model.collection&&(a=this.model.collection.findWhere({paymentType:"paid"})),this.model===a?this.$priceField.tooltip("enable"):this.$priceField.tooltip("disable")},initializeTicketCostField:function(){this.model.get("ticketPrice")&&this.$priceField.val(this.model.get("ticketPrice"))},handleClickFeeSummary:function(a){a.preventDefault()},getFeeSummaryTemplate:function(){var a=this.model.get("ticketPrice")||"0",b=c.Intl.formatMoney(a.replace(",","."),{symbol:this.model.get("currencySymbol")});return d.templates.ticket_cost_summary({ticketPrice:b,hasTaxes:this.model.isTaxApplied(),tax:this.model.get("formattedTax"),fee:this.model.get("formattedFee"),buyerTotal:this.model.get("formattedTotal")})},handleInputCurrency:function(){var a=this.$priceField.val(),b=window.EB.Intl.getThousandsSeparator(),c=a.replace(b,"");a!==c&&this.$priceField.val(c)},handlePriceChange:function(){var a=this.model.get("ticketPrice");a&&a.replace(",",".")>0?(this.$ticketBuyerTotal.removeClass("is-hidden"),this.$feeSummaryLink.removeClass("is-hidden")):(this.$ticketBuyerTotal.addClass("is-hidden"),this.$feeSummaryLink.addClass("is-hidden"))},handleFeesUpdated:function(){this.$feeSummaryLink.data("tooltip").options.title=this.getFeeSummaryTemplate(),this.$(".js-price-input").trigger("change")},handleClickBuyerTotal:function(a){a.preventDefault(),Backbone.trigger("ticket-settings-open-"+this.model.cid,".js-ticket-fees")},updateBuyerTotal:function(){var a;return this.model.get("available_online")?a=this.model.get("formattedTotal"):this.model.get("available_atd")&&(a=this.model.get("formattedCost")),a}}).mixin(c.Backbone.Mixins.withTemplate,{templateName:"ticket_cost_paid"}).mixin(c.Backbone.Mixins.withStickit).mixin(c.Backbone.Mixins.withInputValidation)}(window.jQuery,window._,window.EB,window.Handlebars),function(a,b,c){"use strict";c.namespace("CreatePage"),c.CreatePage.TicketSettingsView=c.Backbone.View.extend({className:"ticket-settings settings",bindings:{".js-ticket-name":{observe:"name",onGet:"handleFormatName"},".js-ticket-description":{observe:"description"},".js-show-ticket-description":{observe:"show_description"},".js-order-minimum":"order_min",".js-order-maximum":"order_limit",".js-show-ticket-description-hidden":{observe:"show_description",onGet:"invertShowLogicForHiddenField"},".js-ticket-fees":{observe:["ticketPrice","available_online","available_atd"],updateView:!1,visible:"handleShowFeesByCost"},".js-ticket-sales-channel":{observe:"canBeATD",visible:!0,updateView:!1},".js-ticket-sales-channel-online":"available_online",".js-ticket-sales-channel-atd":"available_atd"},initialize:function(){b.bindAll(this,"handleATDChange","handleShowFeesByCost","handleValidationFailure","handleFormatName","render","deferredRender"),this.listenTo(this.model,"change:available_atd",this.handleATDChange),this.deferredRender=b.once(this.deferredRender),this.on("validationFail",this.handleValidationFailure),this.bindValidationToEvent(this.model,"change:order_min","order_limit")},render:function(){this.$minMaxSection=this.$(".js-min-max-tickets"),"donation"===this.model.get("paymentType")&&this.$minMaxSection.hide(),this.ticketFeesView=new c.CreatePage.TicketFeesView({model:this.model}),this.ticketStartEndSalesView=new c.CreatePage.TicketStartEndSalesView({model:this.model}),this.ticketVisibilityView=new c.CreatePage.TicketVisibilityView({model:this.model}),new c.UIComponents.SelectBox({element:this.$("#id_group-tickets-"+this.model.get("id")+"-include_ticket_fees_"),parentClass:"responsive-form__select"}),this.handleATDChange(),this.$(".js-ticket-fees").append(this.ticketFeesView.render().el),this.$(".js-ticket-sales").append(this.ticketStartEndSalesView.render().el),this.$(".js-ticket-visibility").append(this.ticketVisibilityView.render().el)},deferredRender:function(){return this.ticketStartEndSalesView.deferredRender(),this.ticketVisibilityView.deferredRender(),new c.UIComponents.FormHelp({el:this.$el}),this},handleATDChange:function(){this.model.collection.hasATDTicket()?this.model.eventModel.set("is_atd",!0):this.model.eventModel.set("is_atd",!1)},handleShowFeesByCost:function(a){var c=a.slice(1);return b.any(c)?parseFloat(this.model.get("ticketPrice"))||"donation"===this.model.get("paymentType")?!0:!1:!1},handleValidationFailure:function(){this.ticketStartEndSalesView.validateView()},handleFormatName:function(a){return a?gettext("Settings for ")+a:gettext("Settings")},beforeShow:function(){this.deferredRender()},invertShowLogicForHiddenField:function(a){return!a}}).mixin(c.Backbone.Mixins.withTemplate,{templateName:"ticket_settings"}).mixin(c.CreatePage.Mixins.animatedView).mixin(c.Backbone.Mixins.withStickit).mixin(c.Backbone.Mixins.withInputValidation)}(window.jQuery,window._,window.EB,window.Handlebars),function(a,b,c){"use strict";c.namespace("CreatePage"),c.CreatePage.TicketFeesView=c.Backbone.View.extend({tagName:"div",bindings:{".js-ticket-absorb-fees":{observe:"feeAbsorb"},".js-ticket-fee-options":{observe:"available_online",visible:!0,updateView:!1},".js-ticket-show-online-fee-breakdown":{observe:"available_online",visible:!0,updateView:!1},".js-ticket-online-fee-amount":"formattedFee",".js-ticket-online-total":"formattedTotal",".js-ticket-show-atd-fee-breakdown":{observe:"available_atd",visible:!0,updateView:!1},".js-ticket-atd-fee-amount":"formattedCCFee",".js-ticket-atd-total":"formattedCost"},initialize:function(){b.bindAll(this,"render","handleTotalChanged","handleATDChange","handleFeeAbsorbChange"),this.model.on("change:total",this.handleTotalChanged),this.listenTo(this.model,"change:available_atd",this.handleATDChange),this.listenTo(this.model,"change:feeAbsorb",this.handleFeeAbsorbChange),this.listenTo(this.model.currencyModel,"change:currency",this.handleFeeAbsorbChange)},render:function(){this.$helpTextContainer=this.$(".form__group--help-text-container"),this.$helpTextPass=this.$(".js-fee-help-pass"),this.$helpTextAbsorb=this.$(".js-fee-help-absorb"),this.$helpTextPassCCP=this.$(".js-fee-help-pass-ccp"),this.$helpTextAbsorbCCP=this.$(".js-fee-help-absorb-ccp"),this.$helpTextSplitCCP=this.$(".js-fee-help-split-ccp"),this.$ticketFeeInput=new c.UIComponents.SelectBox({element:this.$(".js-ticket-absorb-fees"),parentClass:"responsive-form__select"}),this.$ticketFeeInput.val(this.model.get("feeAbsorb")),this.handleATDChange(),this.handleFeeAbsorbChange(),"donation"===this.model.get("paymentType")&&this.$(".js-ticket-fees").detach()},getContextData:function(){return{numTicket:this.model.get("numTicket")}},handleTotalChanged:function(a,b){this.$el.toggleClass("is-hidden",!b)},handleATDChange:function(){this.renderTicketFeeInput()},renderTicketFeeInput:function(){this.model.eventModel.isPossiblyCCP()?this.$ticketFeeInput.$el.append(this.$ticketFeeOptionSplit):this.$ticketFeeOptionSplit=this.$ticketFeeInput.$el.find('option[value="2"]').detach()},handleFeeAbsorbChange:function(){var a=this.model.eventModel.isPossiblyCCP();switch(this.$helpTextContainer.find("span").addClass("is-hidden"),this.model.get("feeAbsorb")){case"0":a?this.$helpTextPassCCP.removeClass("is-hidden"):this.$helpTextPass.removeClass("is-hidden");break;case"1":a?this.$helpTextAbsorbCCP.removeClass("is-hidden"):this.$helpTextAbsorb.removeClass("is-hidden");break;case"2":this.$helpTextSplitCCP.removeClass("is-hidden")}}}).mixin(c.Backbone.Mixins.withTemplate,{templateName:"ticket_fees"}).mixin(c.Backbone.Mixins.withStickit)}(window.jQuery,window._,window.EB,window.Handlebars),function(a,b,c,d){"use strict";c.namespace("CreatePage"),c.CreatePage.TicketStartEndSalesView=c.Backbone.View.extend({className:"g-group",bindings:{".js-sales-start-time-picker":{observe:"salesStartDate"},".js-sales-end-time-picker":{observe:"salesEndDate",update:function(a,b){a.val(b).trigger("change")}},".js-end-sales-relative-type":{observe:"endSalesRelativeType"},".js-end-sales-relative-to":{observe:"endSalesRelativeTo"},".js-end-sales-relative-time":{observe:"endSalesRelativeTime"},".js-end-sales-relative-days":{observe:"endSalesRelativeDays"},".js-end-sales-relative-hours":{observe:"endSalesRelativeHours"},".js-end-sales-relative-minutes":{observe:"endSalesRelativeMinutes"},".js-start-sales-after-hidden":{observe:"startSalesAfterTicket"}},events:{".js-ticket-sales-start-by-date":"handleTicketSalesStartByDate","keyup .js-end-sales-relative-time":"handleRelativeTimeInputChange"},initialize:function(){b.bindAll(this,"render","deferredRender","renderCalendars","renderSalesEndByTicket","renderTicketChoice","handleEventRepeatingChange","handleTicketSalesStartByDate","handleTicketSalesStartDropdownChange","handleOtherTicketEndTimeChange","handleTicketCollectionChanged","handleSalesStartShow","handleSalesStartHide","handleTicketDeletedChange","handleSalesEndChange","handleRelativeTimeInputChange"),this.deferredRender=b.once(this.deferredRender),this.bindValidationToEvent(this.model,"change:salesStartDate","salesEndDate"),this.bindValidationToEvent(this.model,"change:salesEndDate","salesEndDate"),this.bindValidationToEvent(this.model.eventModel,"change:is_repeating","salesEndDate"),this.bindValidationToEvent(this.model,"change:endSalesRelativeTime","endSalesRelativeTime")},getContextData:function(){return{numTicket:this.model.get("numTicket"),startSalesAfterTicket:this.model.get("startSalesAfterTicket"),initialEndDate:this.model.get("salesEndDate"),newEndSalesFeatureFlag:c.CreatePage.featureFlags.isNewRelativeEndSales()}},render:function(){this.$ticketSalesByTicketLink=this.$(".js-ticket-sales-end-link"),this.$ticketSalesTicketDropdown=this.$(".js-sales-ticket-choices"),this.$relativeEndSales=this.$(".js-end-sales-relative-type"),this.$endSalesRelativeTo=this.$(".js-end-sales-relative-to"),this.$relativeEndSalesTime=this.$(".js-end-sales-relative-time"),this.$startSalesHiddenInput=this.$(".js-sales-start-time-picker"),this.$endSalesHiddenInput=this.$(".js-sales-end-time-picker"),this.handleEventRepeatingChange()},deferredRender:function(){return this.ticketSalesTicketSelectBox=new c.UIComponents.SelectBox({element:this.$ticketSalesTicketDropdown,parentClass:"responsive-form__select"}),c.CreatePage.featureFlags.isNewRelativeEndSales()&&(this.relativeEndSales=new c.UIComponents.SelectBox({element:this.$relativeEndSales,parentClass:"responsive-form__select"}),this.endSalesRelativeTo=new c.UIComponents.SelectBox({element:this.$endSalesRelativeTo,parentClass:"responsive-form__select"})),this.salesStartContainer=new c.UIComponents.ToggleContainerVisibility({el:this.$(".js-ticket-sales-start"),triggers:this.$(".js-visibility-trigger"),containers:this.$(".js-visibility-container"),animation:!0}),this.salesStartContainer.on("shown",this.handleSalesStartShow),this.salesStartContainer.on("hidden",this.handleSalesStartHide),this.renderCalendars(),this.renderSalesEndByTicket(),this.updateTicketSalesByTicketLink(),this.model.eventModel.on("change:is_repeating",this.handleEventRepeatingChange),this.model.eventModel.on("change:is_series",this.handleEventRepeatingChange),this.handleEventRepeatingChange(),this.model.eventModel.get("is_series")&&c.CreatePage.featureFlags.isNewRelativeEndSales()&&(this.relativeEndSales.updateText(),this.endSalesRelativeTo.updateText()),this.listenTo(this.model.collection,"add remove reset change:name change:formattedCost",this.handleTicketCollectionChanged),this.listenTo(this.model,"change:deleted",this.handleTicketDeletedChange),this.$ticketSalesTicketDropdown.on("change",this.handleTicketSalesStartDropdownChange),this.model.get("readonly")&&this.disableInputs(),this},renderSalesEndByTicket:function(){this.$ticketSalesTicketDropdown.html(""),this.model.collection.each(this.renderTicketChoice),this.model.get("startSalesAfterTicket")&&(this.salesStartContainer.toggleContainers(),this.$ticketSalesTicketDropdown.val(this.model.get("startSalesAfterTicket")),this.handleTicketSalesStartDropdownChange()),this.$ticketSalesTicketDropdown.trigger("change")},renderTicketChoice:function(a){var b,c;a!==this.model&&("paid"===a.paymentType&&(b=a.get("formattedTotal")),c=d.templates.ticket_sales_select_option({cid:a.id||"-"+a.cid.slice(1),name:a.get("name")+" ("+a.get("formattedCost")+")",cost:b}),this.$ticketSalesTicketDropdown.append(c),this.ticketSalesTicketSelectBox.updateText())},renderCalendars:function(){this.datePickerPair=new c.UIComponents.DateTimePickerPair({tabindex:80,startDateTimeInput:this.$startSalesHiddenInput,endDateTimeInput:this.$endSalesHiddenInput,show24Hours:!c.Intl.getUsesAMPM()}),this.datePickerPair.endDatepicker.on("change",this.handleSalesEndChange)},updateTicketSalesByTicketLink:function(){this.model.collection.length>1?this.$ticketSalesByTicketLink.removeClass("is-hidden"):this.$ticketSalesByTicketLink.addClass("is-hidden")},handleSalesEndChange:function(){this.model.set("endSalesRelativeType",""),this.model.set("endSalesRelativeTo",""),this.model.set("endSalesRelativeTime",""),this.model.set("endSalesRelativeDays",""),this.model.set("endSalesRelativeHours",""),this.model.set("endSalesRelativeMinutes","")},showEndSalesRelative:function(){this.$(".js-ticket-sales-start-group").removeClass("is-hidden"),this.$(".js-end-sales-explicit").removeClass("is-hidden"),this.$(".js-end-sales-relative").addClass("is-hidden"),this.handleSalesEndChange()},hideEndSalesRelative:function(){this.$(".js-ticket-sales-start-group").addClass("is-hidden"),this.$(".js-end-sales-explicit").addClass("is-hidden"),this.$(".js-end-sales-relative").removeClass("is-hidden"),""===this.model.get("endSalesRelativeTime")&&this.model.set({endSalesRelativeTime:"1",endSalesRelativeType:"hours",endSalesRelativeTo:"start_time"}),c.CreatePage.featureFlags.isNewRelativeEndSales()?(this.$relativeEndSalesTime.val(c.Intl.formatNumber(this.model.get("endSalesRelativeTime"),{precision:2})),this.$(".js-end-sales-relative-type").val(this.model.get("endSalesRelativeType")),this.$(".js-end-sales-relative-to").val(this.model.get("endSalesRelativeTo"))):(this.$(".js-end-sales-relative-days").val(this.model.get("endSalesRelativeDays")),this.$(".js-end-sales-relative-hours").val(this.model.get("endSalesRelativeHours")),this.$(".js-end-sales-relative-minutes").val(this.model.get("endSalesRelativeMinutes")))},handleEventRepeatingChange:function(){this.model.eventModel.get("is_repeating")||this.model.eventModel.get("is_series")?(this.hideEndSalesRelative(),this.model.get("startSalesAfterTicket")&&this.model.set("startSalesAfterTicket","")):this.showEndSalesRelative()},handleOtherTicketEndTimeChange:function(a){this.model.set("salesStartDate",a.get("salesEndDate")),this.$startSalesHiddenInput.trigger("change")},handleTicketSalesStartDropdownChange:function(){var a,b,c=this.$ticketSalesTicketDropdown.val(),d=this.model.collection.get(this.model.get("startSalesAfterTicket"));b=0===c.indexOf("-")?"c"+c.slice(1):c,a=this.model.collection.get(b),d&&d.off("change:salesEndDate",this.handleOtherTicketEndTimeChange),c&&(this.handleOtherTicketEndTimeChange(a),a.on("change:salesEndDate",this.handleOtherTicketEndTimeChange)),this.model.set("startSalesAfterTicket",c)},handleTicketSalesStartByDate:function(){this.$ticketSalesTicketDropdown.val("")},handleTicketCollectionChanged:function(){var a=this.$ticketSalesTicketDropdown.val();this.updateTicketSalesByTicketLink(),this.$ticketSalesTicketDropdown.html(""),this.model.collection.each(this.renderTicketChoice),this.model.get("startSalesAfterTicket")&&(this.model.collection.containsTicketWithId(a)?this.$ticketSalesTicketDropdown.val(a):this.salesStartContainer.toggleContainers(),this.$ticketSalesTicketDropdown.trigger("change"))},handleSalesStartShow:function(a){a.hasClass("js-ticket-sales-end-select")&&this.handleTicketSalesStartDropdownChange()},handleSalesStartHide:function(a){a.hasClass("js-ticket-sales-end-select")&&this.model.set("startSalesAfterTicket","")},handleTicketDeletedChange:function(){this.stopListening(this.model.collection)},handleRelativeTimeInputChange:function(){var a=this.$relativeEndSalesTime.val(),b=window.EB.Intl.getThousandsSeparator(),c=a.replace(b,"");a!==c&&this.$relativeEndSalesTime.val(c)}}).mixin(c.Backbone.Mixins.withTemplate,{templateName:"ticket_start_end_sales"}).mixin(c.Backbone.Mixins.withStickit).mixin(c.CreatePage.Mixins.stickitIEHack).mixin(c.Backbone.Mixins.withInputValidation).mixin(c.Backbone.Mixins.disabledInputs)}(window.jQuery,window._,window.EB,window.Handlebars),function(a,b,c){"use strict";c.namespace("CreatePage"),c.CreatePage.TicketVisibilityView=c.Backbone.View.extend({events:{"click .js-add-auto-hide-schedule":"handleAutoHideScheduleClick","change .js-auto-hide-on-sale":"handleAutoHideOnSaleClick"},bindings:{".js-ticket-hidden":"hidden",".js-hide-until":"hide_until",".js-hide-after":"hide_after",".js-auto-hide-schedule":{observe:"auto_hide"},".js-auto-hide-until":{observe:"auto_hide_until",onSet:"updateAutoHideUntil",onGet:"updateAutoHideUntil"},".js-auto-hide-after":{observe:"auto_hide_after",onSet:"updateAutoHideAfter",onGet:"updateAutoHideAfter"}},initialize:function(){b.bindAll(this,"deferredRender","handleAutoHideScheduleClick","handleAutoHideOnSaleClick","handleEventIsRepeatingChange","handleSalesDateChange","handleHideDateChange","displayAutoHideSchedule"),this.deferredRender=b.once(this.deferredRender),this.model.eventModel.on("change:is_repeating",this.handleEventIsRepeatingChange),this.model.eventModel.on("change:is_series",this.handleEventIsRepeatingChange),this.model.on("change:salesStartDate change:salesEndDate",this.handleSalesDateChange),this.model.on("change:auto_hide_until change:auto_hide_after change:hide_until change:hide_after",this.handleHideDateChange)},render:function(){this.$ticketHiddenCheckbox=this.$(".js-ticket-hidden"),this.$autoHideSettings=this.$(".js-auto-hide-settings"),this.$autoHideSettingsLink=this.$(".js-auto-hide-schedule-label"),this.$autoHideContainer=this.$(".js-auto-hide"),this.$autoHideOnSaleRadio=this.$(".js-auto-hide-on-sale"),this.$autoHideCustomRadio=this.$(".js-auto-hide-custom"),this.$autoHideUntilCheckbox=this.$(".js-auto-hide-until"),this.$autoHideAfterCheckbox=this.$(".js-auto-hide-after"),this.$hideUntilInput=this.$(".js-hide-until"),this.$hideAfterInput=this.$(".js-hide-after"),this.handleEventIsRepeatingChange(),this.initializeAutoHideSchedule()},deferredRender:function(){return new c.UIComponents.DateTimePickerPair({tabindex:80,startDateTimeInput:this.$hideUntilInput,endDateTimeInput:this.$hideAfterInput,show24Hours:!c.Intl.getUsesAMPM()}),this.model.get("readonly")&&this.disableInputs(),this},initializeAutoHideSchedule:function(){new c.UIComponents.ShowOnSelect({el:this.$el,selector:this.$autoHideCustomRadio,radioGroup:this.$autoHideSettings,showContainer:this.$(".js-auto-hide-custom-settings")}),(this.model.get("auto_hide_until")||this.model.get("auto_hide_after"))&&this.$autoHideCustomRadio.prop("checked",!0).trigger("change"),this.displayAutoHideSchedule()},handleAutoHideScheduleClick:function(){this.model.set("auto_hide",!this.model.get("auto_hide")),this.displayAutoHideSchedule()},displayAutoHideSchedule:function(){this.model.get("auto_hide")?(this.$ticketHiddenCheckbox.prop("disabled",!0),this.$autoHideSettings.removeClass("is-hidden"),this.$autoHideSettingsLink.html(gettext("Remove ticket auto-hide schedule")),this.updateAutoHideState()):(this.$ticketHiddenCheckbox.prop("disabled",!1),this.$autoHideSettings.addClass("is-hidden"),this.$autoHideSettingsLink.html(gettext("Add ticket auto-hide schedule")))},handleAutoHideOnSaleClick:function(){this.$autoHideOnSaleRadio.is(":checked")&&(this.$autoHideUntilCheckbox.prop("checked",!1),this.$autoHideAfterCheckbox.prop("checked",!1))},handleEventIsRepeatingChange:function(){this.model.eventModel.get("is_repeating")||this.model.eventModel.get("is_series")?(this.model.set("auto_hide",!1),this.displayAutoHideSchedule(),this.$autoHideContainer.addClass("is-hidden")):this.$autoHideContainer.removeClass("is-hidden")},handleSalesDateChange:function(){this.updateAutoHideState()},handleHideDateChange:function(){this.updateAutoHideState()},updateAutoHideUntil:function(a){return a?this.$hideUntilInput.removeAttr("disabled"):this.$hideUntilInput.attr("disabled","disabled"),a},updateAutoHideAfter:function(a){return a?this.$hideAfterInput.removeAttr("disabled"):this.$hideAfterInput.attr("disabled","disabled"),a},updateAutoHideState:function(){if(this.model.get("auto_hide")){var a=this.isTicketCurrentlyHidden();this.$ticketHiddenCheckbox.prop("checked",a),this.model.set("hidden",a)}},isTicketCurrentlyHidden:function(){return this.model.get("auto_hide_until")&&this.model.get("auto_hide_after")?this.model.get("sqlNow")>this.model.get("hide_after")||this.model.get("sqlNow")<this.model.get("hide_until"):this.model.get("auto_hide_until")?this.model.get("sqlNow")<this.model.get("hide_until"):this.model.get("auto_hide_after")?this.model.get("sqlNow")>this.model.get("hide_after"):this.model.get("sqlNow")<this.model.get("salesStartDate")||this.model.get("sqlNow")>this.model.get("salesEndDate")}}).mixin(c.Backbone.Mixins.withTemplate,{templateName:"ticket_visibility"}).mixin(c.CreatePage.Mixins.animatedView).mixin(c.Backbone.Mixins.withStickit).mixin(c.Backbone.Mixins.disabledInputs)}(window.jQuery,window._,window.EB,window.Handlebars),// Ticket Summary View contains the entire create ticket flow.
// It is a combo ticket collection view and ticket router
function(a,b,c,d,e){"use strict";c.namespace("CreatePage"),c.CreatePage.EventCapacityView=c.Backbone.View.extend({bindings:{"#id_group-details-capacity":"capacity",".js-event-capacity-input":{observe:"capacity",updateView:!1,onSet:"onSet"},".js-edit-capacity":{observe:"capacity",onGet:"updateQuantity"}},initialize:function(){b.bindAll(this,"updateQuantity","handleTicketAdded","handleTicketDeleted","handleCapacityBlur","focusCapacityInput"),this.listenTo(this.options.ticketCollection,"add",this.handleTicketAdded),this.listenTo(this.options.ticketCollection,"remove",this.handleTicketDeleted),this.listenTo(this.options.ticketCollection,"change:quantity",this.updateQuantity)},render:function(){this.$totalCapacityContainer=this.$(".js-event-capacity-input"),this.$capacityLink=this.$(".js-edit-capacity"),this.$(".js-event-capacity-display").tooltip({title:gettext("You can set a limit on the total number of tickets sold for your event, regardless of the ticket type")}),(this.options.ticketCollection.length>1||"0"!==this.model.get("capacity"))&&this.$el.removeClass("is-hidden"),this.$capacitySummaryToggle=new c.UIComponents.ToggleContainerVisibility({el:this.$el,containers:this.$el,animation:!1}),this.$capacityEditContainerToggle=new c.UIComponents.ToggleContainerVisibility({el:this.$el,triggers:this.$capacityLink,containers:this.$totalCapacityContainer.add(this.$capacityLink),animation:!1}),this.$totalCapacityContainer.on("blur",this.handleCapacityBlur),this.$capacityLink.on("click",this.focusCapacityInput),this.updateQuantity(),this.options.readonly&&(this.disableInputs(),this.$("#id_group-details-capacity").prop("disabled",!1)),this.showServerErrors()},handleTicketAdded:function(){this.options.ticketCollection.length>1&&this.$capacitySummaryToggle.$el.hasClass("is-hidden")&&this.$capacitySummaryToggle.toggleContainers()},handleTicketDeleted:function(){1===this.options.ticketCollection.length&&"0"===this.model.get("capacity")&&this.$capacitySummaryToggle.toggleContainers()},handleCapacityBlur:function(){this.model.get("capacity")<1&&this.model.set("capacity",0),this.$capacityEditContainerToggle.toggleContainers()},showServerErrors:function(){var a=this.$(".js-error-for-capacity");this.options.capacityErrors&&(a.html(this.options.capacityErrors),a.removeClass("is-hidden"))},updateQuantity:function(){var a=this.model.get("capacity");(0===parseInt(a,10)||typeof a===e)&&(a=this.options.ticketCollection.sumQuantity()),this.$totalCapacityContainer.val(a),this.$capacityLink.text(a)},focusCapacityInput:function(){this.$totalCapacityContainer.focus()}}).mixin(c.Backbone.Mixins.withStickit).mixin(c.Backbone.Mixins.withTemplate,{templateName:"event_capacity"}).mixin(c.Backbone.Mixins.disabledInputs).mixin(c.Backbone.Mixins.withInputValidation)}(window.jQuery,window._,window.EB,window),function(a){"use strict";a.namespace("CreatePage"),a.CreatePage.ReservedSeatingComponentFactory=a.ComponentFactory.extend({requests:{event:function(){return this.eventModel},tickets:function(){return this.ticketCollection},eventForm:function(){return $("#event_form")},"location:longitude":function(){return $('[name="group-location-longitude"]').val()},"location:latitude":function(){return $('[name="group-location-latitude"]').val()},seatmapThumbnail:function(){return $(".seatmap-image")},"seatmapThumbnail:img":function(){return $(".seatmap-image__thumbnail")},seatmapThumbnailPlaceholder:function(){return $(".seatmap-image__thumbnail-placeholder")}},commands:{"ui:loading:start":function(){$(this.contentRegion.el).addClass("seatmap-image--loading")},"ui:loading:stop":function(){$(this.contentRegion.el).removeClass("seatmap-image--loading")},"navigate:new":function(){this.controller&&this.controller.close(),1===parseInt(this.eventModel.get("inventory_type"),10)&&(this.controller=new a.CreatePage.ReservedSeating.NewController({sandbox:this.sandbox,region:this.contentRegion}))},"navigate:show":function(b){this.controller&&this.controller.close(),1===parseInt(this.eventModel.get("inventory_type"),10)&&(this.controller=new a.CreatePage.ReservedSeating.ShowController({sandbox:this.sandbox,region:this.contentRegion,seatmapData:b}))},"seatmap_image:update":function(a){this.controller.updateSeatmapImage(a)},"seatmap_image:reload":function(){this.reservedSeatingController.getMetaForSeatmapImage()}},componentMethods:{initializeLayout:function(b){this.layout=new a.CreatePage.ReservedSeatingLayout({model:this.eventModel}),b.show(this.layout),this.contentRegion=this.layout.content}},postCreate:function(a){this.controller=void 0,this.eventModel=a.eventModel,this.ticketCollection=a.ticketCollection},start:function(b){this.initializeLayout(b.region),this.reservedSeatingController=new a.CreatePage.ReservedSeatingController({sandbox:this.sandbox,model:this.eventModel})}})}(window.EB,window.EB.App),function(a,b,c,d){"use strict";a.namespace("CreatePage"),a.CreatePage.ReservedSeatingController=c.Controller.extend({initialize:function(){_.bindAll(this,"handleCurrentMap","handleNewMap","getMetaForSeatmapImage"),this.retrieveMap(),this.listenTo(this.model,"change:inventory_type",function(){this.retrieveMap()})},getMeta:function(){return d.getJSON("/inventory/v1/"+this.model.get("eid")+"/meta").pipe(function(a){return _.isEmpty(a)||a.errors||!a.event_id?d.Deferred().reject():a})},retrieveMap:function(){1===parseInt(this.model.get("inventory_type"),10)&&(this.model.get("eid")?this.getMeta().done(this.handleCurrentMap).fail(this.handleNewMap):this.handleNewMap(),this.sandbox.execute("ui:loading:start"))},handleCurrentMap:function(a){this.listenTo(this.model,"change:inventory_type",function(){this.sandbox.execute("navigate:show",a)}.bind(this)),this.sandbox.execute("ui:loading:stop"),this.sandbox.execute("navigate:show",a)},handleNewMap:function(){this.listenTo(this.model,"change:inventory_type",function(){this.sandbox.execute("ui:loading:stop"),this.sandbox.execute("navigate:new")}.bind(this)),1===parseInt(this.model.get("inventory_type"),10)&&(this.sandbox.execute("ui:loading:stop"),this.sandbox.execute("navigate:new"))},getMetaForSeatmapImage:function(){this.getMeta().done(function(a){this.sandbox.execute("seatmap_image:update",a)}.bind(this))}}).mixin(a.Backbone.Mixins.enforceDependencies,{dependencies:["sandbox","model"]})}(window.EB,window.EB.App,window.Marionette,window.jQuery),function(a,b,c){"use strict";a.namespace("CreatePage"),a.CreatePage.ReservedSeatingLayout=c.Layout.extend({regions:{content:".js-region-reserved-seating-content"},bindings:{'[name="group-details-inventory_type"]':"inventory_type"}}).mixin(a.Backbone.Mixins.withTemplate,{templateName:"reserved_layout"}).mixin(a.Backbone.Mixins.withStickit)}(window.EB,window.EB.App,window.Marionette,window.jQuery),function(a,b,c,d,e){"use strict";a.namespace("CreatePage.ReservedSeating"),a.CreatePage.ReservedSeating.LightboxController=c.Controller.extend({initialize:function(){_.bindAll(this,"handleSaveClick","handleCancelClick"),this.model=this.sandbox.request("event"),this.view=new a.CreatePage.ReservedSeating.LightboxView({model:new e.Model({inventory_type:this.model.get("inventory_type")})}),this.listenTo(this.view,"lightbox:save:clicked",this.handleSaveClick),this.listenTo(this.view,"lightbox:cancel:clicked",this.handleCancelClick),this.view.render()},handleSaveClick:function(){this.model.set(this.view.model.toJSON()),this.view.close(),1===parseInt(this.model.get("inventory_type"),10)?(d(".repeated_option").addClass("is-hidden"),d("#event_details_repeat").addClass("is-hidden"),d("#id_group-details-repeat_selection").val("never"),d("#id_group-details-repeat_selection").trigger("change")):(d(".repeated_option").removeClass("is-hidden"),d(".js-event-repeats-label").html(gettext("This event repeats")))},handleCancelClick:function(){this.view.close()},onClose:function(){this.view.close()}}).mixin(a.Backbone.Mixins.enforceDependencies,{dependencies:["sandbox"]})}(window.EB,window.EB.App,window.Marionette,window.jQuery,window.Backbone),function(a,b,c,d){"use strict";a.namespace("CreatePage.ReservedSeating"),a.CreatePage.ReservedSeating.LightboxView=c.ItemView.extend({bindings:{".js-reserved-toggle":"inventory_type"},triggers:{"click .js-save":"lightbox:save:clicked","click .js-cancel":"lightbox:cancel:clicked","click .eb_lightbox_close":"lightbox:cancel:clicked"},serializeData:function(){return _.extend({MEDIA_URL:a.getMediaUrl()},this.model.toJSON())},getTemplate:function(){return window.Handlebars.templates.reserved_toggle_lightbox},onRender:function(){this.$(".eb_lightbox").hide(),d("body").append(this.$el),a.Ui.lightbox.show(this.$(".eb_lightbox"))},onClose:function(){a.Ui.lightbox.hide(this.$(".eb_lightbox"))}}).mixin(a.Backbone.Mixins.withStickitForMarionette)}(window.EB,window.EB.App,window.Marionette,window.jQuery),function(a,b,c,d){"use strict";a.namespace("CreatePage.ReservedSeating"),a.CreatePage.ReservedSeating.NewController=c.Controller.extend({maxSeatMapsShown:4,initialize:function(){_.bindAll(this,"seatDesignerCreate","seatDesignerLoad","loadTemplates","loadTemplatesSuccess");var b,c=this.sandbox.request("event").get("venue");c&&(b=c.get("venue")),this.view=new a.CreatePage.ReservedSeating.NewChooserView({model:new d.Model({venueName:b})}),this.region.show(this.view),this.loadTemplates(),d.Events.trigger("create:tickets:hide"),this.listenTo(this.view,"chooser:create:clicked",this.seatDesignerCreate)},seatDesignerCreate:function(){this.seatDesignerOpen()},seatDesignerLoad:function(a){this.sandbox.request("eventForm").append($("<input/>",{type:"hidden",name:"seating_eid",value:1003*parseInt(a.model.get("event_id"),10)})),this.seatDesignerOpen()},seatDesignerOpen:function(){this.sandbox.request("eventForm").append($("<input/>",{type:"hidden",name:"go_to_seatmap",value:"1"})),a.CreatePage.submit()},onClose:function(){d.Events.trigger("create:tickets:show"),this.view.close()},loadTemplates:function(){var b,c=this.sandbox.request("location:longitude"),d=this.sandbox.request("location:latitude"),e=$.Deferred();if(c&&d&&(Number(c)||Number(d)))return b="lat="+d+"&long="+c,e=$.getJSON("/ajax/search_seatmap_templates?"+b).done(this.loadTemplatesSuccess),a.UIComponents.Loader.createSectionLoader(this.view.$el,e.promise()),e.promise()},loadTemplatesSuccess:function(b){var c,d,e,f=!1,g=this.view.$(".js-venue-name-message");if(!_.isEmpty(b.templates)){for(this.imageStaleTimeout&&(window.clearTimeout(this.imageStaleTimeout),this.view.$(".js-map-item").remove()),this.view.$(".js-preset-maps").addClass("is-hidden"),this.view.$(".js-saved-maps").removeClass("is-hidden"),g.length&&b.templates.length&&g.removeClass("is-hidden"),e=0;e<Math.min(b.templates.length,this.maxSeatMapsShown);e++)c=b.templates[e],c.imageIsReady="0"===c.image_stale,d=new a.CreatePage.ReservedSeating.MapTemplateItemView({model:new a.Backbone.Model(c)}),this.listenTo(d,"chooser:template:clicked",this.seatDesignerLoad),this.view.$(".js-saved-maps").prepend(d.render().$el),c.imageIsReady||(f=!0);f&&(this.imageStaleTimeout=window.setTimeout(this.loadTemplates,1e4))}}}).mixin(a.Backbone.Mixins.enforceDependencies,{dependencies:["sandbox","region"]})}(window.EB,window.EB.App,window.Marionette,window.Backbone),function(a,b,c){"use strict";a.namespace("CreatePage.ReserveddSeating"),a.CreatePage.ReservedSeating.NewChooserView=c.ItemView.extend({triggers:{"click .js-start":"chooser:create:clicked"},initialize:function(){_.bindAll(this,"loadTemplatesSuccess")},getTemplate:function(){return window.Handlebars.templates.reserved_new_chooser},loadTemplatesSuccess:function(b){var c,d,e;if(!_.isEmpty(b.templates))for(this.$(".js-preset-maps").addClass("is-hidden"),this.$(".js-saved-maps").removeClass("is-hidden"),d=0;d<b.templates.length;d++)c=b.templates[d],0!==c.section_count&&(e=new a.CreatePage.ReservedSeating.MapTemplateItemView({model:new a.Backbone.Model(c)}),this.$(".js-saved-maps").append(e.render().$el))}})}(window.EB,window.EB.App,window.Marionette),function(a,b,c){"use strict";a.namespace("CreatePage.ReserveddSeating"),a.CreatePage.ReservedSeating.MapTemplateItemView=c.ItemView.extend({tagName:"section",className:"has-centered-inline-content map-template",triggers:{"click .js-open-map":"chooser:template:clicked"},getTemplate:function(){return window.Handlebars.templates.reserved_saved_template_item}})}(window.EB,window.EB.App,window.Marionette),function(a,b,c,d){"use strict";a.namespace("CreatePage.ReservedSeating"),a.CreatePage.ReservedSeating.ShowController=c.Controller.extend({initialize:function(){_.bindAll(this,"seatDesignerOpen","showSeatmapImage");var b={};this.eventModel=this.sandbox.request("event"),this.model=new a.CreatePage.ReservedSeating.SeatmapModel(this.seatmapData),this.model.set("ticket_count",this.sandbox.request("tickets").length),this.model.set("MEDIA_URL",a.getMediaUrl()),this.model.set("venue_name",this.eventModel.get("venue").get("venue")),this.seatmapData.validation_messages&&(b=JSON.parse(this.seatmapData.validation_messages)),this.model.set("validation_messages",b),this.view=new a.CreatePage.ReservedSeating.ShowView({model:this.model}),this.region.show(this.view),d.Events.trigger("create:tickets:hide"),this.listenTo(this.view,"designer:launch:clicked",this.seatDesignerOpen),this.listenTo(this.eventModel.get("venue"),"change:venue",function(a,b){this.model.set("venue_name",b)}.bind(this)),this.showSeatmapImage()},seatDesignerOpen:function(){this.sandbox.request("eventForm").append($("<input/>",{type:"hidden",name:"go_to_seatmap",value:"1"})),a.CreatePage.submit()},updateSeatmapImage:function(a){this.model.set("image_stale",a.image_stale),this.model.set("image_base_url",a.image_base_url),this.showSeatmapImage()},showSeatmapImage:function(){return"1"===this.model.get("image_stale")||this.model.get("image_base_url")?("0"===this.model.get("image_stale")?(this.sandbox.request("seatmapThumbnail:img").attr("src",this.model.get("image_base_url")+".png"),this.sandbox.request("seatmapThumbnail").removeClass("loading")):setTimeout(function(){this.sandbox.execute("seatmap_image:reload")}.bind(this),1e4),void 0):(this.sandbox.request("seatmapThumbnailPlaceholder").show(),this.sandbox.request("seatmapThumbnail").remove(),void 0)},onClose:function(){d.Events.trigger("create:tickets:show"),this.view.close()}}).mixin(a.Backbone.Mixins.enforceDependencies,{dependencies:["sandbox","region","seatmapData"]})}(window.EB,window.EB.App,window.Marionette,window.Backbone),function(a,b,c){"use strict";a.namespace("CreatePage.ReservedSeating"),a.CreatePage.ReservedSeating.ShowView=c.ItemView.extend({triggers:{"click .js-seatmap-launch":"designer:launch:clicked"},bindings:{".js-seat-count":{observe:"unit_count",onGet:function(a){return 1===a?window.gettext("1 seat"):window.gettext("%(count)s seats",{count:a})}},".js-ticket-count":{observe:"ticket_count",onGet:function(a){return 1===a?window.gettext("1 ticket type"):window.gettext("%(count)s ticket types",{count:a})}},".js-venue-name":{observe:"venue_name",onGet:function(a){return a.trim()?window.gettext("Your seat map for %(venueName)s",{venueName:a}):""}}},getTemplate:function(){return window.Handlebars.templates.reserved_show},serializeData:function(){var b=this.model.validate(),c={name:this.model.get("name"),venue_name:this.model.get("venue_name"),seat_count:this.getSeatCount(),ticket_count:this.getTicketCount(),MEDIA_URL:this.model.get("MEDIA_URL")};return b&&_.keys(b).forEach(function(b){switch(parseInt(b,10)){case a.CreatePage.ReservedSeating.SeatmapModel.SEATS:c.map_errors=!0;break;case a.CreatePage.ReservedSeating.SeatmapModel.SELLING_ORDER:c.selling_order_errors=!0;break;case a.CreatePage.ReservedSeating.SeatmapModel.TICKETS:c.ticket_errors=!0}}),c},getSeatCount:function(){var a=this.model.get("unit_count");return 1===a?window.gettext("1 seat"):window.gettext("%(count)s seats",{count:a})},getTicketCount:function(){var a=this.model.get("ticket_count");return 1===a?window.gettext("1 ticket"):window.gettext("%(count)s tickets",{count:a})},onRender:function(){this.stickit()}})}(window.EB,window.EB.App,window.Marionette),function(a,b,c){"use strict";a.namespace("CreatePage.ReservedSeating"),a.CreatePage.ReservedSeating.SeatmapModel=c.Model.extend({validate:function(){return _.isEmpty(this.get("validation_messages"))?!1:this.getValidationErrors()},getValidationErrors:function(){var b=this.get("validation_messages"),c={};return"selling_order"in b&&(c[a.CreatePage.ReservedSeating.SeatmapModel.SELLING_ORDER]="All seats need a selling order assigned to continue."),"tickets"in b&&(c[a.CreatePage.ReservedSeating.SeatmapModel.TICKETS]="All seats need a ticket type assigned to continue."),"seats"in b&&(c[a.CreatePage.ReservedSeating.SeatmapModel.TICKETS]="All seats need a ticket type assigned to continue."),c}}),a.CreatePage.ReservedSeating.SeatmapModel.SEATS=1,a.CreatePage.ReservedSeating.SeatmapModel.SELLING_ORDER=2,a.CreatePage.ReservedSeating.SeatmapModel.TICKETS=3}(window.EB,window.EB.App,window.Backbone),function(a,b,c){"use strict";c.namespace("UIComponents"),c.UIComponents.FormHelp=c.Backbone.View.extend({initialize:function(){b.bindAll(this,"handleFocusInputField","handleHelpTargetClick","showHelpText"),this.helpTargetClass=".js-help-target",this.helpTextClass=".js-help-text",this.$el.find(this.helpTargetClass).on("click",this.handleHelpTargetClick).find("input, select").on("focus",this.handleFocusInputField)},handleFocusInputField:function(b){var c=a(b.delegateTarget).parents(this.helpTargetClass);this.showHelpText(c)},handleHelpTargetClick:function(b){this.showHelpText(a(b.delegateTarget))},showHelpText:function(a){this.$(this.helpTextClass).removeClass("is-active"),a.find(this.helpTextClass).addClass("is-active")}})}(window.jQuery,window._,window.EB,window),/**
 * This UI Component depends on:
 * django/media/django/compass/sass/modules
 * - custom_select.css.scss
 * - themes/3rdgen.css.scss (or whatever your theme is)
 *
 * You must include this file and build/custom_select.js for
 * the handle bars template.
 *
 * jquery, underscore, backboneview, handlbars
 */
function(a,b,c,d){"use strict";b.namespace("UIComponents"),b.UIComponents.SelectBox=b.Backbone.View.extend({initialize:function(b){if(c.bindAll(this,"selectItem"),"undefined"==typeof b||"undefined"==typeof b.element)throw"SelectBox 'element' undefined";this.parentClass="form__select","string"==typeof b.parentClass&&(this.parentClass=b.parentClass),this.$el=a(b.element),this.template=d.templates.custom_select_internal,this.wrapperTemplate=d.templates.custom_select_wrapper,0===this.$el.find('option[selected="selected"], option[selected]').length&&a(this.$el.find("option").get(0)).attr("selected","selected"),this.initialRender(),this.$el.change(this.selectItem)},initialRender:function(){this.$wrapper=a(this.wrapperTemplate({parentClass:this.parentClass})),this.$el.wrap(this.$wrapper),this.$wrapper=this.$el.parent(),this.$wrapper.prepend(a(this.template({select_value:this.$el.find('option[value="'+this.$el.val()+'"]').text()}))),this.$span=this.$wrapper.find(".custom-select-value"),this.selectItem()},selectItem:function(){this.updateText(),this.trigger("change",this.$el.val())},updateText:function(){this.$span.text(this.text())},val:function(a){return void 0!==a&&(this.$el.val(a),this.selectItem()),this.$el.val()},text:function(){return this.$el.find("option:selected").text()}}),a.fn.customselect=function(d){return this.each(function(){var e=a(this);return new b.UIComponents.SelectBox(c.extend({},d||{},{element:e}))})},a(function(){a(".js-form__select").customselect(),a(".js-responsive-form__select").customselect({parentClass:"responsive-form__select"})}),"function"==typeof define&&define("eb/ui_components/custom_select_view",function(a){return d.templates=d.templates||{},d.templates.custom_select_wrapper=a("hb!templates/src/eb/ui_components/custom_select_wrapper.handlebars"),d.templates.custom_select_internal=a("hb!templates/src/eb/ui_components/custom_select_internal.handlebars"),b.UIComponents.SelectBox})}(jQuery,window.EB,window._,window.Handlebars),function(a,b,c){"use strict";b.namespace("UIComponents"),b.UIComponents.CurrencyInputView=b.Backbone.View.extend({events:{keydown:"handleKeyDown"},defaultOptions:{decimalPlaces:2,decimalSeparator:".",thousandsSeparator:",",maxThousandsDigits:5},initialize:function(){var a=0;this.options=c.extend({},this.defaultOptions,this.options),c.bindAll(this,"handleKeyDown"),a=this.$el.val().replace(/[^0-9]/g,""),this.value=String(a),this.value>0&&this.$el.val(this._formatDisplay(this._valueToNumber(a)))},_formatDisplay:function(c){return a.trim(b.Intl.formatNumber(c,{precision:this.options.decimalPlaces,decimal:this.options.decimalSeparator,thousand:this.options.thousandsSeparator}))},_valueToNumber:function(a){var b=parseFloat(a);return isNaN(b)?0:(b/Math.pow(10,this.options.decimalPlaces)).toFixed(this.options.decimalPlaces)},_handleDeleteKeyPress:function(a){(8===a||46===a)&&this.value.length>0&&(this.value=this.value.slice(0,this.value.length-1))},_handleNumberKeyPress:function(a){var b=this.options.maxThousandsDigits+this.options.decimalPlaces,c="",d=0;(a>=48&&57>=a||a>=96&&105>=a)&&(a=a>=96&&105>=a?a-48:a,c=this.value+String.fromCharCode(a),d=String(this._valueToNumber(c)).replace(/[^0-9]/g,"").length,b>=d&&(this.value=c))},getNumberValue:function(){return this._valueToNumber(this.value)},cleanInput:function(a){this._handleDeleteKeyPress(a),this._handleNumberKeyPress(a),this.$el.val(this._formatDisplay(this._valueToNumber(this.value)))},handleKeyDown:function(a){9!==a.which&&(a.preventDefault(),this.cleanInput(a.which))}})}(window.jQuery,window.EB,window._),function(a,b,c,d){"use strict";b.namespace("UIComponents"),b.UIComponents.ShowOnSelect=c.View.extend({initialize:function(){d.bindAll(this,"handleTriggerClick"),this.trigger=this.options.radioGroup||this.options.selector,this.options.selector.is(":checked")&&this.handleTriggerClick(),this.trigger.on("change",this.handleTriggerClick)},handleTriggerClick:function(){var a=this.options.selector.is(":checked");this.options.showContainer.toggleClass("is-hidden",!a)}}),b.UIComponents.ToggleContainerVisibility=c.View.extend({initialize:function(){d.bindAll(this,"handleToggleClick","toggleContainers","showContainers"),this.animationDuration=0,this.options.animation&&(this.animationDuration=800),this.options.triggers&&this.options.triggers.on("click",this.handleToggleClick)},handleToggleClick:function(a){a.preventDefault(),this.toggleContainers()},toggleContainers:function(){var a;a=this.$el,this.shownContainers=this.options.containers.not(".is-hidden"),this.hiddenContainers=this.options.containers.filter(".is-hidden"),a.animate({height:this.hiddenContainers.height()},this.animationDuration,function(){a.css("height","")}),this.shownContainers.length>0?this.shownContainers.animate({opacity:0},5*this.animationDuration/8,this.showContainers):this.showContainers()},showContainers:function(){this.shownContainers.addClass("is-hidden"),this.hiddenContainers.fadeOut().removeClass("is-hidden"),this.hiddenContainers.animate({opacity:1},3*this.animationDuration/8),this.trigger("shown",this.hiddenContainers),this.trigger("hidden",this.shownContainers)}}),"function"==typeof define&&define("eb/ui_components/display_container",function(){return b.UIComponents.ToggleContainerVisibility})}(jQuery,window.EB,window.Backbone,window._,window),// relies on:
// - src/jquery.timepicker.js
// - jqueryui (datepicker)
function(a,b,c){"use strict";b.namespace("UIComponents"),b.UIComponents.DateTimePicker=b.Backbone.View.extend({initialize:function(){this.datepickerConfig={}},render:function(){c.bindAll(this,"handleDateTimeChange","handleDateChange","handleTimeChange","showError","hideError","isManualUpdate"),this.$dateInput=this.$(".js-date-input"),this.$timeInput=this.$(".js-time-input"),this.$errorMsg=this.$(".js-date-time-error"),this.$dateTimeInput=this.options.dateTimeInput,this.$dateInput.datepicker(this.datepickerConfig),this.$timeInput.timePicker({startTime:"0:00",endTime:"23:30",separator:":",step:30,show24Hours:this.options.show24Hours,onSelect:this.isManualUpdate}),new b.UIComponents.SelectBox({element:this.$timeInput,parentClass:"responsive-form__select"}),this.handleDateTimeChange(),this.$dateTimeInput.after(this.$el),this.$dateTimeInput.on("change",this.handleDateTimeChange),this.$dateInput.on("change",this.handleDateChange),this.$timeInput.on("change",this.handleTimeChange)},setDateTimeInput:function(){this.$dateTimeInput.val(b.Date.toSql(this.dateObject)),this.$dateTimeInput.off("change",this.handleDateTimeChange),this.$dateTimeInput.trigger("change"),this.$dateTimeInput.on("change",this.handleDateTimeChange),this.isAutomaticUpdate||this.trigger("change")},handleDateChange:function(){var a=this.$dateInput.datepicker("getDate");this.dateObject.setFullYear(a.getFullYear()),this.dateObject.setMonth(a.getMonth()),this.dateObject.setDate(a.getDate()),this.isAutomaticUpdate=!1,this.setDateTimeInput()},handleTimeChange:function(){var b=a.timePicker(this.$timeInput).getTime();this.dateObject.setHours(b.getHours()),this.dateObject.setMinutes(b.getMinutes()),this.isAutomaticUpdate=!1,this.setDateTimeInput()},handleDateTimeChange:function(){this.dateObject=b.Date.fromSql(this.$dateTimeInput.val()),this.$dateInput.datepicker("setDate",this.dateObject),a.timePicker(this.$timeInput).setTime(b.Date.fromSql(this.$dateTimeInput.val())),this.isAutomaticUpdate=!0},isManualUpdate:function(){this.AutomaticUpdate=!1},getContextData:function(){return{dateTabIndex:this.options.tabindex,timeTabIndex:this.options.tabindex+1,use24hour:this.options.use24hour}},showError:function(a){this.$dateInput.addClass("has-form-input-error"),this.$errorMsg.html(a).removeClass("is-hidden")},hideError:function(){this.$dateInput.removeClass("has-form-input-error"),this.$errorMsg.addClass("is-hidden")}}).mixin(b.Backbone.Mixins.withTemplate,{templateName:"date_time_picker"})}(jQuery,window.EB,window._,window.Handlebars),function(a,b){"use strict";b.namespace("UIComponents"),b.UIComponents.DateTimePickerPair=b.Backbone.View.extend({initialize:function(){this.$startDateTimeInput=this.options.startDateTimeInput,this.$endDateTimeInput=this.options.endDateTimeInput,this.startDatepicker=new b.UIComponents.DateTimePicker({tabindex:this.options.tabindex,dateTimeInput:this.$startDateTimeInput,show24Hours:this.options.show24Hours}),this.startDatepicker.render(),this.endDatepicker=new b.UIComponents.DateTimePicker({tabindex:this.options.tabindex+2,dateTimeInput:this.$endDateTimeInput,show24Hours:this.options.show24Hours}),this.endDatepicker.render(),this.$startDateTimeInput.on("change",this.handleTimeChange),this.$endDateTimeInput.on("change",this.handleTimeChange)}})}(jQuery,window.EB,window._,window.Handlebars),function(a,b,c,d){"use strict";b.namespace("UIComponents"),b.UIComponents.NotificationView=c.View.extend({className:"js-notification",initialize:function(a){d.bindAll(this,"handleCloseButtonClick"),this.notificationMessage=a.message,this.notificationType=a.type,this.notificationStyle=a.style||"normal",this.showIcon="undefined"==typeof a.showIcon?!0:a.showIcon,this.showCloseButton="undefined"==typeof a.showCloseButton?!0:a.showCloseButton},render:function(){var b,c="notification";return"wide"===this.notificationStyle&&(c+="-bar"),this.$el=a("<div/>").addClass(this.className).addClass(c).addClass(c+"--"+this.notificationType),this.$el.html(" "+this.notificationMessage),"landing-type"!==this.notificationType&&this.showIcon&&this.$el.prepend(a("<i/>").addClass("ico-"+this.notificationType)),"wide"===this.notificationStyle&&this.showCloseButton&&(b=a("<a/>").addClass("notification-bar__close js-notification-bar-close"),b.append(a("<i/>").addClass("ico-cross")),b.on("click",this.handleCloseButtonClick),this.$el.append(b)),this},handleCloseButtonClick:function(a){a.preventDefault();this.$el.fadeOut(d.bind(function(){this.$el.detach()},this))}})}(jQuery,window.EB,window.Backbone,window._,window),/*!
 * accounting.js v0.3.2
 * Copyright 2011, Joss Crowcroft
 *
 * Freely distributable under the MIT license.
 * Portions of accounting.js are inspired or borrowed from underscore.js
 *
 * Full details and documentation:
 * http://josscrowcroft.github.com/accounting.js/
 */
function(a,b){function c(a){return!!(""===a||a&&a.charCodeAt&&a.substr)}function d(a){return l?l(a):"[object Array]"===m.call(a)}function e(a){return a&&"[object Object]"===m.call(a)}function f(a,b){var c;a=a||{},b=b||{};for(c in b)b.hasOwnProperty(c)&&null==a[c]&&(a[c]=b[c]);return a}function g(a,b,c){var d,e,f=[];if(!a)return f;if(k&&a.map===k)return a.map(b,c);for(d=0,e=a.length;e>d;d++)f[d]=b.call(c,a[d],d,a);return f}function h(a,b){return a=Math.round(Math.abs(a)),isNaN(a)?b:a}function i(a){var b=j.settings.currency.format;return"function"==typeof a&&(a=a()),c(a)&&a.match("%v")?{pos:a,neg:a.replace("-","").replace("%v","-%v"),zero:a}:a&&a.pos&&a.pos.match("%v")?a:c(b)?j.settings.currency.format={pos:b,neg:b.replace("%v","-%v"),zero:b}:b}var j={};j.version="0.3.2",j.settings={currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}};var k=Array.prototype.map,l=Array.isArray,m=Object.prototype.toString,n=j.unformat=j.parse=function(a,b){if(d(a))return g(a,function(a){return n(a,b)});if(a=a||0,"number"==typeof a)return a;b=b||j.settings.number.decimal;var c=new RegExp("[^0-9-"+b+"]",["g"]),e=parseFloat((""+a).replace(/\((.*)\)/,"-$1").replace(c,"").replace(b,"."));return isNaN(e)?0:e},o=j.toFixed=function(a,b){b=h(b,j.settings.number.precision);var c=Math.pow(10,b);return(Math.round(j.unformat(a)*c)/c).toFixed(b)},p=j.formatNumber=function(a,b,c,i){if(d(a))return g(a,function(a){return p(a,b,c,i)});a=n(a);var k=f(e(b)?b:{precision:b,thousand:c,decimal:i},j.settings.number),l=h(k.precision),m=0>a?"-":"",q=parseInt(o(Math.abs(a||0),l),10)+"",r=q.length>3?q.length%3:0;return m+(r?q.substr(0,r)+k.thousand:"")+q.substr(r).replace(/(\d{3})(?=\d)/g,"$1"+k.thousand)+(l?k.decimal+o(Math.abs(a),l).split(".")[1]:"")},q=j.formatMoney=function(a,b,c,k,l,m){if(d(a))return g(a,function(a){return q(a,b,c,k,l,m)});a=n(a);var o=f(e(b)?b:{symbol:b,precision:c,thousand:k,decimal:l,format:m},j.settings.currency),r=i(o.format),s=a>0?r.pos:0>a?r.neg:r.zero;return s.replace("%s",o.symbol).replace("%v",p(Math.abs(a),h(o.precision),o.thousand,o.decimal))};j.formatColumn=function(a,b,k,l,m,o){if(!a)return[];var q=f(e(b)?b:{symbol:b,precision:k,thousand:l,decimal:m,format:o},j.settings.currency),r=i(q.format),s=r.pos.indexOf("%s")<r.pos.indexOf("%v")?!0:!1,t=0,u=g(a,function(a){if(d(a))return j.formatColumn(a,q);a=n(a);var b=a>0?r.pos:0>a?r.neg:r.zero,c=b.replace("%s",q.symbol).replace("%v",p(Math.abs(a),h(q.precision),q.thousand,q.decimal));return c.length>t&&(t=c.length),c});return g(u,function(a){return c(a)&&a.length<t?s?a.replace(q.symbol,q.symbol+new Array(t-a.length+1).join(" ")):new Array(t-a.length+1).join(" ")+a:a})},j.noConflict=function(c){return function(){return a.accounting=c,j.noConflict=b,j}}(a.accounting),a.accounting=j}(this),this.Handlebars=this.Handlebars||{},this.Handlebars.templates=this.Handlebars.templates||{},this.Handlebars.templates.custom_select_wrapper=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function",i=this.escapeExpression;return g+='<div class="',(f=c.parentClass)?f=f.call(b,{hash:{},data:e}):(f=b.parentClass,f=typeof f===h?f.apply(b):f),g+=i(f)+' custom-select-container clrfix">\n</div>\n'}),this.Handlebars.templates.custom_select_internal=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function",i=this.escapeExpression;return g+='<span class="custom-select-value">',(f=c.select_value)?f=f.call(b,{hash:{},data:e}):(f=b.select_value,f=typeof f===h?f.apply(b):f),g+=i(f)+'</span>\n<div class="custom-select-arrow"></div>\n'}),this.Handlebars=this.Handlebars||{},this.Handlebars.templates=this.Handlebars.templates||{},Handlebars.registerPartial("event_duration",Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h,i="",j=c.helperMissing,k=this.escapeExpression,l="function";return i+='<div class="l-block-3 series-event-duration">\n    <div class="g-cell g-cell-1-1">\n        <label class="responsive-form__fieldset-legend">',h={hash:{context_hour:""},data:e},i+=k((f=c._||b._,f?f.call(b,"From%(context_hour)s",h):j.call(b,"_","From%(context_hour)s",h)))+'</label>\n    </div>\n    <div class="g-cell g-cell-1-1 responsive-form responsive-form--inline">\n        <div class="clrfix l-inline-form-group">\n            <input type="text" value="',(g=c.start_time)?g=g.call(b,{hash:{},data:e}):(g=b.start_time,g=typeof g===l?g.apply(b):g),i+=k(g)+'" class="form__input--short js-series-start-time series-new-time-input">\n        </div>\n        <div class="clrfix l-inline-form-group">\n            <label>',h={hash:{context_hour:""},data:e},i+=k((f=c._||b._,f?f.call(b,"to%(context_hour)s",h):j.call(b,"_","to%(context_hour)s",h)))+'</label>\n            <input type="text" value="',(g=c.end_time)?g=g.call(b,{hash:{},data:e}):(g=b.end_time,g=typeof g===l?g.apply(b):g),i+=k(g)+'" class="form__input--short js-series-end-time series-new-time-input">\n        </div>\n        <div class="clrfix l-inline-form-group">\n            <label>',h={hash:{context_day:""},data:e},i+=k((f=c._||b._,f?f.call(b,"of the%(context_day)s",h):j.call(b,"_","of the%(context_day)s",h)))+'</label>\n            <select class="js-series-overnights" >\n                <option value="0">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Same day",h):j.call(b,"_","Same day",h)))+'</option>\n                <option value="1">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Next day",h):j.call(b,"_","Next day",h)))+'</option>\n                <option value="2">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"2nd day",h):j.call(b,"_","2nd day",h)))+'</option>\n                <option value="3">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"3rd day",h):j.call(b,"_","3rd day",h)))+'</option>\n                <option value="4">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"4th day",h):j.call(b,"_","4th day",h)))+'</option>\n                <option value="5">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"5th day",h):j.call(b,"_","5th day",h)))+'</option>\n                <option value="6">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"6th day",h):j.call(b,"_","6th day",h)))+"</option>\n            </select>\n        </div>\n    </div>\n</div>"})),Handlebars.registerPartial("event_repeat_range",Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h,i="",j=c.helperMissing,k=this.escapeExpression,l="function";return i+='<div class="l-block-3 series-schedule-dates">\n    <div class="g-cell g-cell-1-1">\n        <label type="text" class="form__label--column">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Repeat from",h):j.call(b,"_","Repeat from",h)))+'</label>\n    </div>\n    <div class="g-cell g-cell-1-1 responsive-form responsive-form--inline">\n        <div class="clrfix l-inline-form-group">\n            <input type="text" value="',(g=c.start_date)?g=g.call(b,{hash:{},data:e}):(g=b.start_date,g=typeof g===l?g.apply(b):g),i+=k(g)+'" class="form__input--short js-series-start-date">\n        </div>\n        <div class="clrfix l-inline-form-group">\n            <label>',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"until",h):j.call(b,"_","until",h)))+'</label>\n            <input type="text" value="',(g=c.end_date)?g=g.call(b,{hash:{},data:e}):(g=b.end_date,g=typeof g===l?g.apply(b):g),i+=k(g)+'" class="form__input--short js-series-end-date">\n        </div>\n    </div>\n</div>'})),this.Handlebars.templates.new_location=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\n        <input class="js-location-cep" id="location-cep-input" type="text" placeholder="',e={hash:{},data:b},f+=p((d=c._||a._,d?d.call(a,"Enter location using CEP",e):o.call(a,"_","Enter location using CEP",e)))+'" data-placeholder="',e={hash:{},data:b},f+=p((d=c._||a._,d?d.call(a,"Enter location using CEP",e):o.call(a,"_","Enter location using CEP",e)))+'" />\n        \n        <input class="js-location-input-new hidden" id="location-name-input" type="text" placeholder="',e={hash:{},data:b},f+=p((d=c._||a._,d?d.call(a,"Specify where it's held",e):o.call(a,"_","Specify where it's held",e)))+'" data-placeholder="',e={hash:{},data:b},f+=p((d=c._||a._,d?d.call(a,"Specify where it's held.",e):o.call(a,"_","Specify where it's held.",e)))+'" />\n    '}function g(a,b){var d,e,f="";return f+='\n        <input class="js-location-input-new" id="location-name-input" type="text" placeholder="',e={hash:{},data:b},f+=p((d=c._||a._,d?d.call(a,"Specify where it's held",e):o.call(a,"_","Specify where it's held",e)))+'" data-placeholder="',e={hash:{},data:b},f+=p((d=c._||a._,d?d.call(a,"Specify where it's held.",e):o.call(a,"_","Specify where it's held.",e)))+'" />\n    '}function h(a,b){var d,e,f="";return f+='\n            <li>\n                <a href="" class="js-location-select-past">\n                    <i class="ico-location ico--small"></i>\n                    ',e={hash:{},data:b},f+=p((d=c._||a._,d?d.call(a,"Use a past location",e):o.call(a,"_","Use a past location",e)))+"\n                </a>\n            </li>\n        "}function i(a,b){var d,e,f="";return f+="\n                    ",e={hash:{},data:b},f+=p((d=c._||a._,d?d.call(a,"Enter your full address",e):o.call(a,"_","Enter your full address",e)))+"\n                "}function j(a,b){var d,e,f="";return f+="\n                    ",e={hash:{},data:b},f+=p((d=c._||a._,d?d.call(a,"Can't find your location?",e):o.call(a,"_","Can't find your location?",e)))+"\n                "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var k,l,m,n="",o=c.helperMissing,p=this.escapeExpression,q=this;return n+='<div class="inputtext g-cell g-cell-1-1">\n    ',k=c["if"].call(b,b.isCepEnabled,{hash:{},inverse:q.program(3,g,e),fn:q.program(1,f,e),data:e}),(k||0===k)&&(n+=k),n+='\n\n    <ul class="bullet-list-ico bullet-list-ico--compact text-body-small">\n        ',k=c["if"].call(b,b.hasPastLocations,{hash:{},inverse:q.noop,fn:q.program(5,h,e),data:e}),(k||0===k)&&(n+=k),n+='\n        <li>\n            <a href="" class="js-location-is-online">\n                <i class="ico-computer ico--small"></i>\n                ',m={hash:{},data:e},n+=p((k=c._||b._,k?k.call(b,"Online event",m):o.call(b,"_","Online event",m)))+'\n            </a>\n        </li>\n        <li>\n            <a href="" class="js-location-cant-find">\n                <i class="ico-search ico--small"></i>\n                ',l=c["if"].call(b,b.isCepEnabled,{hash:{},inverse:q.program(9,j,e),fn:q.program(7,i,e),data:e}),(l||0===l)&&(n+=l),n+="\n\n            </a>\n        </li>\n    </ul>\n</div>\n"}),this.Handlebars.templates.edit_location=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\n            <div class="js-location-spinner js-cep-spinner">\n                <input formnovalidate="formnovalidate" pattern="[0-9]*" class="js-location-edit-postal_code js-xd-cep-input" maxlength="9" type="text"  data-placeholder="',e={hash:{},data:b},f+=n((d=c._||a._,d?d.call(a,"CEP",e):m.call(a,"_","CEP",e)))+'" placeholder="',e={hash:{},data:b},f+=n((d=c._||a._,d?d.call(a,"CEP",e):m.call(a,"_","CEP",e)))+'" />\n            </div>\n            <p class="form__field-error is-hidden js-error-for-postal_code"></p>\n            '}function g(a,b){var d,e,f="";return f+='\n             <div class="g-cell g-cell-1-1">\n                <input class="js-location-edit-state l-block-1 js-xd-cep-state" type="text"  data-placeholder="',e={hash:{},data:b},f+=n((d=c._||a._,d?d.call(a,"State",e):m.call(a,"_","State",e)))+'" placeholder="',e={hash:{},data:b},f+=n((d=c._||a._,d?d.call(a,"State",e):m.call(a,"_","State",e)))+'"/>\n            </div>\n            <p class="form__field-error is-hidden js-error-for-state"></p>\n            '}function h(a,b){var d,e,f="";return f+='\n            <div class="g-cell g-cell-1-2">\n                <input class="js-location-edit-state l-block-1 js-xd-cep-state" type="text"  data-placeholder="',e={hash:{},data:b},f+=n((d=c._||a._,d?d.call(a,"State",e):m.call(a,"_","State",e)))+'" placeholder="',e={hash:{},data:b},f+=n((d=c._||a._,d?d.call(a,"State",e):m.call(a,"_","State",e)))+'"/>\n            </div>\n            <div class="g-cell g-cell-1-2">\n                <input class="js-location-edit-postal_code l-block-1 js-xd-cep-input" type="text"  data-placeholder="',e={hash:{},data:b},f+=n((d=c._||a._,d?d.call(a,"Zip/Postal",e):m.call(a,"_","Zip/Postal",e)))+'" placeholder="',e={hash:{},data:b},f+=n((d=c._||a._,d?d.call(a,"Zip/Postal",e):m.call(a,"_","Zip/Postal",e)))+'" />\n            </div>\n            <p class="form__field-error is-hidden js-error-for-state"></p>\n            <p class="form__field-error is-hidden js-error-for-postal_code"></p>\n            '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var i,j,k,l="",m=c.helperMissing,n=this.escapeExpression,o=this;return l+='<div class="g-group">\n    <div id="location_edit_form" class="g-vertical-group g-cell-1-1 g-cell-md-5-8">\n\n        <div class="g-cell g-cell-1-1">\n            ',i=c["if"].call(b,b.isCepEnabled,{hash:{},inverse:o.noop,fn:o.program(1,f,e),data:e}),(i||0===i)&&(l+=i),l+='\n            <input class="js-location-edit-venue l-block-1" type="text"  data-placeholder="',k={hash:{},data:e},l+=n((i=c._||b._,i?i.call(b,"Enter the venue's name",k):m.call(b,"_","Enter the venue's name",k)))+'" placeholder="',k={hash:{},data:e},l+=n((i=c._||b._,i?i.call(b,"Enter the venue's name",k):m.call(b,"_","Enter the venue's name",k)))+'" />\n            <p class="form__field-error is-hidden js-error-for-venue"></p>\n            <input class="js-location-edit-address_1 l-block-1 js-xd-cep-street" type="text"  data-placeholder="',k={hash:{},data:e},l+=n((i=c._||b._,i?i.call(b,"Address 1",k):m.call(b,"_","Address 1",k)))+'" placeholder="',k={hash:{},data:e},l+=n((i=c._||b._,i?i.call(b,"Address 1",k):m.call(b,"_","Address 1",k)))+'" data-d-cep-focus=true/>\n            <p class="form__field-error is-hidden js-error-for-address_1"></p>\n            <input class="js-location-edit-address_2 l-block-1 js-xd-cep-neighborhood" type="text"  data-placeholder="',k={hash:{},data:e},l+=n((i=c._||b._,i?i.call(b,"Address 2",k):m.call(b,"_","Address 2",k)))+'" placeholder="',k={hash:{},data:e},l+=n((i=c._||b._,i?i.call(b,"Address 2",k):m.call(b,"_","Address 2",k)))+'"/>\n            <p class="form__field-error is-hidden js-error-for-address_2"></p>\n            <input class="js-location-edit-city l-block-1 js-xd-cep-city" type="text"  data-placeholder="',k={hash:{},data:e},l+=n((i=c._||b._,i?i.call(b,"City",k):m.call(b,"_","City",k)))+'" placeholder="',k={hash:{},data:e},l+=n((i=c._||b._,i?i.call(b,"City",k):m.call(b,"_","City",k)))+'" />\n            <p class="form__field-error is-hidden js-error-for-city"></p>\n        </div>\n\n        <div class="g-group">\n            ',j=c["if"].call(b,b.isCepEnabled,{hash:{},inverse:o.program(5,h,e),fn:o.program(3,g,e),data:e}),(j||0===j)&&(l+=j),l+='\n\n        </div>\n\n\n        <div class="g-group g-cell-1-1">\n            <div class="g-cell g-cell-1-2">\n\n                <ul class="bullet-list-ico bullet-list-ico--compact text-body-small">\n                    <li>\n                        <a href="" class="js-location-reset"><i class="ico-refresh ico--small"></i>',k={hash:{},data:e},l+=n((i=c._||b._,i?i.call(b,"Reset location",k):m.call(b,"_","Reset location",k)))+'</a>\n                        </a>\n                    </li>\n                </ul>\n            </div>\n            <div class="g-cell g-cell-1-2">\n                <div class="l-block-1">\n                    <input id="location-edit-showmap" class="js-location-edit-showmap" type="checkbox">\n                    </input>\n                    <label for="location-edit-showmap"><span class="text-body-small">',k={hash:{},data:e},l+=n((i=c._||b._,i?i.call(b,"Show map on event page",k):m.call(b,"_","Show map on event page",k)))+'</span></label>\n                </div>\n            </div>\n            <p class="form__field-error is-hidden js-error-for-showmap"></p>\n        </div>\n\n    </div>\n    <div class="g-vertical-group g-cell-3-8 hide-small">\n        <div class="js-google-map-region g-cell g-cell-1-1"></div>\n    </div>\n</div>\n'}),this.Handlebars.templates.online_location=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i=c.helperMissing,j=this.escapeExpression;return h+='<div class="card">\n    <span>\n        ',g={hash:{},data:e},h+=j((f=c._||b._,f?f.call(b,"This is an online event",g):i.call(b,"_","This is an online event",g)))+'\n    </span>\n    <a href="" class="js-location-new text-link-aside"></a>\n</div>\n<ul class="bullet-list-ico bullet-list-ico--compact text-body-small">\n    <li>\n        <a href="" class="js-location-new"><i class="ico-location ico--small"></i>',g={hash:{},data:e},h+=j((f=c._||b._,f?f.call(b,"Add a location",g):i.call(b,"_","Add a location",g)))+"</a>\n    </li>\n</ul>\n"}),this.Handlebars.templates.location_layout=Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div id="create_location_content" class="js-region-location-content js-d-cep"></div>\n<input name="group-location-venue" type="hidden"/>\n<input name="group-location-address_1" type="hidden"/>\n<input name="group-location-address_2" type="hidden"/>\n<input name="group-location-city" type="hidden"/>\n<input name="group-location-state" type="hidden"/>\n<input name="group-location-postal_code" type="hidden"/>\n<input name="group-location-country" type="hidden"/>\n<input name="group-location-zoom" type="hidden"/>\n<input name="group-location-longaddress" type="hidden"/>\n<input name="group-location-longitude" type="hidden"/>\n<input name="group-location-latitude" type="hidden"/>\n<input name="group-location-old_venue" type="hidden"/>\n<input name="group-location-showmap" type="hidden"/>\n<input name="group-extras-online_event" type="hidden"/>\n'}),this.Handlebars.templates.past_locations=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e="";return e+='\n    <option value="',(d=c.value)?d=d.call(a,{hash:{},data:b}):(d=a.value,d=typeof d===k?d.apply(a):d),e+=l(d)+'">',(d=c.label)?d=d.call(a,{hash:{},data:b}):(d=a.label,d=typeof d===k?d.apply(a):d),e+=l(d)+"</option>\n    "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h,i,j="",k="function",l=this.escapeExpression,m=c.helperMissing,n=this;return j+='<select id="location_select_past" class="js-location-select-past">\n    <option value="">',i={hash:{},data:e},j+=l((g=c._||b._,g?g.call(b,"Select a location from venues you've used in the past",i):m.call(b,"_","Select a location from venues you've used in the past",i)))+"</option>\n    ",h=c.each.call(b,b.pastVenueOptions,{hash:{},inverse:n.noop,fn:n.program(1,f,e),data:e}),(h||0===h)&&(j+=h),j+='\n</select>\n\n<ul class="bullet-list-ico bullet-list-ico--compact text-body-small">\n    <li>\n        <a href="" class="js-location-reset"><i class="ico-search ico--small"></i>',i={hash:{},data:e},j+=l((g=c._||b._,g?g.call(b,"Find a new venue",i):m.call(b,"_","Find a new venue",i)))+'</a>\n    </li>\n    <li>\n        <a href="" class="js-location-is-online">\n            <i class="ico-computer ico--small"></i>\n            ',i={hash:{},data:e},j+=l((g=c._||b._,g?g.call(b,"Online event",i):m.call(b,"_","Online event",i)))+"\n        </a>\n    </li>\n</ul>\n"}),this.Handlebars.templates.location_placeholder=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i=c.helperMissing,j=this.escapeExpression;return h+='<div class="location-map-panel pod has-centered-inline-content">\n    <div class="location-placeholder-content l-block-10">\n        <p><i class="ico-location"></i></p>\n        <p class="l-block-7 text-body-large location-placeholder-text">',g={hash:{},data:e},h+=j((f=c._||b._,f?f.call(b,"No map",g):i.call(b,"_","No map",g)))+"</p>\n    </div>\n</div>\n"}),this.Handlebars.templates.cant_find_location=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i=c.helperMissing,j=this.escapeExpression;return h+='<div class="pac-item location-places-autocomplete-cant-find">\n    <i class="ico-search"></i>\n    <b><span class="pac-item-query"><a class="js-location-cant-find" href="">',g={hash:{},data:e},h+=j((f=c._||b._,f?f.call(b,"Can't find your location?",g):i.call(b,"_","Can't find your location?",g)))+"</a></span></b>\n</div>"}),this.Handlebars.templates.event_capacity=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i=c.helperMissing,j=this.escapeExpression;return h+='<div class="js-event-capacity-display">\n    <span>',g={hash:{},data:e},h+=j((f=c._||b._,f?f.call(b,"Total capacity:",g):i.call(b,"_","Total capacity:",g)))+'</span>\n    <a href="#" class="js-edit-capacity"></a>\n</div>\n\n<input type="text"\n    id="id_group-details-display_capacity"\n    class="js-event-capacity-input form__input--xxshort is-hidden"\n    pattern="[0-9]*" />\n\n<p class="form__field-error is-hidden js-error-for-capacity"></p>\n\n<input type="hidden"\n    name="group-details-capacity"\n    value="0"\n    id="id_group-details-capacity" />\n'}),this.Handlebars.templates.ticket_summary=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i=c.helperMissing,j=this.escapeExpression;return h+='\n<div class="has-centered-inline-content js-ticket-cta js-ticket-summary-container">\n    <p class="js-create-ticket-error is-hidden l-padded-2 form__field-error">',g={hash:{},data:e},h+=j((f=c._||b._,f?f.call(b,"You must create at least one ticket type to publish this event.",g):i.call(b,"_","You must create at least one ticket type to publish this event.",g)))+'</p>\n    <div class="l-padded-h-3">\n        <p class="text-body-large l-padded-v-3">',g={hash:{},data:e},h+=j((f=c._||b._,f?f.call(b,"What type of ticket would you like to start with?",g):i.call(b,"_","What type of ticket would you like to start with?",g)))+'</p>\n        <div class="btn-group btn-group--responsive">\n            <a href="#" class="l-block-1 js-create-ticket btn btn--ico" href="#create-free-ticket" data-type="free">\n                <i class="ico-circle-plus"></i>',g={hash:{},data:e},h+=j((f=c._||b._,f?f.call(b,"Free ticket",g):i.call(b,"_","Free ticket",g)))+'\n            </a><!--\n            --><a href="#" class="l-block-1 js-create-ticket btn btn--ico"  onclick="javascript:show();"   href="#create-paid-ticket" data-type="paid">\n                <i class="ico-circle-plus"></i>',g={hash:{},data:e},h+=j((f=c._||b._,f?f.call(b,"Paid ticket",g):i.call(b,"_","Paid ticket",g)))+'\n            </a><!--\n            --><a href="#" class="l-block-1 js-create-ticket btn btn--ico btn--secondary" href="#create-donation-ticket" data-type="donation">\n                <i class="ico-circle-plus"></i>',g={hash:{},data:e},h+=j((f=c._||b._,f?f.call(b,"Donation",g):i.call(b,"_","Donation",g)))+'\n            </a>\n        </div>\n        <div class="l-padded-v-4">\n            <a href="#expert_tip_tickets" id="create-tickets--learn-more text-body-large hide-small" class="js-d-modal">',g={hash:{},data:e},h+=j((f=c._||b._,f?f.call(b,"Learn more about creating tickets",g):i.call(b,"_","Learn more about creating tickets",g)))+'</a>\n        </div>\n    </div>\n</div>\n\n\n\n<section class="js-ticket-summary is-hidden js-ticket-summary-container">\n    <div class="g-cell g-cell-1-1 l-block-2 g-offset-lg-1-12 g-cell-lg-10-12 paid-ticket-container">\n        <div class="g-group create-tickets--header hide-small">\n            <div class="g-cell g-cell-5-12 g-cell--no-gutters l-block-h-2 text-body-large l-padded-v-2">\n                ',g={hash:{},data:e},h+=j((f=c._||b._,f?f.call(b,"Ticket name",g):i.call(b,"_","Ticket name",g)))+'<span class="required">*</span>\n            </div>\n            <div class="g-cell g-cell-2-12 g-cell--no-gutters l-padded-h-half text-body-large l-padded-v-2">\n                ',g={hash:{},data:e},h+=j((f=c._||b._,f?f.call(b,"Quantity available",g):i.call(b,"_","Quantity available",g)))+'<span class="required">*</span>\n            </div>\n            <div class="g-cell g-cell-3-12 g-cell--no-gutters l-padded-h-half text-body-large l-padded-v-2">',g={hash:{},data:e},h+=j((f=c._||b._,f?f.call(b,"Price",g):i.call(b,"_","Price",g)))+'</div>\n            <div class="g-cell g-cell-2-12 g-cell--no-gutters l-padded-h-half text-body-large l-padded-v-2">',g={hash:{},data:e},h+=j((f=c._||b._,f?f.call(b,"Actions",g):i.call(b,"_","Actions",g)))+'</div>\n        </div>\n\n        <div class="js-ticket-container create-tickets--container"></div>\n\n        <div class="g-group js-ticket-summary-footer create-tickets--footer l-padded-v-1"></div>\n    </div>\n</section>\n\n<section class="js-deleted-tickets is-hidden"></section>\n'}),this.Handlebars.templates.ticket_summary_footer=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i=c.helperMissing,j=this.escapeExpression;return h+='<div class="g-cell g-cell-1-1 g-cell-lg-9-12 btn-group btn-group--responsive l-align-center-sm l-align-center-md">\n    <a href="#" class="js-create-ticket btn btn--ico l-block-1" data-type="free">\n        <i class="ico-circle-plus"></i>',g={hash:{},data:e},h+=j((f=c._||b._,f?f.call(b,"Free ticket",g):i.call(b,"_","Free ticket",g)))+'\n    </a><!--\n    --><a href="#" class="js-create-ticket btn btn--ico l-block-1" data-type="paid">\n            <i class="ico-circle-plus"></i>',g={hash:{},data:e},h+=j((f=c._||b._,f?f.call(b,"Paid ticket",g):i.call(b,"_","Paid ticket",g)))+'\n        </a><!--\n    --><a href="#" class="js-create-ticket btn btn--ico btn--secondary l-block-1" data-type="donation">\n        <i class="ico-circle-plus"></i>',g={hash:{},data:e},h+=j((f=c._||b._,f?f.call(b,"Donation",g):i.call(b,"_","Donation",g)))+'\n    </a>\n</div>\n<div class="g-cell g-cell-1-1 g-cell-lg-3-12 l-align-center-sm l-align-center-md l-align-right-lg js-event-capacity l-block-2 is-hidden"></div>\n'}),this.Handlebars.templates.ticket_summary_reserved_footer=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i=c.helperMissing,j=this.escapeExpression;return h+='<div class="g-cell g-cell-1-1 l-align-center-sm l-align-center-md g-cell-lg-8-12 l-block-2 hide-small">\n    <a class="btn js-designer-launch">\n        ',g={hash:{},data:e},h+=j((f=c._||b._,f?f.call(b,"Launch Seat Designer",g):i.call(b,"_","Launch Seat Designer",g)))+'\n    </a>\n</div>\n<div class="g-cell g-cell-1-1 g-cell-lg-4-12 l-align-center-sm l-align-center-md create-tickets--capacity js-event-capacity is-hidden l-block-2"></div>\n'}),this.Handlebars.templates.ticket_row=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h,i="",j="function",k=this.escapeExpression,l=c.helperMissing;return i+='<div class="g-cell g-cell-1-1 g-cell-md-5-12 g-cell--no-gutters sorting-gripper-container l-padded-h-half l-block-2">\n    <div class="js-sorting-gripper sorting-gripper hide-small ">\n        <i class="ico-gripper ico--xlarge ico--color-brand-white"></i>\n    </div>\n\n    <input type="hidden" name="group-tickets-',(f=c.numTicket)?f=f.call(b,{hash:{},data:e}):(f=b.numTicket,f=typeof f===j?f.apply(b):f),i+=k(f)+'-id" id="id_group-tickets-',(f=c.numTicket)?f=f.call(b,{hash:{},data:e}):(f=b.numTicket,f=typeof f===j?f.apply(b):f),i+=k(f)+'-id" value="',(f=c.id)?f=f.call(b,{hash:{},data:e}):(f=b.id,f=typeof f===j?f.apply(b):f),i+=k(f)+'"/>\n    <input type="hidden" name="group-tickets-',(f=c.numTicket)?f=f.call(b,{hash:{},data:e}):(f=b.numTicket,f=typeof f===j?f.apply(b):f),i+=k(f)+'-cid" id="id_group-tickets-',(f=c.numTicket)?f=f.call(b,{hash:{},data:e}):(f=b.numTicket,f=typeof f===j?f.apply(b):f),i+=k(f)+'-cid" value="',(f=c.cid)?f=f.call(b,{hash:{},data:e}):(f=b.cid,f=typeof f===j?f.apply(b):f),i+=k(f)+'" />\n    <input type="hidden" name="group-tickets-',(f=c.numTicket)?f=f.call(b,{hash:{},data:e}):(f=b.numTicket,f=typeof f===j?f.apply(b):f),i+=k(f)+'-has_attendees" id="id_group-tickets-',(f=c.numTicket)?f=f.call(b,{hash:{},data:e}):(f=b.numTicket,f=typeof f===j?f.apply(b):f),i+=k(f)+'-has_attendees" class="js-has-attendees" />\n\n    <label for="group-tickets-',(f=c.numTicket)?f=f.call(b,{hash:{},data:e}):(f=b.numTicket,f=typeof f===j?f.apply(b):f),i+=k(f)+'-ticket_type" class="responsive-form__label--primary hide-medium-accessible hide-large-accessible">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Ticket name",h):l.call(b,"_","Ticket name",h)))+'</label>\n    <div>\n        <input name="group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===j?g.apply(b):g),i+=k(g)+'-ticket_type" maxlength="255" type="text" id="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===j?g.apply(b):g),i+=k(g)+'-ticket_type" class="form__input form__input--full-width js-ticket-name" placeholder=\'',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Early Bird, RSVP...",h):l.call(b,"_","Early Bird, RSVP...",h)))+"' title='",h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Give your ticket a name, like General Admission, Early Bird, RSVP, etc.",h):l.call(b,"_","Give your ticket a name, like General Admission, Early Bird, RSVP, etc.",h)))+'\'/>\n        <span class="js-ticket-visibility create-tickets--visibility is-hidden">\n            <i class="ico-invisible ico--medium"></i>\n        </span>\n    </div>\n    <div class="form__field-error is-hidden js-error-for-name"></div>\n</div>\n\n\n<div class="g-cell g-cell-1-2 g-cell-md-2-12 g-cell--no-gutters l-block-2 l-padded-h-half">\n    <label for="group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===j?g.apply(b):g),i+=k(g)+'-quantity_total" class="responsive-form__label--primary hide-medium-accessible hide-large-accessible">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Quantity",h):l.call(b,"_","Quantity",h)))+'</label>\n    <input name="group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===j?g.apply(b):g),i+=k(g)+'-quantity_total" maxlength="6" id="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===j?g.apply(b):g),i+=k(g)+'-quantity_total" type="text" placeholder="100" class="form__input--full-width js-quantity-input" pattern="[0-9]*" title="',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Enter the total number of tickets available for this ticket type",h):l.call(b,"_","Enter the total number of tickets available for this ticket type",h)))+'"/>\n    <div class="form__field-error is-hidden js-error-for-quantity"></div>\n</div>\n\n<div class="g-cell g-cell-1-2 g-cell-md-3-12 g-cell--no-gutters l-block-2 l-padded-h-half paid-ticket-container">\n    <label for="group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===j?g.apply(b):g),i+=k(g)+'-cost" class="responsive-form__label--primary hide-medium-accessible hide-large-accessible">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Price",h):l.call(b,"_","Price",h)))+'</label>\n    <div class="js-payment-type"></div>\n</div>\n\n<div class="g-cell g-cell-1-1 g-cell-md-2-12 g-cell--no-gutters l-block-2 l-padded-h-half report__row__tab-group">\n    <a  onclick="show();" class="js-ticket-settings-link report__row__tab narrow-tooltip icon-link" href="#" title="',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Ticket Settings",h):l.call(b,"_","Ticket Settings",h)))+'">\n        <i class="ico-settings ico--medium" alt="Settings"></i>\n    </a>\n    <a id="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===j?g.apply(b):g),i+=k(g)+'-delete_ticket"\n       class="js-delete-ticket report__row__tab narrow-tooltip icon-link"\n       title="',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Delete",h):l.call(b,"_","Delete",h)))+'"\n       href="#">\n        <i class="ico-trash ico--medium" alt="Delete"></i>\n    </a>\n</div>\n\n<input type="hidden" name="group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===j?g.apply(b):g),i+=k(g)+'-DELETE" id="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===j?g.apply(b):g),i+=k(g)+'-DELETE" class="js-ticket-delete" />\n<input type="hidden" name="group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===j?g.apply(b):g),i+=k(g)+'-ORDER" id="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===j?g.apply(b):g),i+=k(g)+'-ORDER" class="js-ticket-order" value="',(g=c.index)?g=g.call(b,{hash:{},data:e}):(g=b.index,g=typeof g===j?g.apply(b):g),i+=k(g)+'" />\n'
}),this.Handlebars.templates.ticket_row_reserved=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h,i="",j="function",k=this.escapeExpression,l=c.helperMissing;return i+='<div class="g-cell g-cell-1-1 g-cell-md-5-12 l-block-2 l-padded-h-half create-tickets--reserved-row sorting-gripper-container">\n    <div class="js-sorting-gripper sorting-gripper hide-small">\n        <i class="ico-gripper ico--xlarge ico--color-brand-white"></i>\n    </div>\n    <input type="hidden" name="group-tickets-',(f=c.numTicket)?f=f.call(b,{hash:{},data:e}):(f=b.numTicket,f=typeof f===j?f.apply(b):f),i+=k(f)+'-id" id="id_group-tickets-',(f=c.numTicket)?f=f.call(b,{hash:{},data:e}):(f=b.numTicket,f=typeof f===j?f.apply(b):f),i+=k(f)+'-id" value="',(f=c.id)?f=f.call(b,{hash:{},data:e}):(f=b.id,f=typeof f===j?f.apply(b):f),i+=k(f)+'"/>\n    <input type="hidden" name="group-tickets-',(f=c.numTicket)?f=f.call(b,{hash:{},data:e}):(f=b.numTicket,f=typeof f===j?f.apply(b):f),i+=k(f)+'-cid" id="id_group-tickets-',(f=c.numTicket)?f=f.call(b,{hash:{},data:e}):(f=b.numTicket,f=typeof f===j?f.apply(b):f),i+=k(f)+'-cid" value="',(f=c.cid)?f=f.call(b,{hash:{},data:e}):(f=b.cid,f=typeof f===j?f.apply(b):f),i+=k(f)+'" />\n    <input type="hidden" name="group-tickets-',(f=c.numTicket)?f=f.call(b,{hash:{},data:e}):(f=b.numTicket,f=typeof f===j?f.apply(b):f),i+=k(f)+'-has_attendees" id="id_group-tickets-',(f=c.numTicket)?f=f.call(b,{hash:{},data:e}):(f=b.numTicket,f=typeof f===j?f.apply(b):f),i+=k(f)+'-has_attendees" class="js-has-attendees" />\n    <label for="group-tickets-',(f=c.numTicket)?f=f.call(b,{hash:{},data:e}):(f=b.numTicket,f=typeof f===j?f.apply(b):f),i+=k(f)+'-ticket_type" class="responsive-form__label--primary hide-medium-accessible hide-large-accessible">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Ticket name",h):l.call(b,"_","Ticket name",h)))+'</label>\n    <div>\n        <input name="group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===j?g.apply(b):g),i+=k(g)+'-ticket_type" maxlength="255" type="text" id="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===j?g.apply(b):g),i+=k(g)+'-ticket_type" class="form__input form__input--reserved-ticket-width js-ticket-name" placeholder=\'',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Examples: Early Bird, RSVP",h):l.call(b,"_","Examples: Early Bird, RSVP",h)))+"' title='",h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Give your ticket a name, like General Admission, Early Bird, RSVP, etc.",h):l.call(b,"_","Give your ticket a name, like General Admission, Early Bird, RSVP, etc.",h)))+'\'/>\n        <span class="js-ticket-visibility create-tickets--visibility is-hidden">\n            <i class="ico-invisible ico--medium"></i>\n        </span>\n    </div>\n    <div class="form__field-error is-hidden js-error-for-name"></div>\n</div>\n\n\n<div class="g-cell g-cell-1-2 g-cell-md-2-12 l-block-2 l-padded-h-half">\n    <label for="group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===j?g.apply(b):g),i+=k(g)+'-quantity_total" class="responsive-form__label--primary hide-medium-accessible hide-large-accessible">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Quantity",h):l.call(b,"_","Quantity",h)))+'</label>\n    <input name="group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===j?g.apply(b):g),i+=k(g)+'-quantity_total" maxlength="6" id="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===j?g.apply(b):g),i+=k(g)+'-quantity_total" type="hidden" class="js-quantity-input"/>\n    <div class="l-block-2 js-quantity-text">0</div>\n</div>\n\n<div class="g-cell g-cell-1-2 g-cell-md-3-12 l-block-2 l-padded-h-half paid-ticket-container">\n    <label for="group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===j?g.apply(b):g),i+=k(g)+'-cost" class="responsive-form__label--primary hide-medium-accessible hide-large-accessible">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Price",h):l.call(b,"_","Price",h)))+'</label>\n    <div class="js-payment-type"></div>\n</div>\n\n<div class="g-cell g-cell-1-1 g-cell-md-2-12 l-block-2 l-padded-h-half report__row__tab-group">\n    <a class="js-ticket-settings-link report__row__tab narrow-tooltip icon-link" href="#" title="',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Ticket Settings",h):l.call(b,"_","Ticket Settings",h)))+'">\n        <i class="ico-settings ico--medium" alt="Settings"></i>\n    </a>\n</div>\n\n<input type="hidden" name="group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===j?g.apply(b):g),i+=k(g)+'-ORDER" id="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===j?g.apply(b):g),i+=k(g)+'-ORDER" class="js-ticket-order" value="',(g=c.index)?g=g.call(b,{hash:{},data:e}):(g=b.index,g=typeof g===j?g.apply(b):g),i+=k(g)+'" />\n'}),this.Handlebars.templates.ticket_settings=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h,i="",j="function",k=this.escapeExpression,l=c.helperMissing;return i+='<div class="ticket-settings-container js-ticket-settings">\n    <div class="l-block-2 g-cell g-cell-1-1">\n        <div class="js-ticket-name l-block-1 text-body-large"></div>\n        <hr class="l-block-2" />\n    </div>\n\n    <div class="responsive-form text-body-medium l-padded-v-3">\n        <div class="js-help-target g-group">\n            <label class="responsive-form__fieldset-legend g-cell g-cell-1-1" for="id_group-tickets-',(f=c.numTicket)?f=f.call(b,{hash:{},data:e}):(f=b.numTicket,f=typeof f===j?f.apply(b):f),i+=k(f)+'-description">\n                ',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Ticket description",h):l.call(b,"_","Ticket description",h)))+'\n            </label>\n            <div class="g-cell g-cell-1-1 g-cell-md-2-3 g-cell-lg-3-4 ">\n                <textarea data-check="{}" name="group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===j?g.apply(b):g),i+=k(g)+'-description" id="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===j?g.apply(b):g),i+=k(g)+'-description" class="js-ticket-description"></textarea>\n                <input data-check="{}" type="hidden" name="group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===j?g.apply(b):g),i+=k(g)+'-hide_description"\n                id="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===j?g.apply(b):g),i+=k(g)+'-hide_description" class="js-show-ticket-description-hidden"/>\n                <div class="l-padded-v-1">\n                    <input data-check="{}" id="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===j?g.apply(b):g),i+=k(g)+'-show_description" type="checkbox" class="js-show-ticket-description"/>\n                    <label for="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===j?g.apply(b):g),i+=k(g)+'-show_description">\n                        ',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Show ticket description on event page",h):l.call(b,"_","Show ticket description on event page",h)))+'\n                    </label>\n                </div>\n            </div>\n            <div class="js-help-text is-active hide-small g-cell g-cell-md-1-3 g-cell-lg-1-4 form__group--help-text">\n                <div class="form__group--help-text-container">\n                    ',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Optional: Add extra information about this ticket type",h):l.call(b,"_","Optional: Add extra information about this ticket type",h)))+'\n                </div>\n            </div>\n        </div>\n\n        <div class="js-help-target js-ticket-sales-channel g-group" id="paidFeeType">\n            <div class="g-vertical-group g-cell-1-1 g-cell-md-2-3 g-cell-lg-3-4 ">\n                <h3 class="responsive-form__fieldset-legend g-cell g-cell-1-1 l-block-3">\n                    ',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Sales channel",h):l.call(b,"_","Sales channel",h)))+'\n                </h3>\n                <div class="l-block-1 g-cell g-cell-1-1">\n                    <input data-check="{}" name="group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===j?g.apply(b):g),i+=k(g)+'-available_online" id="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===j?g.apply(b):g),i+=k(g)+'-available_online" type="checkbox" class="js-ticket-sales-channel-online" />\n                    <label for="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===j?g.apply(b):g),i+=k(g)+'-available_online">\n                        ',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Online sales",h):l.call(b,"_","Online sales",h)))+'\n                    </label>\n                </div>\n                <div class="l-block-1 js-show-sales-channel-atd g-cell g-cell-1-1">\n                    <input data-check="{}" name="group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===j?g.apply(b):g),i+=k(g)+'-available_atd" id="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===j?g.apply(b):g),i+=k(g)+'-available_atd" type="checkbox" class="js-ticket-sales-channel-atd" />\n                    <label for="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===j?g.apply(b):g),i+=k(g)+'-available_atd">\n                        ',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"At The Door (app) sales",h):l.call(b,"_","At The Door (app) sales",h)))+'\n                    </label>\n                </div>\n            </div>\n            <div class="g-cell g-cell-1-3 g-cell-lg-1-4 l-block-4 js-help-text hide-small form__group--help-text">\n                <div class="form__group--help-text-container">\n                    ',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Select where to sell your tickets: online or onsite using the At The Door iPad app",h):l.call(b,"_","Select where to sell your tickets: online or onsite using the At The Door iPad app",h)))+'\n                </div>\n            </div>\n        </div>\n\n        <div class="js-help-target js-ticket-fees g-group gticket_settings_service_fees l-block-3"></div>\n\n        <div class="js-help-target js-ticket-sales"></div>\n\n        <div class="js-help-target js-ticket-visibility g-group l-block-3"></div>\n\n        <div class="js-help-target js-min-max-tickets l-block-3 g-group">\n            <h4 class="responsive-form__fieldset-legend g-cell g-cell-1-1">\n                ',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Tickets allowed per order",h):l.call(b,"_","Tickets allowed per order",h)))+'\n            </h4>\n            <div class="g-cell g-cell-1-1 g-cell-md-2-3 g-cell-lg-3-4">\n                <div class="g-group">\n                    <div class="g-cell g-cell-1-2 g-cell-md-1-4 g-cell--no-gutters l-block-3">\n                        <input type="text" name="group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===j?g.apply(b):g),i+=k(g)+'-order_minimum" value="1" id="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===j?g.apply(b):g),i+=k(g)+'-order_minimum" class="js-order-minimum l-padded-h-1" pattern="[0-9]*" />\n                        <label for="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===j?g.apply(b):g),i+=k(g)+'-order_minimum">\n                            ',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"minimum",h):l.call(b,"_","minimum",h)))+'\n                        </label>\n                        <div class="js-error-for-order_min form__field-error"></div>\n                    </div>\n                    <div class="g-cell g-cell-1-2 g-cell-md-1-4 g-cell--no-gutters l-block-h-1 l-block-3">\n                        <input type="text" name="group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===j?g.apply(b):g),i+=k(g)+'-order_limit" id="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===j?g.apply(b):g),i+=k(g)+'-order_limit" class="js-order-maximum l-padded-h-1" pattern="[0-9]*" />\n                        <label for="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===j?g.apply(b):g),i+=k(g)+'-order_limit">\n                            ',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"maximum",h):l.call(b,"_","maximum",h)))+'\n                        </label>\n                        <div class="js-error-for-order_limit form__field-error"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="js-help-text hide-small g-cell g-cell-md-1-3 g-cell-lg-1-4 form__group--help-text">\n                <div class="form__group--help-text-container">\n                    ',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Optional: Limit the minimum or maximum number of tickets per order",h):l.call(b,"_","Optional: Limit the minimum or maximum number of tickets per order",h)))+'\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="l-align-center g-cell g-cell-1-1">\n        <hr />\n        <div class="l-padded-v-3">\n            <a class="js-minimize-settings-link" href="#">\n                <i class="ico-circle ico-omnes-arrow-up ico--bullet"></i>\n                ',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Minimize settings",h):l.call(b,"_","Minimize settings",h)))+"\n            </a>\n        </div>\n    </div>\n</div>\n"}),this.Handlebars.templates.ticket_cost_paid=Handlebars.template(function(a,b,c,d,e){function f(){return"\n        responsive-form__input--currency--suffix\n"}function g(){return"\n        responsive-form__input--currency--long\n"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i,j,k="",l=this,m="function",n=this.escapeExpression,o=c.helperMissing;return k+='<div class="\n        responsive-form__input--currency\n',h=c["if"].call(b,b.currencySuffix,{hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e}),(h||0===h)&&(k+=h),k+="\n",h=c["if"].call(b,b.currencyLong,{hash:{},inverse:l.noop,fn:l.program(3,g,e),data:e}),(h||0===h)&&(k+=h),k+='\n    ">\n    <div class="responsive-form__input--currency__symbol">',(h=c.currencySymbol)?h=h.call(b,{hash:{},data:e}):(h=b.currencySymbol,h=typeof h===m?h.apply(b):h),k+=n(h)+'</div>\n    <input\n        type="text"\n        name="group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b.numTicket,h=typeof h===m?h.apply(b):h),k+=n(h)+'-cost"\n        id="id_group-tickets-',(h=c.numTicket)?h=h.call(b,{hash:{},data:e}):(h=b.numTicket,h=typeof h===m?h.apply(b):h),k+=n(h)+'-cost"\n        class="js-price-input form__input--xxsmall"\n        placeholder="',(h=c.ticketCostPlaceholder)?h=h.call(b,{hash:{},data:e}):(h=b.ticketCostPlaceholder,h=typeof h===m?h.apply(b):h),k+=n(h)+"\"\n        title='",j={hash:{},data:e},k+=n((h=c._||b._,h?h.call(b,"Set your ticket price. (You’ll select payout options later on the Manage page)",j):o.call(b,"_","Set your ticket price. (You’ll select payout options later on the Manage page)",j)))+"'\n        maxlength='11'\n    />\n\n    <input type=\"hidden\" name=\"group-tickets-",(i=c.numTicket)?i=i.call(b,{hash:{},data:e}):(i=b.numTicket,i=typeof i===m?i.apply(b):i),k+=n(i)+'-fee" id="id_group-tickets-',(i=c.numTicket)?i=i.call(b,{hash:{},data:e}):(i=b.numTicket,i=typeof i===m?i.apply(b):i),k+=n(i)+'-fee" class="js-ticket-fee-hidden">\n\n</div>\n\n<div class="js-ticket-buyer-total text-body-small text-body--faint is-hidden">\n    ',j={hash:{},data:e},k+=n((h=c._||b._,h?h.call(b,"Buyer total:",j):o.call(b,"_","Buyer total:",j)))+'\n    <a href="#" class="js-ticket-buyer-total-number"></a>\n\n    <a class="js-ticket-fee-summary-link tooltip--important is-hidden" href="#">\n        <i class="ico-information ico--color-understated ico--small"></i>\n    </a>\n</div>\n\n<span class="form__field-error is-hidden js-error-for-ticketPrice"></span>\n\n<input type="hidden" name="group-tickets-',(i=c.numTicket)?i=i.call(b,{hash:{},data:e}):(i=b.numTicket,i=typeof i===m?i.apply(b):i),k+=n(i)+'-is_donation" value="False" id="id_group-tickets-',(i=c.numTicket)?i=i.call(b,{hash:{},data:e}):(i=b.numTicket,i=typeof i===m?i.apply(b):i),k+=n(i)+'-is_donation" />\n'}),this.Handlebars.templates.ticket_cost_free=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h,i="",j=c.helperMissing,k=this.escapeExpression,l="function";return i+='<div class="l-block-2">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Free",h):j.call(b,"_","Free",h)))+'</div>\n\n<input type="hidden" id="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===l?g.apply(b):g),i+=k(g)+'-fee" name="group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===l?g.apply(b):g),i+=k(g)+'-fee" value="0" />\n<input type="hidden" id="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===l?g.apply(b):g),i+=k(g)+'-cost" name="group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===l?g.apply(b):g),i+=k(g)+'-cost" value="0.00" />\n\n<input type="hidden" name="group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===l?g.apply(b):g),i+=k(g)+'-is_donation" value="False" id="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===l?g.apply(b):g),i+=k(g)+'-is_donation" />\n\n'}),this.Handlebars.templates.ticket_cost_donation=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h,i="",j=c.helperMissing,k=this.escapeExpression,l="function";return i+='<div class="l-block-2">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Donation",h):j.call(b,"_","Donation",h)))+'</div>\n\n<input type="hidden" id="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===l?g.apply(b):g),i+=k(g)+'-fee" name="group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===l?g.apply(b):g),i+=k(g)+'-fee" value="0" />\n<input type="hidden" name="group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===l?g.apply(b):g),i+=k(g)+'-is_donation" value="True" id="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===l?g.apply(b):g),i+=k(g)+'-is_donation" />\n<input type="hidden" id="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===l?g.apply(b):g),i+=k(g)+'-cost" name="group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===l?g.apply(b):g),i+=k(g)+'-cost" value="0.00" />\n'}),this.Handlebars.templates.ticket_cost_summary=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,g="";return g+="\n        <tr>\n        	<td>",f={hash:{},data:b},g+=l((d=c._||a._,d?d.call(a,"Tax",f):k.call(a,"_","Tax",f)))+"</td>\n        	<td>",(e=c.tax)?e=e.call(a,{hash:{},data:b}):(e=a.tax,e=typeof e===m?e.apply(a):e),g+=l(e)+"</td>\n        </tr>\n        "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h,i,j="",k=c.helperMissing,l=this.escapeExpression,m="function",n=this;return j+='<table class="report report--item-value report--section-grid">\n    <tbody>\n        <tr>\n        	<td>',i={hash:{},data:e},j+=l((g=c._||b._,g?g.call(b,"Ticket Price",i):k.call(b,"_","Ticket Price",i)))+"</td>\n        	<td>",(h=c.ticketPrice)?h=h.call(b,{hash:{},data:e}):(h=b.ticketPrice,h=typeof h===m?h.apply(b):h),j+=l(h)+"</td>\n        </tr>\n        ",h=c["if"].call(b,b.hasTaxes,{hash:{},inverse:n.noop,fn:n.program(1,f,e),data:e}),(h||0===h)&&(j+=h),j+="\n        <tr>\n        	<td>",i={hash:{},data:e},j+=l((g=c._||b._,g?g.call(b,"Fee",i):k.call(b,"_","Fee",i)))+"</td>\n        	<td>",(h=c.fee)?h=h.call(b,{hash:{},data:e}):(h=b.fee,h=typeof h===m?h.apply(b):h),j+=l(h)+'</td>\n        </tr>\n    </tbody>\n    <tfoot>\n        <tr class="report__row--emphasized">\n        	<td>',i={hash:{},data:e},j+=l((g=c._||b._,g?g.call(b,"Buyer Total",i):k.call(b,"_","Buyer Total",i)))+"</td>\n        	<td>",(h=c.buyerTotal)?h=h.call(b,{hash:{},data:e}):(h=b.buyerTotal,h=typeof h===m?h.apply(b):h),j+=l(h)+"</td>\n        </tr>\n    </tfoot>\n</table>\n"}),this.Handlebars.templates.ticket_start_end_sales=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\n                <div class="g-cell g-cell-1-1">',e={hash:{},data:b},f+=n((d=c._||a._,d?d.call(a,"Time before the event starts:",e):m.call(a,"_","Time before the event starts:",e)))+"</div>\n                "}function g(a,b){var d,e,f,g="";return g+='\n                    <div class="g-cell g-cell-5-12 g-cell-lg-3-12">\n                        <input type="text" name="group-tickets-',(d=c.numTicket)?d=d.call(a,{hash:{},data:b}):(d=a.numTicket,d=typeof d===o?d.apply(a):d),g+=n(d)+'-end_sales_relative_time" id="id_group-tickets-',(d=c.numTicket)?d=d.call(a,{hash:{},data:b}):(d=a.numTicket,d=typeof d===o?d.apply(a):d),g+=n(d)+'-end_sales_relative_time" class="js-end-sales-relative-time" />\n                        <div class="form__field-error is-hidden js-error-for-endSalesRelativeTime"></div>\n                    </div>\n                    <div class="g-cell g-cell-7-12 g-cell-lg-3-12">\n                        <select class="js-end-sales-relative-type" id="id_group-tickets-',(d=c.numTicket)?d=d.call(a,{hash:{},data:b}):(d=a.numTicket,d=typeof d===o?d.apply(a):d),g+=n(d)+'-end_sales_relative_type" name="group-tickets-',(d=c.numTicket)?d=d.call(a,{hash:{},data:b}):(d=a.numTicket,d=typeof d===o?d.apply(a):d),g+=n(d)+'-end_sales_relative_type">\n                            <option value="hours">',f={hash:{},data:b},g+=n((d=c._||a._,d?d.call(a,"hour(s)",f):m.call(a,"_","hour(s)",f)))+'</option>\n                            <option value="days">',f={hash:{},data:b},g+=n((d=c._||a._,d?d.call(a,"day(s)",f):m.call(a,"_","day(s)",f)))+'</option>\n                            <option value="minutes">',f={hash:{},data:b},g+=n((d=c._||a._,d?d.call(a,"minute(s)",f):m.call(a,"_","minute(s)",f)))+'</option>\n                        </select>\n                    </div>\n                    <div class="g-cell g-cell-5-12 g-cell-lg-3-12 l-align-center">\n                        <div class="l-block-1 text-body-large">\n                            \n                            ',f={hash:{},data:b},g+=n((d=c._||a._,d?d.call(a,"before event",f):m.call(a,"_","before event",f)))+'\n                        </div>\n                    </div>\n                    <div class="g-cell g-cell-7-12 g-cell-lg-3-12">\n                        <select name="group-tickets-',(e=c.numTicket)?e=e.call(a,{hash:{},data:b}):(e=a.numTicket,e=typeof e===o?e.apply(a):e),g+=n(e)+'-end_sales_relative_to" id="id_group-tickets-',(e=c.numTicket)?e=e.call(a,{hash:{},data:b}):(e=a.numTicket,e=typeof e===o?e.apply(a):e),g+=n(e)+'-end_sales_relative_to" class="js-end-sales-relative-to">\n                            \n                            <option value="start_time">',f={hash:{},data:b},g+=n((d=c._||a._,d?d.call(a,"starts",f):m.call(a,"_","starts",f)))+'</option>\n                            \n                            <option value="end_time">',f={hash:{},data:b},g+=n((d=c._||a._,d?d.call(a,"ends",f):m.call(a,"_","ends",f)))+"</option>\n                        </select>\n                    </div>\n                    "}function h(a,b){var d,e,f,g="";return g+='\n                    <div class="g-cell g-cell-1-3">\n                        <input type="text" name="group-tickets-',(d=c.numTicket)?d=d.call(a,{hash:{},data:b}):(d=a.numTicket,d=typeof d===o?d.apply(a):d),g+=n(d)+'-end_sales_relative_days" id="id_group-tickets-',(d=c.numTicket)?d=d.call(a,{hash:{},data:b}):(d=a.numTicket,d=typeof d===o?d.apply(a):d),g+=n(d)+'-end_sales_relative_days" class="js-end-sales-relative-days"/>\n                        <label for="id_group-tickets-',(d=c.numTicket)?d=d.call(a,{hash:{},data:b}):(d=a.numTicket,d=typeof d===o?d.apply(a):d),g+=n(d)+'-end_sales_relative_days">',f={hash:{},data:b},g+=n((d=c._||a._,d?d.call(a,"days",f):m.call(a,"_","days",f)))+'</label>\n                    </div>\n                    <div class="g-cell g-cell-1-3">\n                        <input type="text" name="group-tickets-',(e=c.numTicket)?e=e.call(a,{hash:{},data:b}):(e=a.numTicket,e=typeof e===o?e.apply(a):e),g+=n(e)+'-end_sales_relative_hours" id="id_group-tickets-',(e=c.numTicket)?e=e.call(a,{hash:{},data:b}):(e=a.numTicket,e=typeof e===o?e.apply(a):e),g+=n(e)+'-end_sales_relative_hours" class="js-end-sales-relative-hours"/>\n                        <label for="id_group-tickets-',(e=c.numTicket)?e=e.call(a,{hash:{},data:b}):(e=a.numTicket,e=typeof e===o?e.apply(a):e),g+=n(e)+'-end_sales_relative_hours">',f={hash:{},data:b},g+=n((d=c._||a._,d?d.call(a,"hours",f):m.call(a,"_","hours",f)))+'</label>\n                    </div>\n                    <div class="g-cell g-cell-1-3">\n                        <input type="text" name="group-tickets-',(e=c.numTicket)?e=e.call(a,{hash:{},data:b}):(e=a.numTicket,e=typeof e===o?e.apply(a):e),g+=n(e)+'-end_sales_relative_minutes" id="id_group-tickets-',(e=c.numTicket)?e=e.call(a,{hash:{},data:b}):(e=a.numTicket,e=typeof e===o?e.apply(a):e),g+=n(e)+'-end_sales_relative_minutes" class="js-end-sales-relative-minutes"/>\n                        <label for="id_group-tickets-',(e=c.numTicket)?e=e.call(a,{hash:{},data:b}):(e=a.numTicket,e=typeof e===o?e.apply(a):e),g+=n(e)+'-end_sales_relative_minutes">',f={hash:{},data:b},g+=n((d=c._||a._,d?d.call(a,"minutes",f):m.call(a,"_","minutes",f)))+"</label>\n                    </div>\n                    "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var i,j,k,l="",m=c.helperMissing,n=this.escapeExpression,o="function",p=this;return l+='<div class="g-vertical-group g-cell-1-1 g-cell-md-2-3 g-cell-lg-3-4">\n    <div class="js-ticket-sales-start-group g-cell g-cell-1-1 l-block-3">\n        <h4 class="responsive-form__fieldset-legend" for="id_group-tickets-',(i=c.numTicket)?i=i.call(b,{hash:{},data:e}):(i=b.numTicket,i=typeof i===o?i.apply(b):i),l+=n(i)+'-start_sales">\n            ',k={hash:{},data:e},l+=n((i=c._||b._,i?i.call(b,"Ticket sales start",k):m.call(b,"_","Ticket sales start",k)))+'\n        </h4>\n\n        <div class="js-ticket-sales-start">\n            <div class="js-visibility-container">\n                <input name="group-tickets-',(j=c.numTicket)?j=j.call(b,{hash:{},data:e}):(j=b.numTicket,j=typeof j===o?j.apply(b):j),l+=n(j)+'-start_sales" id="id_group-tickets-',(j=c.numTicket)?j=j.call(b,{hash:{},data:e}):(j=b.numTicket,j=typeof j===o?j.apply(b):j),l+=n(j)+'-start_sales" type="hidden" class="js-sales-start-time-picker" value="',(j=c.startSalesAfterTicket)?j=j.call(b,{hash:{},data:e}):(j=b.startSalesAfterTicket,j=typeof j===o?j.apply(b):j),l+=n(j)+'"/>\n\n                <a href="#" class="js-visibility-trigger js-ticket-sales-end-link is-hidden">\n                    ',k={hash:{},data:e},l+=n((i=c._||b._,i?i.call(b,"or when ticket sales end",k):m.call(b,"_","or when ticket sales end",k)))+'\n                </a>\n            </div>\n            <div class="js-visibility-container js-ticket-sales-end-select is-hidden">\n                ',k={hash:{},data:e},l+=n((i=c._||b._,i?i.call(b,"When sales end for",k):m.call(b,"_","When sales end for",k)))+'\n                <input type="hidden"\n                     id="id_group-tickets-',(j=c.numTicket)?j=j.call(b,{hash:{},data:e}):(j=b.numTicket,j=typeof j===o?j.apply(b):j),l+=n(j)+'-start_sales_after"\n                     name="group-tickets-',(j=c.numTicket)?j=j.call(b,{hash:{},data:e}):(j=b.numTicket,j=typeof j===o?j.apply(b):j),l+=n(j)+'-start_sales_after"\n                     class="js-start-sales-after-hidden" />\n\n                <select\n                     id="id_group-tickets-',(j=c.numTicket)?j=j.call(b,{hash:{},data:e}):(j=b.numTicket,j=typeof j===o?j.apply(b):j),l+=n(j)+'-start_sales_after_ticket"\n                     name="group-tickets-',(j=c.numTicket)?j=j.call(b,{hash:{},data:e}):(j=b.numTicket,j=typeof j===o?j.apply(b):j),l+=n(j)+'-start_sales_after_ticket"\n                     class="js-sales-ticket-choices">\n                </select>\n                <a id="id_group-tickets-',(j=c.numTicket)?j=j.call(b,{hash:{},data:e}):(j=b.numTicket,j=typeof j===o?j.apply(b):j),l+=n(j)+'-sales_after_ticket_off" class="js-visibility-trigger js-ticket-sales-start-by-date" href="#">\n                     ',k={hash:{},data:e},l+=n((i=c._||b._,i?i.call(b,"or by date",k):m.call(b,"_","or by date",k)))+'\n                </a>\n            </div>\n        </div>\n    </div>\n\n    <div class="g-cell g-cell-1-1 g-cell--no-gutters l-block-3">\n        <h4 class="responsive-form__fieldset-legend g-cell g-cell-1-1" for="id_initial-group-tickets-',(j=c.numTicket)?j=j.call(b,{hash:{},data:e}):(j=b.numTicket,j=typeof j===o?j.apply(b):j),l+=n(j)+'-end_sales">\n            ',k={hash:{},data:e},l+=n((i=c._||b._,i?i.call(b,"Ticket sales end",k):m.call(b,"_","Ticket sales end",k)))+'\n        </h4>\n\n        <div class="">\n            <div id="id_group-tickets-',(j=c.numTicket)?j=j.call(b,{hash:{},data:e}):(j=b.numTicket,j=typeof j===o?j.apply(b):j),l+=n(j)+'-end_sales_explicit" class="js-end-sales-explicit g-cell g-cell-1-1">\n\n                <input type="hidden" name="initial-group-tickets-',(j=c.numTicket)?j=j.call(b,{hash:{},data:e}):(j=b.numTicket,j=typeof j===o?j.apply(b):j),l+=n(j)+'-end_sales" value="',(j=c.initialEndDate)?j=j.call(b,{hash:{},data:e}):(j=b.initialEndDate,j=typeof j===o?j.apply(b):j),l+=n(j)+'" id="id_initial-group-tickets-',(j=c.numTicket)?j=j.call(b,{hash:{},data:e}):(j=b.numTicket,j=typeof j===o?j.apply(b):j),l+=n(j)+'-end_sales">\n\n                <input name="group-tickets-',(j=c.numTicket)?j=j.call(b,{hash:{},data:e}):(j=b.numTicket,j=typeof j===o?j.apply(b):j),l+=n(j)+'-end_sales" id="id_group-tickets-',(j=c.numTicket)?j=j.call(b,{hash:{},data:e}):(j=b.numTicket,j=typeof j===o?j.apply(b):j),l+=n(j)+'-end_sales" type="hidden" class="js-sales-end-time-picker" />\n            </div>\n            <div id="id_group-tickets-',(j=c.numTicket)?j=j.call(b,{hash:{},data:e}):(j=b.numTicket,j=typeof j===o?j.apply(b):j),l+=n(j)+'-end_sales_relative" class="js-end-sales-relative end-sales-relative-container is-hidden">\n                ',j=c.unless.call(b,b.newEndSalesFeatureFlag,{hash:{},inverse:p.noop,fn:p.program(1,f,e),data:e}),(j||0===j)&&(l+=j),l+='\n                <div class="end-sales-relative-input-container g-group">\n                    ',j=c["if"].call(b,b.newEndSalesFeatureFlag,{hash:{},inverse:p.program(5,h,e),fn:p.program(3,g,e),data:e}),(j||0===j)&&(l+=j),l+='\n                </div>\n            </div>\n            <div class="js-error-for-salesEndDate form__field-error"></div>\n        </div>\n    </div>\n</div>\n<div class="g-cell g-cell-1-3 g-cell-lg-1-4 hide-small l-block-4 form__group--help-text js-help-text">\n    <div class="form__group--help-text-container">\n        ',k={hash:{},data:e},l+=n((i=c._||b._,i?i.call(b,"Optional: Start and end your ticket sales at a certain time or when another ticket type sells out",k):m.call(b,"_","Optional: Start and end your ticket sales at a certain time or when another ticket type sells out",k)))+"\n    </div>\n</div>\n"}),this.Handlebars.templates.ticket_sales_select_option=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e="";
return e+="\n	( ",(d=c.cost)?d=d.call(a,{hash:{},data:b}):(d=a.cost,d=typeof d===i?d.apply(a):d),e+=j(d)+" )\n"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h="",i="function",j=this.escapeExpression,k=this;return h+="<option value=",(g=c.cid)?g=g.call(b,{hash:{},data:e}):(g=b.cid,g=typeof g===i?g.apply(b):g),h+=j(g)+">\n",(g=c.name)?g=g.call(b,{hash:{},data:e}):(g=b.name,g=typeof g===i?g.apply(b):g),h+=j(g)+"\n\n",g=c["if"].call(b,b.cost,{hash:{},inverse:k.noop,fn:k.program(1,f,e),data:e}),(g||0===g)&&(h+=g),h+="\n</option>\n"}),this.Handlebars.templates.ticket_visibility=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h,i="",j=c.helperMissing,k=this.escapeExpression,l="function";return i+='<h4 class="responsive-form__fieldset-legend g-cell g-cell-1-1">\n    ',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Ticket visibility",h):j.call(b,"_","Ticket visibility",h)))+'\n</h4>\n\n<section class="l-block-1 g-cell g-cell-1-1 g-cell-md-2-3 g-cell-lg-3-4">\n    <input data-check="{}" name="group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===l?g.apply(b):g),i+=k(g)+'-hidden" id="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===l?g.apply(b):g),i+=k(g)+'-hidden" type="checkbox" class="js-ticket-hidden"/>\n    <label for="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===l?g.apply(b):g),i+=k(g)+'-hidden">\n        ',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Hide this ticket type",h):j.call(b,"_","Hide this ticket type",h)))+'\n    </label>\n\n    <section class="js-auto-hide">\n        <div class="js-add-auto-hide-schedule">\n            <a href="javascript:void(0)" class="js-auto-hide-schedule-label"></a>\n        </div>\n        <input type="checkbox" name="group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===l?g.apply(b):g),i+=k(g)+'-auto_hide" id="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===l?g.apply(b):g),i+=k(g)+'-auto_hide" class="js-auto-hide-schedule is-hidden" />\n\n        <div id="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===l?g.apply(b):g),i+=k(g)+'-auto_hide_settings" class="js-auto-hide-settings is-hidden">\n            <ul>\n                <li>\n                    <input type="radio" name="group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===l?g.apply(b):g),i+=k(g)+'-auto_hide_type" id="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===l?g.apply(b):g),i+=k(g)+'-auto_hide_type_0" checked="checked" value="0" class="js-auto-hide-on-sale" />\n                    <label for="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===l?g.apply(b):g),i+=k(g)+'-auto_hide_type_0">\n                        ',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"When ticket is not on sale",h):j.call(b,"_","When ticket is not on sale",h)))+'\n                    </label>\n                </li>\n                <li>\n                    <input type="radio" name="group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===l?g.apply(b):g),i+=k(g)+'-auto_hide_type" id="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===l?g.apply(b):g),i+=k(g)+'-auto_hide_type_1" class="js-auto-hide-custom" value="1" />\n                    <label for="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===l?g.apply(b):g),i+=k(g)+'-auto_hide_type_1">\n                        ',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"For custom date and time",h):j.call(b,"_","For custom date and time",h)))+'\n                    </label>\n                </li>\n            </ul>\n\n            <div id="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===l?g.apply(b):g),i+=k(g)+'-auto_hide_custom" class="js-auto-hide-custom-settings is-hidden nested-list-content">\n                <section>\n                    <input type="checkbox" name="group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===l?g.apply(b):g),i+=k(g)+'-auto_hide_until" id="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===l?g.apply(b):g),i+=k(g)+'-auto_hide_until" class="js-auto-hide-until"/>\n                    <label for="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===l?g.apply(b):g),i+=k(g)+'-auto_hide_until">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Hide until",h):j.call(b,"_","Hide until",h)))+'</label>\n                    <div class="nested-list-content">\n                        <input name="group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===l?g.apply(b):g),i+=k(g)+'-hide_until" id="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===l?g.apply(b):g),i+=k(g)+'-hide_until" type="hidden" class="js-hide-until" />\n                    </div>\n                </section>\n                <section class="l-block-1">\n                    <input type="checkbox" name="group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===l?g.apply(b):g),i+=k(g)+'-auto_hide_after" id="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===l?g.apply(b):g),i+=k(g)+'-auto_hide_after" class="js-auto-hide-after"/>\n                    <label for="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===l?g.apply(b):g),i+=k(g)+'-auto_hide_after">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Hide after",h):j.call(b,"_","Hide after",h)))+'</label>\n\n                    <div class="nested-list-content">\n                        <input name="group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===l?g.apply(b):g),i+=k(g)+'-hide_after" id="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===l?g.apply(b):g),i+=k(g)+'-hide_after" type="hidden" class="js-hide-after" />\n                    </div>\n                </section>\n            </div>\n        </div>\n    </section>\n</section>\n\n<div class="form__group--help-text js-help-text g-cell g-cell-1-3 g-cell-lg-1-4 hide-small">\n    <div class="form__group--help-text-container">\n        ',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Optional: Hide this ticket type based on availability or for a certain period of time",h):j.call(b,"_","Optional: Hide this ticket type based on availability or for a certain period of time",h)))+"\n    </div>\n</div>\n"}),this.Handlebars.templates.ticket_fees=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h,i="",j="function",k=this.escapeExpression,l=c.helperMissing;return i+='<label for="id_group-tickets-',(f=c.numTicket)?f=f.call(b,{hash:{},data:e}):(f=b.numTicket,f=typeof f===j?f.apply(b):f),i+=k(f)+'-include_ticket_fees" class="responsive-form__label--primary g-cell g-cell-1-1">\n    ',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Fees",h):l.call(b,"_","Fees",h)))+'\n</label>\n\n<div class="g-cell g-cell-1-1 g-cell-md-2-3 g-cell-lg-3-4">\n    <section class="js-ticket-fee-options">\n        <select name="group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===j?g.apply(b):g),i+=k(g)+'-include_ticket_fees" id="id_group-tickets-',(g=c.numTicket)?g=g.call(b,{hash:{},data:e}):(g=b.numTicket,g=typeof g===j?g.apply(b):g),i+=k(g)+'-include_ticket_fees" class="js-ticket-absorb-fees form__input form__input--long">\n            <option value="0" selected="selected">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Pass fees on",h):l.call(b,"_","Pass fees on",h)))+'</option>\n            <option value="1">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Absorb fees",h):l.call(b,"_","Absorb fees",h)))+'</option>\n            <option value="2">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Split fees",h):l.call(b,"_","Split fees",h)))+'</option>\n        </select>\n    </section>\n\n    <div class="ticket-settings--fee-detail pod--primary l-padded-v-1 l-block-1 text-body-medium js-ticket-fees">\n        <div class="fee-breakdown js-ticket-show-online-fee-breakdown">\n            <span class="l-padded-h-1 text-body-medium text-body--significant ">\n                ',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Online:",h):l.call(b,"_","Online:",h)))+"\n            </span>\n            <span>\n                ",h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Fee:",h):l.call(b,"_","Fee:",h)))+' <span class="js-ticket-online-fee-amount"></span>\n            </span>\n            <span>\n                ',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Buyer total:",h):l.call(b,"_","Buyer total:",h)))+' <span class="js-ticket-online-total"></span>\n            </span>\n        </div>\n        <div class="fee-breakdown js-ticket-show-atd-fee-breakdown">\n            <span class="l-padded-h-1 text-body-medium text-body--significant ">\n                ',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"At The Door:",h):l.call(b,"_","At The Door:",h)))+"\n            </span>\n            <span>\n                ",h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Fee:",h):l.call(b,"_","Fee:",h)))+' <span class="js-ticket-atd-fee-amount"></span>\n            </span>\n            <span>\n                ',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Buyer total:",h):l.call(b,"_","Buyer total:",h)))+' <span class="js-ticket-atd-total"></span>\n            </span>\n        </div>\n    </div>\n</div>\n\n<div class="g-cell g-cell-1-3 g-cell-lg-1-4 hide-small js-help-text form__group--help-text">\n    <div class="form__group--help-text-container">\n        <span class="js-fee-help-pass">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"You'll receive the price of the ticket, and the buyer will pay the Eventbrite Service Fee",h):l.call(b,"_","You'll receive the price of the ticket, and the buyer will pay the Eventbrite Service Fee",h)))+'</span>\n        <span class="js-fee-help-absorb is-hidden">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"You'll receive the price of the ticket minus the Eventbrite Service Fee",h):l.call(b,"_","You'll receive the price of the ticket minus the Eventbrite Service Fee",h)))+'</span>\n        <span class="js-fee-help-pass-ccp is-hidden">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"You'll receive the price of the ticket and the buyer will pay the Payment Processing Fee and Eventbrite Service Fee",h):l.call(b,"_","You'll receive the price of the ticket and the buyer will pay the Payment Processing Fee and Eventbrite Service Fee",h)))+'</span>\n        <span class="js-fee-help-absorb-ccp is-hidden">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"You'll receive the price of the ticket minus the Payment Processing Fee and Eventbrite Service Fee",h):l.call(b,"_","You'll receive the price of the ticket minus the Payment Processing Fee and Eventbrite Service Fee",h)))+'</span>\n        <span class="js-fee-help-split-ccp is-hidden">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"You'll receive the price of the ticket minus the Payment Processing Fee, and the buyer will pay the Eventbrite Service Fee",h):l.call(b,"_","You'll receive the price of the ticket minus the Payment Processing Fee, and the buyer will pay the Eventbrite Service Fee",h)))+"</span>\n    </div>\n</div>\n"}),this.Handlebars.templates.series_placeholder=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\n<span id="cancel_repeating_event_container" class="l-padded-h-1 text-body-small"><a href="#" class="js-series-delete">',e={hash:{},data:b},f+=l((d=c._||a._,d?d.call(a,"Cancel repeating event schedule",e):k.call(a,"_","Cancel repeating event schedule",e)))+"</a></span>\n"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h,i,j="",k=c.helperMissing,l=this.escapeExpression,m=this;return j+='<span><a class="btn btn--small btn--secondary js-series-create" href="#">',i={hash:{},data:e},j+=l((g=c._||b._,g?g.call(b,"Add Dates",i):k.call(b,"_","Add Dates",i)))+"</a></span>\n",h=c["if"].call(b,b.delete_enabled,{hash:{},inverse:m.noop,fn:m.program(1,f,e),data:e}),(h||0===h)&&(j+=h),j+='\n\n<span class="text-body-small" >\n    <a id="event_timezone_series" href="javascript:void(0)">\n        ',i={hash:{},data:e},j+=l((g=c._||b._,g?g.call(b,"Timezone & date settings",i):k.call(b,"_","Timezone & date settings",i)))+'\n        (<span id="timezone_short_series"></span>)\n    </a>\n</span>\n'}),this.Handlebars.templates.series_new=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),d=this.merge(d,a.partials),e=e||{};var f,g,h,i="",j=c.helperMissing,k=this.escapeExpression,l=this,m="function";return i+='<div class="g-cell g-cell-1-1 l-padded-v-2">\n    <h4 class="text-body-large">\n        ',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Schedule dates",h):j.call(b,"_","Schedule dates",h)))+'\n        <a href="#event_repeating_learn_whats_new" class="l-align-right text-link-aside js-d-modal" style="float: right;">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Learn what's new!",h):j.call(b,"_","Learn what's new!",h)))+'</a>\n    </h4>\n</div>\n<hr />\n<form class="form form--labels-medium">\n    <div class="l-block-3 g-cell g-cell-1-1">\n        <label class="responsive-form__label--primary" for="new-series-period">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Event repeats",h):j.call(b,"_","Event repeats",h)))+'</label>\n    </div>\n    <div class="l-block-1 g-cell g-cell-1-1 g-cell-md-1-2">\n        <select class="js-series-period" id="new-series-period">\n            <option value="days">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Daily",h):j.call(b,"_","Daily",h)))+'</option>\n            <option value="weeks">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Weekly",h):j.call(b,"_","Weekly",h)))+'</option>\n            <option value="months">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Monthly",h):j.call(b,"_","Monthly",h)))+'</option>\n            <option value="custom">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Custom",h):j.call(b,"_","Custom",h)))+'</option>\n        </select>\n    </div>\n    <div class="l-block-3 series-schedule-weekly is-hidden">\n        <div class="g-cell g-cell-1-1">\n            <label class="responsive-form__label--primary" for="new-series-weekly-weekdays">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Repeating every",h):j.call(b,"_","Repeating every",h)))+'</label>\n        </div>\n        <div class="g-cell g-cell-1-1">\n            <select multiple="multiple" class="js-series-weekly-weekdays" id="new-series-weekly-weekdays">\n                <option value="0">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Sunday",h):j.call(b,"_","Sunday",h)))+'</option>\n                <option value="1">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Monday",h):j.call(b,"_","Monday",h)))+'</option>\n                <option value="2">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Tuesday",h):j.call(b,"_","Tuesday",h)))+'</option>\n                <option value="3">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Wednesday",h):j.call(b,"_","Wednesday",h)))+'</option>\n                <option value="4">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Thursday",h):j.call(b,"_","Thursday",h)))+'</option>\n                <option value="5">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Friday",h):j.call(b,"_","Friday",h)))+'</option>\n                <option value="6">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Saturday",h):j.call(b,"_","Saturday",h)))+'</option>\n            </select>\n        </div>\n    </div>\n    <div class="l-block-3 series-schedule-monthly-weekday is-hidden g-groupg">\n        <div class="responsive-form__fieldset-legend g-cell g-cell-1-1">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Repeating every",h):j.call(b,"_","Repeating every",h)))+'</div>\n        <div class="g-cell g-cell-1-1 g-cell-md-1-2">\n            <label class="responsive-form__label--primary is-hidden-accessible" for="new-series-monthly-offset">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Number of Week in Month",h):j.call(b,"_","Number of Week in Month",h)))+'</label>\n            <select class="js-series-monthly-offset" id="new-series-monthly-offset">\n                <option value="0">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"First",h):j.call(b,"_","First",h)))+'</option>\n                <option value="1">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Second",h):j.call(b,"_","Second",h)))+'</option>\n                <option value="2">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Third",h):j.call(b,"_","Third",h)))+'</option>\n                <option value="3">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Fourth",h):j.call(b,"_","Fourth",h)))+'</option>\n            </select>\n        </div>\n\n        <div class="g-cell g-cell-1-1 g-cell-md-1-2">\n            <label class="responsive-form__label--primary g-cell-1-1 is-hidden-accessible" for="new-series-monthly-weekdays">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Day of Week",h):j.call(b,"_","Day of Week",h)))+'</label>\n            <select multiple="multiple" class="js-series-monthly-weekdays" id="new-series-monthly-weekdays">\n                <option value="0">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Sunday",h):j.call(b,"_","Sunday",h)))+'</option>\n                <option value="1">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Monday",h):j.call(b,"_","Monday",h)))+'</option>\n                <option value="2">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Tuesday",h):j.call(b,"_","Tuesday",h)))+'</option>\n                <option value="3">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Wednesday",h):j.call(b,"_","Wednesday",h)))+'</option>\n                <option value="4">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Thursday",h):j.call(b,"_","Thursday",h)))+'</option>\n                <option value="5">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Friday",h):j.call(b,"_","Friday",h)))+'</option>\n                <option value="6">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Saturday",h):j.call(b,"_","Saturday",h)))+'</option>\n            </select>\n        </div>\n        <div class="g-cell g-cell-1-1"><a href="#" class="js-series-show-monthday">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Select by day of the month",h):j.call(b,"_","Select by day of the month",h)))+'</a></div>\n    </div>\n    <div class="l-block-3 series-schedule-monthly-day is-hidden">\n        <div class="responsive-form__fieldset-legend g-cell g-cell-1-1">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Repeating every",h):j.call(b,"_","Repeating every",h)))+'</div>\n        <label class="responsive-form__label--primary g-cell-1-1 is-hidden-accessible" for="nnew-series-monthly-day">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Number of Day in Month",h):j.call(b,"_","Number of Day in Month",h)))+'</label>\n        <div class="g-cell g-cell-1-2">\n            <select class="js-series-monthly-day" id="new-series-monthly-day">\n                <option value="1">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"1st",h):j.call(b,"_","1st",h)))+'</option>\n                <option value="2">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"2nd",h):j.call(b,"_","2nd",h)))+'</option>\n                <option value="3">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"3rd",h):j.call(b,"_","3rd",h)))+'</option>\n                <option value="4">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"4th",h):j.call(b,"_","4th",h)))+'</option>\n                <option value="5">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"5th",h):j.call(b,"_","5th",h)))+'</option>\n                <option value="6">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"6th",h):j.call(b,"_","6th",h)))+'</option>\n                <option value="7">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"7th",h):j.call(b,"_","7th",h)))+'</option>\n                <option value="8">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"8th",h):j.call(b,"_","8th",h)))+'</option>\n                <option value="9">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"9th",h):j.call(b,"_","9th",h)))+'</option>\n                <option value="10">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"10th",h):j.call(b,"_","10th",h)))+'</option>\n                <option value="11">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"11th",h):j.call(b,"_","11th",h)))+'</option>\n                <option value="12">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"12th",h):j.call(b,"_","12th",h)))+'</option>\n                <option value="13">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"13th",h):j.call(b,"_","13th",h)))+'</option>\n                <option value="14">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"14th",h):j.call(b,"_","14th",h)))+'</option>\n                <option value="15">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"15th",h):j.call(b,"_","15th",h)))+'</option>\n                <option value="16">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"16th",h):j.call(b,"_","16th",h)))+'</option>\n                <option value="17">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"17th",h):j.call(b,"_","17th",h)))+'</option>\n                <option value="18">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"18th",h):j.call(b,"_","18th",h)))+'</option>\n                <option value="19">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"19th",h):j.call(b,"_","19th",h)))+'</option>\n                <option value="20">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"20th",h):j.call(b,"_","20th",h)))+'</option>\n                <option value="21">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"21st",h):j.call(b,"_","21st",h)))+'</option>\n                <option value="22">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"22nd",h):j.call(b,"_","22nd",h)))+'</option>\n                <option value="23">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"23rd",h):j.call(b,"_","23rd",h)))+'</option>\n                <option value="24">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"24th",h):j.call(b,"_","24th",h)))+'</option>\n                <option value="25">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"25th",h):j.call(b,"_","25th",h)))+'</option>\n                <option value="26">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"26th",h):j.call(b,"_","26th",h)))+'</option>\n                <option value="27">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"27th",h):j.call(b,"_","27th",h)))+'</option>\n                <option value="28">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"28th",h):j.call(b,"_","28th",h)))+'</option>\n                <option value="29">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"29th",h):j.call(b,"_","29th",h)))+'</option>\n                <option value="30">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"30th",h):j.call(b,"_","30th",h)))+'</option>\n                <option value="31">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"31st",h):j.call(b,"_","31st",h)))+"</option>\n            </select> ",h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"day of the month",h):j.call(b,"_","day of the month",h)))+'.\n        </div>\n        <div class="g-cell g-cell-1-1">\n            <div id="series_show_monthweek_container"><a href="#" class="js-series-show-monthweek">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Select by day of the week",h):j.call(b,"_","Select by day of the week",h)))+"</a></div>\n        </div>\n    </div>\n    ",g=l.invokePartial(d.event_duration,"event_duration",b,c,d,e),(g||0===g)&&(i+=g),i+="\n    ",g=l.invokePartial(d.event_repeat_range,"event_repeat_range",b,c,d,e),(g||0===g)&&(i+=g),i+='\n    <div class="l-block-3 g-cell g-cell-1-1 series-schedule-custom is-hidden">\n        <div class="responsive-form__fieldset-legend">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"On",h):j.call(b,"_","On",h)))+'</div>\n        <div class="l-block-1">\n        <input type="text" value="',(g=c.custom_date)?g=g.call(b,{hash:{},data:e}):(g=b.custom_date,g=typeof g===m?g.apply(b):g),i+=k(g)+'" class="xform__input--xshort js-series-custom-date date">\n        </div>\n    </div>\n    <div class="l-block-3 g-cell g-cell-1-1">\n        <span class="series-schedule-summary"></span>\n    </div>\n    <div class="l-block-2 l-padded-v-1 g-cell g-cell-1-1 btn-group btn-group--responsive">\n        <a class="btn js-series-new-add" href="#">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Add",h):j.call(b,"_","Add",h)))+'</a>\n        <a class="btn btn--secondary js-series-new-close" href="#">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Cancel",h):j.call(b,"_","Cancel",h)))+"</a>\n    </div>\n</form>"}),this.Handlebars.templates.series_edit_daily=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),d=this.merge(d,a.partials),e=e||{};var f,g,h,i="",j=c.helperMissing,k=this.escapeExpression,l=this,m="function";return i+='<div class="g-cell g-cell-1-1 l-padded-v-2"><h4 class="text-body-large">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Edit daily repeating dates",h):j.call(b,"_","Edit daily repeating dates",h)))+'</h4></div>\n<hr />\n\n<form class="form form--labels-medium">\n    ',g=l.invokePartial(d.event_duration,"event_duration",b,c,d,e),(g||0===g)&&(i+=g),i+="\n    ",g=l.invokePartial(d.event_repeat_range,"event_repeat_range",b,c,d,e),(g||0===g)&&(i+=g),i+='\n    <div class="l-block-3 g-cell g-cell-1-1">\n        <span class="series-schedule-summary">',(g=c.summary)?g=g.call(b,{hash:{},data:e}):(g=b.summary,g=typeof g===m?g.apply(b):g),i+=k(g)+'</span>\n    </div>\n    <div class="l-block-2 l-padded-v-1 g-cell g-cell-1-1 btn-group btn-group--responsive">\n        <a class="btn js-series-edit" href="#">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Update",h):j.call(b,"_","Update",h)))+'</a>\n        <a class="btn btn--secondary js-series-new-close" href="#">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Cancel",h):j.call(b,"_","Cancel",h)))+"</a>\n    </div>\n</form>\n"}),this.Handlebars.templates.series_edit_weekly=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),d=this.merge(d,a.partials),e=e||{};var f,g,h,i="",j=c.helperMissing,k=this.escapeExpression,l=this,m="function";return i+='<div class="g-cell g-cell-1-1 l-padded-v-2"><h4 class="text-body-large">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Edit weekly repeating dates",h):j.call(b,"_","Edit weekly repeating dates",h)))+'</h4></div>\n<hr />\n\n<form class="form">\n    <div class="l-block-3 series-schedule-weekly g-group">\n        <div class="g-cell g-cell-1-1">\n            <label>',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Repeating every",h):j.call(b,"_","Repeating every",h)))+'</label>\n        </div>\n        <div class="g-cell g-cell-1-1 l-block-1">\n            <select class="js-series-weekly-weekday">\n                <option value="0">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Sunday",h):j.call(b,"_","Sunday",h)))+'</option>\n                <option value="1">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Monday",h):j.call(b,"_","Monday",h)))+'</option>\n                <option value="2">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Tuesday",h):j.call(b,"_","Tuesday",h)))+'</option>\n                <option value="3">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Wednesday",h):j.call(b,"_","Wednesday",h)))+'</option>\n                <option value="4">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Thursday",h):j.call(b,"_","Thursday",h)))+'</option>\n                <option value="5">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Friday",h):j.call(b,"_","Friday",h)))+'</option>\n                <option value="6">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Saturday",h):j.call(b,"_","Saturday",h)))+"</option>\n            </select>\n        </div>\n    </div>\n    ",g=l.invokePartial(d.event_duration,"event_duration",b,c,d,e),(g||0===g)&&(i+=g),i+="\n    ",g=l.invokePartial(d.event_repeat_range,"event_repeat_range",b,c,d,e),(g||0===g)&&(i+=g),i+='\n    <div class="l-block-3 g-cell g-cell-1-1">\n        <span class="series-schedule-summary">',(g=c.summary)?g=g.call(b,{hash:{},data:e}):(g=b.summary,g=typeof g===m?g.apply(b):g),i+=k(g)+'</span>\n    </div>\n    <div class="l-block-2 btn-group btn-group--responsive l-padded-v-1 g-cell g-cell-1-1">\n        <a class="btn js-series-edit" href="#">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Update",h):j.call(b,"_","Update",h)))+'</a>\n        <a class="btn btn--secondary js-series-new-close" href="#">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Cancel",h):j.call(b,"_","Cancel",h)))+"</a>\n    </div>\n</form>\n"}),this.Handlebars.templates.series_edit_monthly_day=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),d=this.merge(d,a.partials),e=e||{};var f,g,h,i="",j=c.helperMissing,k=this.escapeExpression,l=this,m="function";return i+='<div class="g-cell g-cell-1-1 l-padded-v-2">\n    <h4 class="text-body-large">\n        ',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Edit monthly repeating dates",h):j.call(b,"_","Edit monthly repeating dates",h)))+'\n    </h4>\n</div>\n<hr />\n\n<form class="form">\n    <div class="l-block-3 series-schedule-monthly-day">\n        <div class="g-cell g-cell-1-1">\n            <label class="form__label--column">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Repeating every",h):j.call(b,"_","Repeating every",h)))+'</label>\n        </div>\n        <div class="g-cell g-cell-1-1 g-cell-md-1-2 l-block-1">\n            <select class="js-series-monthly-day">\n                <option value="1">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"1st",h):j.call(b,"_","1st",h)))+'</option>\n                <option value="2">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"2nd",h):j.call(b,"_","2nd",h)))+'</option>\n                <option value="3">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"3rd",h):j.call(b,"_","3rd",h)))+'</option>\n                <option value="4">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"4th",h):j.call(b,"_","4th",h)))+'</option>\n                <option value="5">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"5th",h):j.call(b,"_","5th",h)))+'</option>\n                <option value="6">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"6th",h):j.call(b,"_","6th",h)))+'</option>\n                <option value="7">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"7th",h):j.call(b,"_","7th",h)))+'</option>\n                <option value="8">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"8th",h):j.call(b,"_","8th",h)))+'</option>\n                <option value="9">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"9th",h):j.call(b,"_","9th",h)))+'</option>\n                <option value="10">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"10th",h):j.call(b,"_","10th",h)))+'</option>\n                <option value="11">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"11th",h):j.call(b,"_","11th",h)))+'</option>\n                <option value="12">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"12th",h):j.call(b,"_","12th",h)))+'</option>\n                <option value="13">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"13th",h):j.call(b,"_","13th",h)))+'</option>\n                <option value="14">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"14th",h):j.call(b,"_","14th",h)))+'</option>\n                <option value="15">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"15th",h):j.call(b,"_","15th",h)))+'</option>\n                <option value="16">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"16th",h):j.call(b,"_","16th",h)))+'</option>\n                <option value="17">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"17th",h):j.call(b,"_","17th",h)))+'</option>\n                <option value="18">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"18th",h):j.call(b,"_","18th",h)))+'</option>\n                <option value="19">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"19th",h):j.call(b,"_","19th",h)))+'</option>\n                <option value="20">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"20th",h):j.call(b,"_","20th",h)))+'</option>\n                <option value="21">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"21th",h):j.call(b,"_","21th",h)))+'</option>\n                <option value="22">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"22th",h):j.call(b,"_","22th",h)))+'</option>\n                <option value="23">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"23th",h):j.call(b,"_","23th",h)))+'</option>\n                <option value="24">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"24th",h):j.call(b,"_","24th",h)))+'</option>\n                <option value="25">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"25th",h):j.call(b,"_","25th",h)))+'</option>\n                <option value="26">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"26th",h):j.call(b,"_","26th",h)))+'</option>\n                <option value="27">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"27th",h):j.call(b,"_","27th",h)))+'</option>\n                <option value="28">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"28th",h):j.call(b,"_","28th",h)))+'</option>\n                <option value="29">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"29th",h):j.call(b,"_","29th",h)))+'</option>\n                <option value="30">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"30th",h):j.call(b,"_","30th",h)))+'</option>\n                <option value="31">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"31th",h):j.call(b,"_","31th",h)))+"</option>\n            </select> ",h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"day of the month",h):j.call(b,"_","day of the month",h)))+".\n        </div>\n    </div>\n    ",g=l.invokePartial(d.event_duration,"event_duration",b,c,d,e),(g||0===g)&&(i+=g),i+="\n    ",g=l.invokePartial(d.event_repeat_range,"event_repeat_range",b,c,d,e),(g||0===g)&&(i+=g),i+='\n    <div class="l-block-3 g-cell g-cell-1-1">\n        <span class="series-schedule-summary">',(g=c.summary)?g=g.call(b,{hash:{},data:e}):(g=b.summary,g=typeof g===m?g.apply(b):g),i+=k(g)+'</span>\n    </div>\n    <div class="l-block-2 l-padded-v-1 g-cell g-cell-1-1 btn-group btn-group--responsive">\n        <a class="btn js-series-edit" href="#">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Update",h):j.call(b,"_","Update",h)))+'</a>\n        <a class="btn btn--secondary js-series-new-close" href="#">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Cancel",h):j.call(b,"_","Cancel",h)))+"</a>\n    </div>\n</form>\n"
}),this.Handlebars.templates.series_edit_monthly_weekday=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),d=this.merge(d,a.partials),e=e||{};var f,g,h,i="",j=c.helperMissing,k=this.escapeExpression,l=this,m="function";return i+='<div class="g-cell g-cell-1-1 l-padded-v-2">\n    <h4 class="text-body-large">\n        ',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Edit monthly repeating dates",h):j.call(b,"_","Edit monthly repeating dates",h)))+'\n    </h4>\n</div>\n<hr />\n\n<form class="form">\n    <div class="l-block-3 series-schedule-monthly-weekday g-group">\n        <div class="g-cell g-cell-1-1">\n            <label class="form__label--column">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Repeating every",h):j.call(b,"_","Repeating every",h)))+'</label>\n        </div>\n        <div class="g-cell g-cell-1-1 g-cell-md-1-2 l-block-1">\n            <select class="js-series-monthly-offset">\n                <option value="0">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"First",h):j.call(b,"_","First",h)))+'</option>\n                <option value="1">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Second",h):j.call(b,"_","Second",h)))+'</option>\n                <option value="2">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Third",h):j.call(b,"_","Third",h)))+'</option>\n                <option value="3">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Fourth",h):j.call(b,"_","Fourth",h)))+'</option>\n            </select>\n        </div>\n        <div class="g-cell g-cell-1-1 g-cell-md-1-2 l-block-1">\n            <select class="js-series-monthly-weekday">\n                <option value="0">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Sunday",h):j.call(b,"_","Sunday",h)))+'</option>\n                <option value="1">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Monday",h):j.call(b,"_","Monday",h)))+'</option>\n                <option value="2">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Tuesday",h):j.call(b,"_","Tuesday",h)))+'</option>\n                <option value="3">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Wednesday",h):j.call(b,"_","Wednesday",h)))+'</option>\n                <option value="4">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Thursday",h):j.call(b,"_","Thursday",h)))+'</option>\n                <option value="5">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Friday",h):j.call(b,"_","Friday",h)))+'</option>\n                <option value="6">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Saturday",h):j.call(b,"_","Saturday",h)))+"</option>\n            </select>\n        </div>\n    </div>\n    ",g=l.invokePartial(d.event_duration,"event_duration",b,c,d,e),(g||0===g)&&(i+=g),i+="\n    ",g=l.invokePartial(d.event_repeat_range,"event_repeat_range",b,c,d,e),(g||0===g)&&(i+=g),i+='\n    <div class="l-block-3 g-cell g-cell-1-1">\n        <span class="series-schedule-summary">',(g=c.summary)?g=g.call(b,{hash:{},data:e}):(g=b.summary,g=typeof g===m?g.apply(b):g),i+=k(g)+'</span>\n    </div>\n    <div class="l-block-2 l-padded-v-1 g-cell g-cell-1-1 btn-group btn-group--responsive">\n        <a class="btn js-series-edit" href="#">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Update",h):j.call(b,"_","Update",h)))+'</a>\n        <a class="btn btn--secondary js-series-new-close" href="#">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Cancel",h):j.call(b,"_","Cancel",h)))+"</a>\n    </div>\n</form>\n"}),this.Handlebars.templates.series_edit_single=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),d=this.merge(d,a.partials),e=e||{};var f,g,h,i="",j=c.helperMissing,k=this.escapeExpression,l=this,m="function";return i+='<div class="g-cell g-cell-1-1 l-padded-v-2"><h4 class="text-body-large">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Edit a single date",h):j.call(b,"_","Edit a single date",h)))+'</h4></div>\n<hr />\n<form class="form">\n    ',g=l.invokePartial(d.event_duration,"event_duration",b,c,d,e),(g||0===g)&&(i+=g),i+='\n    <div class="l-block-3 series-schedule-custom">\n        <div class="g-cell g-cell-1-1">\n            <label type="text" class="form__label--column">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"On",h):j.call(b,"_","On",h)))+'</label>\n        </div>\n        <div class="g-cell g-cell-1-1 l-block-1">\n            <input type="text" value="',(g=c.start_date)?g=g.call(b,{hash:{},data:e}):(g=b.start_date,g=typeof g===m?g.apply(b):g),i+=k(g)+'" class="xform__input--xshort js-series-custom-date">\n        </div>\n    </div>\n    <div class="l-block-3 g-cell g-cell-1-1">\n        <span class="series-schedule-summary">',(g=c.summary)?g=g.call(b,{hash:{},data:e}):(g=b.summary,g=typeof g===m?g.apply(b):g),i+=k(g)+'</span>\n    </div>\n    <div class="l-block-2 l-padded-v-1 g-cell g-cell-1-1 btn-group btn-group--responsive">\n        <a class="btn js-series-edit" href="#">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Update",h):j.call(b,"_","Update",h)))+'</a>\n        <a class="btn btn--secondary js-series-new-close" href="#">',h={hash:{},data:e},i+=k((f=c._||b._,f?f.call(b,"Cancel",h):j.call(b,"_","Cancel",h)))+"</a>\n    </div>\n</form>"}),this.Handlebars.templates.series_list=Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},"<tbody>\n</tbody>"}),this.Handlebars.templates.series_list_row=Handlebars.template(function(a,b,c,d,e){function f(){return'\n        <a href="#" class="js-series-delete-row"><i class="ico-trash"></i></a>\n'}function g(){return'\n        <i class="ico-trash"></i>\n'}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i,j,k="",l=c.helperMissing,m=this.escapeExpression,n=this;return k+='<td width="75"></td>\n<td>',j={hash:{},data:e},k+=m((h=c.eventDateFormat||b.eventDateFormat,h?h.call(b,b.start_date,b.end_date,j):l.call(b,"eventDateFormat",b.start_date,b.end_date,j)))+'</td>\n<td>\n    <div class="js-series-row-tools series-row-tools">\n        <a href="#" class="js-series-edit-row"><i class="ico-write"></i></a>\n',i=c["if"].call(b,b.can_delete,{hash:{},inverse:n.program(3,g,e),fn:n.program(1,f,e),data:e}),(i||0===i)&&(k+=i),k+="\n    </div>\n</td>"}),this.Handlebars.templates.series_layout=Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div class="js-region-series-content"></div>\n<div class="js-region-series-create"></div>'}),this.Handlebars.templates.series_card=Handlebars.template(function(a,b,c,d,e){function f(){return'\n                <a href="#" class="js-series-edit"><i class="ico-write"></i></a>\n'}function g(){return'\n                <a href="#" class="js-series-delete"><i class="ico-trash"></i></a>\n'}function h(){return'\n                <i class="ico-trash"></i>\n'}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var i,j,k,l="",m="function",n=this.escapeExpression,o=c.helperMissing,p=this;return l+='<thead>\n    <tr class="series-row-head">\n        <th width="75" class="report__cell--selected series-cell-dates">\n        <span class="text-body-large text-body--significant">',(i=c.count)?i=i.call(b,{hash:{},data:e}):(i=b.count,i=typeof i===m?i.apply(b):i),l+=n(i)+"</span><br>",(i=c.date_label)?i=i.call(b,{hash:{},data:e}):(i=b.date_label,i=typeof i===m?i.apply(b):i),l+=n(i)+'</th>\n        <th class="report__cell--selected">\n            <p class="l-block-1 text-body--significant">',(i=c.label)?i=i.call(b,{hash:{},data:e}):(i=b.label,i=typeof i===m?i.apply(b):i),l+=n(i)+'</p>\n            <p class="text-body-small text-body--faint">',k={hash:{},data:e},l+=n((i=c.cardDateFormat||b.cardDateFormat,i?i.call(b,b.start_moment,b.end_moment,k):o.call(b,"cardDateFormat",b.start_moment,b.end_moment,k)))+'</p>\n        </th>\n        <th class="report__cell--selected">\n            <div class="js-series-card-tools series-card-tools">\n                <a href="#" class="js-series-expand"><i class="ico-list"></i></a>\n',j=c["if"].call(b,b.can_edit,{hash:{},inverse:p.noop,fn:p.program(1,f,e),data:e}),(j||0===j)&&(l+=j),l+="\n",j=c["if"].call(b,b.can_delete,{hash:{},inverse:p.program(5,h,e),fn:p.program(3,g,e),data:e}),(j||0===j)&&(l+=j),l+="\n            </div>\n        </th>\n    </tr>\n</thead>\n<tbody>\n</tbody>"}),this.Handlebars.templates.reserved_layout=Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div class="js-region-reserved-seating-content"></div>\n<input name="group-details-inventory_type" type="hidden"/>\n'}),this.Handlebars.templates.reserved_toggle_lightbox=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g="",h="function",i=this.escapeExpression;return g+='<div id="assigned_seating_lightbox" class="eb_lightbox" data-no-background-click="true">\n    <div class="eb_lightbox_header">\n        Assigned Seating\n        <div class="eb_lightbox_close"></div>\n    </div>\n    <div class="eb_lightbox_content has-centered-inline-content">\n        <section class="l-padded-v-3">\n             <img src="',(f=c.MEDIA_URL)?f=f.call(b,{hash:{},data:e}):(f=b.MEDIA_URL,f=typeof f===h?f.apply(b):f),g+=i(f)+'django/images/icons/comfy-chair.png" />\n        </section>\n        <section>\n            <span class="text-body-large">Customize, edit and sell out your seated event.</span>\n        </section>\n        <section class="l-padded-v-4">\n            <label class="text-body--significant">\n                Enable reserved seating\n            </label>\n\n            <span class="l-padded-h-2">\n                <input type="radio" name="reserved_toggle" class="js-reserved-toggle" id="reserved_toggle_0" value="1">\n                <label for="reserved_toggle_0">Yes</label>\n            </span>\n\n            <input type="radio" name="reserved_toggle" class="js-reserved-toggle" id="reserved_toggle_1" value="0">\n            <label for="reserved_toggle_1">No</label>\n        </section>\n    </div>\n    <div class="eb_lightbox_footer btn-group">\n        <a class="btn btn--small btn--secondary js-cancel">Cancel</a>\n        <a class="btn btn--small js-save">Save</a>\n    </div>\n</div>'}),this.Handlebars.templates.reserved_new_chooser=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\n<p class="text-body-large has-centered-inline-content l-padded-v-1 is-hidden js-venue-name-message">\n    ',e={hash:{},data:b},f+=k((d=c._||a._,d?d.call(a,"Start with a seat map previously used for %s",a.venueName,e):j.call(a,"_","Start with a seat map previously used for %s",a.venueName,e)))+"\n</p>\n"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h,i="",j=c.helperMissing,k=this.escapeExpression,l=this;return g=c["if"].call(b,b.venueName,{hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e}),(g||0===g)&&(i+=g),i+='\n\n<div class="js-saved-maps l-padded-v-2 has-centered-inline-content hide-small">\n    <div class="has-centered-inline-content map-template l-padded-h-2">\n        <a class="js-start pod seatmap-image icon-link js-open-map">\n            <i class="ico-circle-plus ico--xlarge ico--addseatmap"></i>\n        </a>\n        <p class="text-body-medium l-padded-v-1">',h={hash:{},data:e},i+=k((g=c._||b._,g?g.call(b,"New seat map",h):j.call(b,"_","New seat map",h)))+"</p>\n    </div>\n</div>\n"}),this.Handlebars.templates.reserved_saved_template_item=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\n    <label class="text-body-small badge badge--overlay badge--option">\n        ',e={hash:{},data:b},f+=l((d=c._||a._,d?d.call(a,"Owner",e):k.call(a,"_","Owner",e)))+"\n    </label>\n    "}function g(){return"seatmap-image--loading "}function h(a,b){var d,e="";return e+='\n            <img class="seatmap-image__thumbnail" src="',(d=c.image_base_url)?d=d.call(a,{hash:{},data:b}):(d=a.image_base_url,d=typeof d===m?d.apply(a):d),e+=l(d)+'.svg">\n        '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var i,j="",k=c.helperMissing,l=this.escapeExpression,m="function",n=this;return j+='<div class="js-map-item has-centered-inline-content map-template l-padded-h-2">\n    ',i=c["if"].call(b,b.is_owner,{hash:{},inverse:n.noop,fn:n.program(1,f,e),data:e}),(i||0===i)&&(j+=i),j+='\n    <a class="pod seatmap-image ',i=c.unless.call(b,b.imageIsReady,{hash:{},inverse:n.noop,fn:n.program(3,g,e),data:e}),(i||0===i)&&(j+=i),j+='js-open-map">\n        ',i=c["if"].call(b,b.imageIsReady,{hash:{},inverse:n.noop,fn:n.program(5,h,e),data:e}),(i||0===i)&&(j+=i),j+='\n    </a>\n    <p class="text-body-medium l-padded-v-1">',(i=c.name)?i=i.call(b,{hash:{},data:e}):(i=b.name,i=typeof i===m?i.apply(b):i),j+=l(i)+'</p>\n    <p class="text-body-small text-body--faint">',(i=c.seat_count)?i=i.call(b,{hash:{},data:e}):(i=b.seat_count,i=typeof i===m?i.apply(b):i),j+=l(i)+" seats</p>\n</div>\n"}),this.Handlebars.templates.reserved_show=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\n                    <i class="ico-alert ico--color-brand-yellow ico--medium"></i>\n                    ',e={hash:{},data:b},f+=p((d=c._||a._,d?d.call(a,"There are issues with your seat map.",e):o.call(a,"_","There are issues with your seat map.",e)))+"\n            "}function g(a,b){var d,e,f="";return f+='\n                    <i class="ico-checkmark ico--color-brand-dark-green ico--medium"></i>\n                    ',e={hash:{},data:b},f+=p((d=c._||a._,d?d.call(a,"No issues with your seat map.",e):o.call(a,"_","No issues with your seat map.",e)))+"\n            "}function h(a,b){var d,e,f="";return f+='\n                    <i class="ico-alert ico--color-brand-yellow ico--medium"></i>\n                    ',e={hash:{},data:b},f+=p((d=c._||a._,d?d.call(a,"All seats need a selling order.",e):o.call(a,"_","All seats need a selling order.",e)))+"\n            "}function i(a,b){var d,e,f="";return f+='\n                    <i class="ico-checkmark ico--color-brand-dark-green ico--medium"></i>\n                    ',e={hash:{},data:b},f+=p((d=c._||a._,d?d.call(a,"All seats have a selling order.",e):o.call(a,"_","All seats have a selling order.",e)))+"\n            "}function j(a,b){var d,e,f="";return f+='\n                    <i class="ico-alert ico--color-brand-yellow ico--medium"></i>\n                    ',e={hash:{},data:b},f+=p((d=c._||a._,d?d.call(a,"All seats need a ticket type.",e):o.call(a,"_","All seats need a ticket type.",e)))+"\n            "}function k(a,b){var d,e,f="";return f+='\n                    <i class="ico-checkmark ico--color-brand-dark-green ico--medium"></i>\n                    ',e={hash:{},data:b},f+=p((d=c._||a._,d?d.call(a,"All seats have a ticket type.",e):o.call(a,"_","All seats have a ticket type.",e)))+"\n            "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var l,m,n="",o=c.helperMissing,p=this.escapeExpression,q="function",r=this;return n+='<section class="l-padded-v-4 hide-small">\n    <p class="js-venue-name text-body-large has-centered-inline-content"></p>\n\n    <section class="g-group l-padded-v-3">\n        <div class="g-cell g-offset-lg-1-12 g-cell-1-2 g-cell-lg-5-12">\n            <div class="pod pod--primary l-padded-v-3 l-padded-h-2 clrfix">\n                <div class="l-media">\n                    <div class="pod seatmap-image seatmap-image--loading">\n                        <img class="seatmap-image__thumbnail" src="">\n                    </div>\n                    <img class="seatmap-image__thumbnail-placeholder hidden"\n                         src="',(l=c.MEDIA_URL)?l=l.call(b,{hash:{},data:e}):(l=b.MEDIA_URL,l=typeof l===q?l.apply(b):l),n+=p(l)+'django/images/pages/create/mixed-map.png">\n                    <div class="">\n                        <p class="text-body-large text-body--significant">',(l=c.name)?l=l.call(b,{hash:{},data:e}):(l=b.name,l=typeof l===q?l.apply(b):l),n+=p(l)+'</p>\n                        <p class="text-body--understated l-padded-v-1">',(l=c.seat_count)?l=l.call(b,{hash:{},data:e}):(l=b.seat_count,l=typeof l===q?l.apply(b):l),n+=p(l)+'</p>\n                        <p class="text-body--understated l-padded-v-1">',(l=c.ticket_count)?l=l.call(b,{hash:{},data:e}):(l=b.ticket_count,l=typeof l===q?l.apply(b):l),n+=p(l)+'</p>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="g-cell g-offset-lg-1-12 g-cell-1-2 g-cell-lg-5-12">\n            <ul class="bullet-list-ico text-body-large">\n                <li class="l-padded-v-2">\n            ',l=c["if"].call(b,b.map_errors,{hash:{},inverse:r.program(3,g,e),fn:r.program(1,f,e),data:e}),(l||0===l)&&(n+=l),n+='\n                </li>\n                <li class="l-padded-v-2">\n            ',l=c["if"].call(b,b.selling_order_errors,{hash:{},inverse:r.program(7,i,e),fn:r.program(5,h,e),data:e}),(l||0===l)&&(n+=l),n+='\n                </li>\n                <li class="l-padded-v-2">\n            ',l=c["if"].call(b,b.ticket_errors,{hash:{},inverse:r.program(11,k,e),fn:r.program(9,j,e),data:e}),(l||0===l)&&(n+=l),n+='\n                </li>\n            </ul>\n            <p class="l-padded-v-2">\n                <a href="#" class="js-seatmap-launch btn" data-automation="seatmap-launch" >',m={hash:{},data:e},n+=p((l=c._||b._,l?l.call(b,"Launch Seat Designer",m):o.call(b,"_","Launch Seat Designer",m)))+"</a>\n            </p>\n        </div>\n    </section>\n</section>\n"}),this.Handlebars.templates.date_time_picker=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e="";return e+="\n        tabindex='",(d=c.dateTabIndex)?d=d.call(a,{hash:{},data:b}):(d=a.dateTabIndex,d=typeof d===j?d.apply(a):d),e+=k(d)+"'\n    "}function g(a,b){var d,e="";return e+="\n        tabindex='",(d=c.timeTabIndex)?d=d.call(a,{hash:{},data:b}):(d=a.timeTabIndex,d=typeof d===j?d.apply(a):d),e+=k(d)+"'\n    "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i="",j="function",k=this.escapeExpression,l=this;return i+='<div class="g-group">\n    <div class="g-cell g-cell-1-2 g-cell--no-gutters">\n        <input\n        class="js-date-input"\n        type="text"\n    ',h=c["if"].call(b,b.tabindex,{hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e}),(h||0===h)&&(i+=h),i+='\n        />\n    </div>\n\n    <div class="g-cell g-cell-1-2 g-cell--no-gutters custom-select-time-picker">\n    <input\n        type="text"\n        class="js-time-input"\n        data-use24hour="',(h=c.use24hour)?h=h.call(b,{hash:{},data:e}):(h=b.use24hour,h=typeof h===j?h.apply(b):h),i+=k(h)+'"\n    ',h=c["if"].call(b,b.tabindex,{hash:{},inverse:l.noop,fn:l.program(3,g,e),data:e}),(h||0===h)&&(i+=h),i+='\n        />\n    </div>\n</div>\n<div class="js-date-time-error form__field-error is-hidden"></div>\n'}),function(a,b){a=a||{},a.Taxes=function(){var a,c,d,e,f,g,h,i,j,k,l,m=function(){n()},n=function(){is_checked=a?b("#id_group-invoice_tax_pdf-attach_invoice_tax_pdf").is(":checked"):b("#id_attach_invoice_tax_pdf").is(":checked"),is_checked?(b("#tax_invoice_details").removeClass("hidden").addClass("visible"),b("#tax_options_content").addClass("scrollable_box")):(b("#tax_invoice_details").removeClass("visible").addClass("hidden"),b("#tax_options_content").removeClass("scrollable_box"))},o=function(a){a.preventDefault(),b("#tax_option_ticket_types").hasClass("hidden")?(b("#tax_option_ticket_types").removeClass("hidden").addClass("visible"),b("#show_tax_option_ticket_types").html(gettext("Hide"))):(b("#tax_option_ticket_types").removeClass("visible").addClass("hidden"),b("#show_tax_option_ticket_types").html(gettext("Show all")))},p=function(a){a.preventDefault(),is_checked=b("#id_group-tax-country_exemption_type_2").is(":checked"),is_checked?b("#tax_option_country_exemptions").removeClass("hidden").addClass("visible"):b("#tax_option_country_exemptions").removeClass("visible").addClass("hidden")},q=function(){var a=b("#id_group-tax-country").val();i.indexOf(a)>=0?b("#tax_option_country_exemption_settings").removeClass("hidden").addClass("visible"):b("#tax_option_country_exemption_settings").removeClass("visible").addClass("hidden")},r=function(){b("input[name=group-tax-country_exemptions]").attr("checked","checked")},s=function(){b("input[name=group-tax-country_exemptions]").removeAttr("checked")},t=function(){switch(l=b("#tax_option_country select:first").val()){case"CA":b("#tax_option_state").html(gettext("Province:")),b("#tax_option_zip").html(gettext("Postal Code:"));break;case"GB":b("#tax_option_state").html(gettext("County:")),b("#tax_option_zip").html(gettext("Postal Code:"));break;case"AU":b("#tax_option_state").html(gettext("Territory:")),b("#tax_option_zip").html(gettext("Postal Code:"));break;default:case"US":b("#tax_option_state").html(gettext("State:")),b("#tax_option_zip").html(gettext("Zip:"))}},u=function(){b("#id_"+c+"-applies_to_all").is(":checked")?b("#tax_option_ticket_types").hasClass("visible")&&(b("#tax_option_ticket_types").removeClass("visible").addClass("hidden"),b("#show_tax_option_ticket_types").html(gettext("Show all"))):b("#tax_option_ticket_types").hasClass("hidden")&&(b("#tax_option_ticket_types").removeClass("hidden").addClass("visible"),b("#show_tax_option_ticket_types").html(gettext("Hide"))),A()},v=function(){b(this).val()?(e.find(".tax_enabled").removeClass("hidden").addClass("visible"),F("#id_"+c+"-tax_name"),F("#id_"+c+"-tax_percent"),F("#id_"+c+"-tax_registration_id"),void 0!==j&&j.set("taxEnabled",!0)):(e.find(".tax_enabled").addClass("hidden").removeClass("visible"),void 0!==j&&j.set("taxEnabled",!1)),n()},w=function(){return e.find('input[name="'+c+'-apply_tax"]:checked').val()},x=function(){return parseFloat(b("#id_"+c+"-tax_percent").val())},y=function(){return b("#id_"+c+"-is_included_1").is(":checked")},z=function(a){var c,d=a.target.value;c="-"===d.slice(0,1)?h.get("c"+d.slice(1)):h.get(d),c.set("taxApplies",b(a.target).is(":checked")),A()},A=function(){var a=b("#id_group-tax-applies_to_all").is(":checked");return void 0!==j&&j.set("appliesToAllTickets",a),a},B=function(){b("#id_group-tax-apply_tax_1").prop("checked",!0),b(".tax_enabled").addClass("hidden").removeClass("visible"),b(".tax_add").removeClass("hidden"),f.addClass("hidden").removeClass("visible")},C=function(a,e){b.ajax({url:"/ajax/tax/options",data:{event_id:b("#id_eid").val(),currency:a||g(),country:e||b("#id_"+c+"-country").val()},context:this}).success(function(a){!a.tax_enabled||d&&!w()?B():f.removeClass("hidden").addClass("visible"),b(".tax_name").html(a.tax_name),b(".tax_percent").text(x()+"%"),b("#id_"+c+"-tax_name").val(a.tax_name),b("#id_"+c+"-tax_registration_id").attr("placeholder",a.example_registration_id),b("#tax_registration_help").html(a.tax_registration_id_help),e&&O(e)})},D=function(a){a.preventDefault(),b("#tax_options_content").removeClass("hidden").addClass("visible");var f=b("#id_"+c+"-applies_to_all").is(":checked"),g=e.find("#tickets_to_tax ul"),i=b.map(g.find("input:checked"),function(a){return b(a).val()});g.empty(),void 0!==h?h.each(function(a){if("free"!==a.get("paymentType")){var e=d?'disabled="true" readonly="true"':"",h=a.id||"-"+a.cid.slice(1),j=f||i.indexOf(h)>-1?'checked="checked" ':" ",k='<li><input name="'+c+'-applies_to" id="tax-ticket-'+h+'" value="'+h+'" class="js-ticket-tax" type="checkbox" '+j+e+' data-initial="'+!!b.trim(j)+'"/><label for="tax-ticket-'+h+'">'+a.get("name")+"</label></li>";g.append(k)}}):b.each(item_list_callback(),function(a,e){if(e.isPaid||e.isDonation){var h=d?'disabled="true" readonly="true"':"",j=f||i.indexOf(parseInt(e.id))>-1?'checked="checked" ':" ",k='<li><input name="'+c+'-applies_to" value="'+e.id+'" type="checkbox" '+j+h+' data-initial="'+!!j+'"/><label>'+e.name+"</label></li>";g.append(k),b('#tickets_to_tax input[type="checkbox"]').first().trigger("change")}}),b(".js-ticket-tax").on("change click",z),b(".js-ticket-tax").trigger("change")},E=function(a,c){b(".js-tax-error-display").removeClass("is-hidden"),b(a).addClass("error"),b(a+"_errors").addClass("error").html(c)},F=function(a){b(a).removeClass("error"),b(a+"_errors").removeClass("error").html("")},G=function(){var c=!0;if(a)var d="#id_group-invoice_tax_pdf-address_1",e="#id_group-tax-company",f="#id_group-invoice_tax_pdf-city",g="#id_group-invoice_tax_pdf-zip",h="#id_group-invoice_tax_pdf-attach_invoice_tax_pdf";else var d="#id_address_1",e="#id_tax-company",f="#id_city",g="#id_zip",h="#id_attach_invoice_tax_pdf";return b(h).is(":checked")?(void 0!==b(d).val()&&(""==b(d).val()?(c=!1,b(d).is(":focus")||E(d,gettext("This field is required."))):F(d)),void 0!==b(e).val()&&(""==b(e).val()?(c=!1,b(e).is(":focus")||E(e,gettext("This field is required."))):b(e).val().length>64?(c=!1,b(e).is(":focus")||E(e,gettext("Cannot be more than 64 characters"))):F(e)),void 0!==b(f).val()&&(""==b(f).val()?(c=!1,b(f).is(":focus")||E(f,gettext("This field is required."))):F(f)),void 0!==b(g).val()&&(""==b(g).val()?(c=!1,b(g).is(":focus")||E(g,gettext("This field is required."))):F(g)),c):(F(d),F(e),c)},H=function(){var a=!0,d="#id_"+c+"-tax_name";return b(d).val()?F(d):(a=!1,b(d).is(":focus")||E(d,gettext("This field is required."))),a},I=function(){var a="#id_"+c+"-tax_percent",d=b(a),e=d.val();e&&b.isNumeric(e)&&d.val(parseFloat(e))},J=function(){var a=!0,d="#id_"+c+"-tax_percent";return b(d).val()?isNaN(Number(b(d).val()))||Number(b(d).val())<0||Number(b(d).val())>100?(a=!1,b(d).is(":focus")||E(d,gettext("Enter a number between 0 and 100."))):F(d):(a=!1,b(d).is(":focus")||E(d,gettext("This field is required."))),a},K=function(a,d){var e="#id_"+c+"-tax_registration_id",f="#id_"+c+"-country";if(b(e).val()){if(F(e),""===b(f).val())return E(f,gettext("This field is required.")),b(f).removeClass("error"),void 0;F(f),b.ajax({url:"/ajax/tax/validate_id",data:{event_id:b("#id_eid").val(),currency:d||g(),country:b(f).val(),tax_id:b(e).val().trim()},context:this}).success(function(b){b.valid?(F(e),a()):E(e,gettext("Invalid tax ID"))})}else if(!b(e).is(":focus"))return E(e,gettext("This field is required.")),void 0},L=function(){var a=b("#id_"+c+"-applies_to_all").is(":checked"),d="#id_"+c+"-applies_to_all",f=e.find("#tickets_to_tax ul"),g=b.map(f.find("input:checked"),function(a){return parseInt(b(a).val())});return a||0!==g.length?(F(d),!0):(E(d,gettext("If tax is enabled it must apply to at least one item type")),!1)},M=function(){var a=b("#id_group-tax-country_exemption_type_2").is(":checked");if(a){var d=b("#id_"+c+"-country_exemption_type_2").is(":checked"),e="#id_"+c+"-country_exemption_type";if(d)return allCountries=b("input[name=group-tax-country_exemptions]"),selectedCountries=b("input[name=group-tax-country_exemptions]:checked"),0==selectedCountries.length?(E(e,gettext("You need to select at least one country.")),!1):selectedCountries.length==allCountries.length?(E(e,gettext("You need to deselect at least one country.")),!1):(F(e),!0)}return!0},N=function(){var a=b("#tax_option_country_validation select"),c=b("#pdf_tax_option_country select");a.on("change",function(){c.val(a.val())}),c.on("change",function(){a.val(c.val())})},O=function(a){if(!w()){var c=b("#tax_option_country_validation select");c.val(a),c.trigger("change"),q()}};return save_tax_options=function(a){var c=!0;w()?(c=H()&&J()&&G()&&L()&&M(),a.preventDefault(),K(function(){c&&(b(".js-tax-error-display").addClass("is-hidden"),b.magnificPopup.close(),b(".tax_enabled").removeClass("hidden").addClass("visible"),b(".tax_percent").text(x()+"%"),b(".tax_add").addClass("hidden"),k())})):(b(".tax_enabled").addClass("hidden").removeClass("visible"),b(".tax_add").removeClass("hidden"),b.magnificPopup.close(),k())},changeTaxInclude=function(){void 0!==j&&j.set("taxIsIncluded",y())},changeTaxPercent=function(){void 0!==j&&j.set("taxPercent",x())},initHelpTips=function(){b(".help_tip").hoverIntent(function(){var a=b(this).data("tip"),c="help_tip_"+a;b("#"+c).fadeIn(333)},function(){var a=b(this).data("tip"),c="help_tip_"+a;b("#"+c).fadeOut(333)}).click(function(a){a.preventDefault()})},initCheckAll=function(){b("#id_"+c+"-applies_to_all").change(function(){var a=b(this).is(":checked");b('#tickets_to_tax input[type="checkbox"]').prop("checked",a?!0:!1)}),b("#tickets_to_tax").delegate('input[type="checkbox"]',"change",function(){var a=!0;b('#tickets_to_tax input[type="checkbox"]').each(function(){b(this).is(":checked")||(a=!1)}),b("#id_"+c+"-applies_to_all").prop("checked",a?!0:!1)})},{init:function(l){var n="";a=l.for_tickets,c=l.prefix,d=l.readonly,f=b(l.lightbox_link),k=l.on_save,g=l.currency_callback,item_list_callback=l.item_list_callback,e=b(l.lightbox),h=l.ticketCollection,i=l.countryExemptionsCountryList,j=l.taxModel,b("#id_"+c+"-tax_name").bind("blur keyup",H),b("#id_"+c+"-tax_percent").bind("blur",I),b("#id_"+c+"-tax_percent").bind("blur keyup",J),n=["#id_group-tax-tax_registration_id","#id_group-tax-company","#id_group-invoice_tax_pdf-address_1"].join(", "),b(n).on("keyup",function(a){F("#"+a.currentTarget.id)}),b("#tax_options_save_button").click(save_tax_options),e.bind("lightboxHide",function(){e.find('[name="'+c+'-apply_tax"]:checked').change()}),f.click(D),b("#id_"+c+"-apply_tax_0").change(v),b("#id_"+c+"-apply_tax_1").change(v),b("#id_"+c+"-applies_to_all").change(u),a?b("#id_group-invoice_tax_pdf-attach_invoice_tax_pdf").change(m):b("#id_attach_invoice_tax_pdf").change(m),b("#show_tax_option_ticket_types").click(o),b("#tax_option_country select:first").change(t),b("#id_group-tax-is_included_0").change(changeTaxInclude),b("#id_group-tax-is_included_1").change(changeTaxInclude),b("#id_group-tax-tax_percent").change(changeTaxPercent),b("#id_group-tax-country").change(q),b("#id_group-tax-country_exemption_type_0").change(p),b("#id_group-tax-country_exemption_type_1").change(p),b("#id_group-tax-country_exemption_type_2").change(p),b("#js-country-exemptions-select-all").click(r),b("#js-country-exemptions-deselect-all").click(s),initHelpTips(),initCheckAll(),N()},tax_enabled:w,get_tax_percent:x,get_tax_included:y,update_tax_options:C,changeTaxPercent:changeTaxPercent,changeTaxInclude:changeTaxInclude,isTaxAppliesToAll:A,disable_tax_options:B}}()}(window.EB=window.EB||{},jQuery),function(a,b){a.namespace("CreatePage"),a.CreatePage.PrivacyAndPromotion=Backbone.Model.extend({defaults:{listed:null,primary_category:"",secondary_category:"",event_format:"",event_category:"",event_subcategory:"",invitation_only:!1,password:"",password_protected:"",social_sharing:!1},initialize:function(){this.bind("change:invitation_only",this.handleInvitationOnlyChange,this)},validate:function(a){return a.primary_category&&a.primary_category===this.get("secondary_category")?gettext("Primary and Secondary Categories need to be unique."):a.secondary_category&&a.secondary_category===this.get("primary_category")?gettext("Primary and Secondary Categories need to be unique."):void 0},handleInvitationOnlyChange:function(a){a.get("invitation_only")===!0?(a.set({social_sharing:!1}),a.trigger("disabled_change:social_sharing",!0)):a.trigger("disabled_change:social_sharing",!1)}}),a.CreatePage.PrivacyAndPromotionView=Backbone.View.extend({initialize:function(a){this.fieldPrefix=a.fieldPrefix?a&&a.fieldPrefix:"id_",this.model.bind("change:listed",this.showPrivacyOrPromotion,this),this.model.bind("disabled_change:social_sharing",this.handleSocialSharingDisabledChange,this),ENDURANCE_FORMAT_ID=a.ENDURANCE_FORMAT_ID,this.eventCategoryOther=a.EVENT_CATEGORY_OTHER,this.eventSubcategories=a.eventSubcategories||{},this.categoryPublishError=a.categoryError,this.formatPublishError=a.formatError},render:function(){new a.UIComponents.SelectBox({element:b("#id_group-privacy_and_promotion-primary_category"),parentClass:"responsive-form__select create_select_time_field"}),new a.UIComponents.SelectBox({element:b("#id_group-privacy_and_promotion-secondary_category"),parentClass:"responsive-form__select create_select_time_field"}),b("#id_group-privacy_and_promotion-event_format").length&&new a.UIComponents.SelectBox({element:b("#id_group-privacy_and_promotion-event_format"),parentClass:"responsive-form__select create_select_time_field"}),b("#id_group-privacy_and_promotion-event_category").length&&new a.UIComponents.SelectBox({element:b("#id_group-privacy_and_promotion-event_category"),parentClass:"responsive-form__select create_select_time_field"}),b("#id_group-privacy_and_promotion-event_subcategory").length&&new a.UIComponents.SelectBox({element:b("#id_group-privacy_and_promotion-event_subcategory"),parentClass:"responsive-form__select create_select_time_field"}),this.categoryPublishError&&b(".js-create-category-error").removeClass("is-hidden"),this.formatPublishError&&b(".js-create-format-error").removeClass("is-hidden"),this.triggerChangesForAllInputs()
},triggerChangesForAllInputs:function(){_.each(b('[id^="'+this.fieldPrefix+'"]'),function(a){b(a).trigger("change")})},events:{"change #id_group-privacy_and_promotion-listed_0":"changeListed","change #id_group-privacy_and_promotion-listed_1":"changeListed","change #id_group-privacy_and_promotion-invitation_only":"changeInvitationOnly","change #id_group-privacy_and_promotion-social_sharing":"changeSocialSharing","change #id_group-privacy_and_promotion-primary_category":"changePrimaryCategory","change #id_group-privacy_and_promotion-secondary_category":"changeSecondaryCategory","change #id_group-privacy_and_promotion-event_format":"changeEventFormat","change #id_group-privacy_and_promotion-event_category":"chagedEventCategory","blur #id_group-privacy_and_promotion-custom_subdomain":"saveCustomSubdomain"},changeListed:function(a){var c=b(a.currentTarget),d=null;c.is(":checked")&&(d="True"===c.val(),this.model.set({listed:d}))},changeInvitationOnly:function(a){this.model.set({invitation_only:a.currentTarget.checked})},changeSocialSharing:function(a){this.model.set({social_sharing:a.currentTarget.checked})},disableOption:function(a,c){b(a).find('option[value="'+c+'"]').attr("disabled","disabled")},chagedEventCategory:function(){var a=this.$("#id_group-privacy_and_promotion-event_category").val(),b=this.eventSubcategories[a],c=this.$("#id_group-privacy_and_promotion-event_subcategory"),d=c.val(),e=document.createElement("option");if(c.length>0)if(""===a||parseInt(a)===this.eventCategoryOther)c.val("").trigger("change").parent().addClass("hidden");else if(c.find("option").remove(),e.value="",e.innerHTML=gettext("Select a sub-topic"),c.append(e),b){for(var f=0;f<b.length;f++){var g=b[f],h=document.createElement("option");h.value=g[0],h.innerHTML=g[1],c.append(h)}c.val(d).trigger("change").parent().removeClass("hidden")}else c.val("").trigger("change").parent().addClass("hidden")},changeCategory:function(c,d,e){var f={},g=c.currentTarget.value;f[d]=g;var h=!g,i=this.model.set(f,{error:function(){b(c.currentTarget).val("")}});i&&(this.getFieldElement(e).find("option").removeAttr("disabled"),a.CreatePage.Dates.isRepeatingEvent()&&this.disableOption(this.getFieldElement(e),"endurance"),h||this.disableOption(this.getFieldElement(e),g))},changePrimaryCategory:function(a){this.changeCategory(a,"primary_category","secondary_category")},changeSecondaryCategory:function(a){this.changeCategory(a,"secondary_category","primary_category")},changeEventFormat:function(){this.getFieldElement("event_format").find("option").removeAttr("disabled"),a.CreatePage.Dates.isRepeatingEvent()&&this.disableOption(this.getFieldElement("event_format"),ENDURANCE_FORMAT_ID)},getFieldElement:function(a){return b("#"+this.fieldPrefix+a)},handleSocialSharingDisabledChange:function(a){var b=this.getFieldElement("social_sharing");a?(b[0].checked=!1,b.attr("disabled","disabled")):b.removeAttr("disabled")},showPrivacyOrPromotion:function(){this.model.get("listed")?(b("#privacy_and_promotion_content .privacy").addClass("hidden"),b("#privacy_and_promotion_content .promotion").removeClass("hidden"),b("#private_event_label").addClass("hidden")):(b("#privacy_and_promotion_content .promotion").addClass("hidden"),b("#privacy_and_promotion_content .privacy").removeClass("hidden"),b("#private_event_label").removeClass("hidden"))},updateEnduranceCategoryAvailability:function(){b("#id_group-privacy_and_promotion-primary_category").trigger("change"),b("#id_group-privacy_and_promotion-secondary_category").trigger("change"),b("#id_group-privacy_and_promotion-event_format").trigger("change")}})}(window.EB=window.EB||{},jQuery),function(a,b){a.namespace("CreatePage"),a.CreatePage.Preview=function(){var c,d,e,f,g,h,i,j,k=333,l=!0,m=!1,n=!1,o=function(a){var b=a.contentWindow||a.contentDocument;return b.document&&(b=b.document),b},p=function(){return o(b("#preview_frame")[0])},q=function(){var a=o(b("#preview_frame")[0]);return!a.getElementById("event-page")},r=function(){var a={};return b(".swatch input").each(function(){a[this.name.replace("group-appearance-","")]=this.value}),a},s=function(){b("#preview_frame").css("height",b(window.frames.preview_frame.document).height()+"px")},t=function(){b(window).trigger("hashchange",{fragment:"preview"}),j.set("is_core",q())},u=function(){var a=Handlebars.compile(b("#preview_new_css_template").html());return a(r())},v=function(){var a=Handlebars.compile(b("#custom_css_styles_template").html());return a(r())},w=function(){var a=p(),d="";j.get("is_core")?d=v():"classic"!==c.current&&(d=u()),b(a).find("head").find("#custom_css_styles").remove(),b(a).find("head").append('<style id="custom_css_styles" type="text/css">'+d+"</style>")},x=function(){f[l?"slideUp":"slideDown"](k),d.animate({top:l?"4px":g,"margin-bottom":l?"7px":h},k),e.animate({"margin-top":l?"15px":i},k),l=!l},y=function(){d=b("#preview_tray_wrapper"),e=b("#preview_frame"),f=b("#preview_tray"),g=d.css("top"),h=d.css("margin-bottom"),i=e.css("margin-top"),b("#preview_tray_tab").on("click",function(){x()})},z=function(){var a=b("#themes_slides"),c=b("#default_themes li").length,d=b("#default_themes li.start").index()+1,e=function(a){b(a+"_deactive").hide(),b(a).show()},f=function(a){b(a).hide(),b(a+"_deactive").show()};return updatePrevNext=function(a){1>=a?f(".prev"):a>=c?f(".next"):(e(".prev"),e(".next"))},n||a.is(":hidden")?!1:(a.slides({container:"themes_slides_container",next:"next",prev:"prev",currentClass:"current",effect:"slide",start:d,animationComplete:function(){updatePrevNext(b(".pagination li.current").index()+1)}}),a.find(".themes_slides_container").css("display","inline-block"),updatePrevNext(d),n=!0,void 0)},A=function(){var d=b("#custom_colors .swatch input"),e=function(a){var d,e,f=c.all[a]||c.all.classic;m=!0;for(e in f)d=f[e]||"#FFFFFF",b("#custom_colors").find(".swatch_"+e).find("input").data("initial",d).miniColors("value",d);m=!1,c.current=a,w()};z(),b("#default_themes li img").click(function(){var c="classic";c=b(this).attr("class").replace(/(selected\ |\ selected)/,""),e(c),b(this).addClass("selected"),a.DirtyPage.setDirty(!0)}),c.current in c.all&&(e(c.current),b("#default_themes li img."+c.current).addClass("selected")),d.each(function(){b(this).data("initial",b(this).val())}),d.miniColors({change:function(a){""!=c.current&&(c.current="",b("#default_themes li img").removeClass("selected")),b(".miniColors-hex input").val(a),m||w()}}),d.bind("focus.miniColors",function(){b(".miniColors-selector").append('<div class="miniColors-hex"><input type="text" maxlength="7" /></div><div class="miniColors-buttons"><a href="javascript:void(0)" class="eb_button tiny default cancel">'+gettext("Cancel")+'</a><a href="javascript:void(0)" class="eb_button tiny go save">'+gettext("Save")+"</a></div>"),b(".miniColors-hex input").val(b(".swatch input.active").val())}),b("body").delegate(".miniColors-buttons .eb_button","click",function(){b(this).hasClass("save")?(b(document).trigger("mousedown.miniColors"),d.each(function(){b(this).data("initial",b(this).val())}),a.DirtyPage.setDirty(!0)):(d.filter(".active").each(function(){b(this).miniColors("value",b(this).data("initial"))}),b(document).trigger("mousedown.miniColors"))}),b("body").delegate(".miniColors-hex input","keyup",function(a){/^#[a-f0-9]{6}$/i.test(b(this).val())&&(b(".swatch input.active").miniColors("value",b(this).val()),13==a.keyCode&&b(".miniColors-buttons .eb_button.save").trigger("click"))}),b("#custom_colors li").click(function(){b(this).find("input").trigger("focus")})},B=function(){var a=b("#id_group-show_attendees-show_attendees"),c=b("#show_attendees_settings"),d=b(".js-attendees-settings-trigger"),e=a.is(":checked"),f=function(){var a=!1;return c.find('input[type="checkbox"]').each(function(){return b(this).is(":checked")?(a=!0,!1):void 0}),a};a.click(function(){a.is(":checked")?d.trigger("click"):(b("#show_attendees_link").addClass("hidden"),e=!1,j.get("is_core")&&t())}),b("#show_attendees_link").click(function(a){a.preventDefault(),d.trigger("click")}),b("#show_attendees_settings .js-save").on("click",function(){f()?(a.prop("checked",!0),b("#show_attendees_link").removeClass("hidden"),e=!0,j.get("is_core")||t()):(a.prop("checked",!1),b("#show_attendees_link").addClass("hidden"),e=!1,j.get("is_core")&&t())}),b("#show_attendees_settings .js-cancel").on("click",function(){e?(a.prop("checked",!0),b("#show_attendees_link").removeClass("hidden")):(a.prop("checked",!1),b("#show_attendees_link").addClass("hidden"))})};return{init:function(d){var e;c=d,j=new a.Models.CustomThemeModel({custom_header:b("#id_group-details-header").val(),custom_footer:b("#id_group-details-footer").val(),is_core:q()}),y(),A(),B(),e=new a.CreatePage.CustomHTMLView({previewDoc:p(),model:j}),e.render(),j.on("changeIsCore",t),e.on("updatedHTML",s)},renderTheme:w,initThemeSlides:z}}()}(window.EB||{},window.jQuery),// Information for customization of the event page
// IE, themes, header/footer, display attendees
function(a,b,c){"use strict";c.namespace("Models"),c.Models.CustomThemeModel=c.Backbone.Model.extend({defaults:{custom_header:"",custom_footer:"",is_core:!0},initialize:function(){b.bindAll(this,"sanitizeCustomHTML","handleHTMLChange"),this.on("change:custom_header change:custom_footer",this.handleHTMLChange)},sanitizeCustomHTML:function(){return a.ajax({url:"/sanitize/custom-html",type:"post",data:{headerHTML:this.get("custom_header"),footerHTML:this.get("custom_footer")}})},handleHTMLChange:function(){this.get("is_core")?this.get("custom_header")||this.get("custom_footer")||this.trigger("changeIsCore"):(this.get("custom_header")||this.get("custom_footer"))&&this.trigger("changeIsCore")}})}(window.jQuery,window._,window.EB,window),function(a,b,c){"use strict";c.namespace("CreatePage"),c.CreatePage.CustomHTMLView=c.Backbone.View.extend({el:".js-custom-html",bindings:{"#id_group-details-header":{observe:"custom_header",events:["blur"]},"#id_group-details-footer":{observe:"custom_footer",events:["blur"]}},events:{"click #add_html_link":"handleEditClick","click a.add_html_header_link":"handleHeaderFooterSelect","click a.add_html_footer_link":"handleHeaderFooterSelect","click .save":"handleSave","click .cancel":"handleCancel"},initialize:function(c){b.bindAll(this,"handleSave","handleCancel","handleUpdateHTML"),this.$previewDoc=a(c.previewDoc),this.initialHeader=this.$(".add_html_header textarea").val(),this.initialFooter=this.$(".add_html_footer textarea").val()},render:function(){return this},handleEditClick:function(a){a.preventDefault(),window.setTimeout(function(){c.Ui.placeholder("#add_html textarea")},0)},handleHeaderFooterSelect:function(b){b.preventDefault(),a(b.currentTarget).hasClass("selected")||(this.$("a.add_html_header_link, a.add_html_footer_link").toggleClass("selected"),this.$(".add_html_header, .add_html_footer").toggleClass("is-hidden"))},handleUpdateHTML:function(a){this.$previewDoc.find("#customheader, #customfooter").empty().remove(),this.$previewDoc.find("#contentpub").prepend(this.model.get("custom_header")?'<div id="customheader"><div class="main">'+a.headerHTML+"</div></div>":""),this.$previewDoc.find("#new_eb_footer_container, #eb_footer_container").before(this.model.get("custom_footer")?'<div id="customfooter"><div class="main">'+a.footerHTML+"</div></div>":""),this.initialHeader=this.$(".add_html_header textarea").val(),this.initialFooter=this.$(".add_html_footer textarea").val(),this.trigger("updatedHTML")},handleSave:function(){this.showLoading(),this.model.sanitizeCustomHTML().done(this.handleUpdateHTML).always(this.hideLoading)},handleCancel:function(){this.$(".add_html_header textarea").val(this.initialHeader),this.$(".add_html_footer textarea").val(this.initialFooter)},showLoading:function(){a("#preview_frame_lightbox").css("opacity","0.8"),a("#preview_frame_message").show(),a("#preview_frame_spinner").show()},hideLoading:function(){a("#preview_frame_lightbox").css("opacity","0"),a("#preview_frame_message").hide(),a("#preview_frame_spinner").hide()}}).mixin(c.Backbone.Mixins.withStickit)}(window.jQuery,window._,window.EB,window.Handlebars),function(a,b,c){"use strict";b.namespace("CreatePage"),b.CreatePage.CurrencyModel=b.Backbone.Model.extend({defaults:{currency:"USD",currencySymbol:"$",formattedCurrency:"$ USD",country:"",paypalEmail:"",TLD:".com",TLDDefaultCurrency:"USD"},validation:{paypalEmail:[{pattern:"email",msg:window.gettext("Please enter a valid email address")}],currency:{required:!0},country:{required:!1}},initialize:function(b,d){b=b||{},d=d||{},c.bindAll(this,"currencyChangedEvent","currencySymbolChangedEvent","countryChangedEvent","isATDCurrency","isCCPCurrency"),this.nonEuroCCPCountries=d.nonEuroCCPCountries||[],this.CCPCurrencies=d.CCPCurrencies||[],this.euroCCPCountries=d.euroCCPCountries||[],this.TLD=b.TLD||"com",this.TLDDefaultCurrency=b.TLDDefaultCurrency,this.euroPaypalCountries=d.euroPaypalCountries||[],this.currencyCountryPairs=d.currencyCountryPairs||{},this.ATDCurrencies=d.ATDCurrencies||[],this.hasClickedMakeEventLive=a("#id_group-details-make_live").val()?!0:!1,this.publishFailed=d.publishFailed||!1,this.on("change:currency",this.currencyChangedEvent),this.on("change:country",this.countryChangedEvent),this.on("change:currencySymbol",this.currencySymbolChangedEvent)},toJSON:function(){var a=Backbone.Model.prototype.toJSON.call(this),b=(this.get("usingPaypal"),!0);return(!this.isCCPCurrencySelected()||this.isCurrencyEUR()&&!this.isCCPCountrySelected())&&(b=!1),c.extend(a,{isCCP:b,isEUR:this.isCurrencyEUR(),usingPaypal:this.get("usingPaypal"),isCCPCountrySelected:this.isCCPCountrySelected(),isTLDCurrency:this.isTLDCurrency(this.get("currency")),requiresPaypal:this.requiresPaypal(),hasCurrencyErrors:this.get("hasCurrencyErrors")}),a},currencyChangedEvent:function(b,c){this.trigger("currency-changed",this.toJSON()),a.ajax({url:"/ajax/fee",data:{eid:this.get("eventModel").get("eid"),currency:c,include_fee:0},cache:!1}).done(function(a){b.set("currencySymbol",a.currency_symbol),b.trigger("change:currencySymbol")})},countryChangedEvent:function(){{var a=(this.get("country"),this.get("currency"));this.get("usingPaypal")}this.trigger("country-changed",{isCCP:this.isCCPCountrySelected(),isEUR:this.isCurrencyEUR(),usingPaypal:this.get("usingPaypal"),isCCPCountrySelected:this.isCCPCountrySelected(),isTLDCurrency:this.isTLDCurrency(a),requiresPaypal:this.requiresPaypal(),hasCurrencyErrors:this.get("hasCurrencyErrors")})},currencySymbolChangedEvent:function(){var a=this.get("currencySymbol"),b=this.get("currency");this.set("formattedCurrency",a+" "+b)},isCCPCurrency:function(a){return this.CCPCurrencies.indexOf(a)>-1},isTLDCurrency:function(a){return this.TLDDefaultCurrency===a?!0:!1},isCCPCurrencySelected:function(){return this.isCCPCurrency(this.get("currency"))},isCCPCountrySelected:function(){var a=this.get("country");return this.euroCCPCountries.indexOf(a)>-1?!0:this.nonEuroCCPCountries.indexOf(a)>-1?!0:!1},isCCP:function(){return this.get("usingPaypal")||!this.isCCPCurrencySelected()&&!this.isCCPCountrySelected()?!1:!0},isATDCurrency:function(){var a=this.get("currency");return this.ATDCurrencies.indexOf(a)>=0},requiresPaypal:function(){var a=this.get("currency"),b=this.get("country");return!this.isCCPCurrencySelected()||b&&this.currencyCountryPairs[b]!=a||b&&this.euroPaypalCountries.indexOf(b)>-1?!0:!1},isCurrencyEUR:function(){return"EUR"===this.get("currency")},isNonCCPOptionsSelected:function(){return this.get("usingPaypal")||!this.isCCPCurrencySelected()||this.isCurrencyEUR()&&!this.isCCPCountrySelected()?!0:!1}})}(window.jQuery,window.EB,window._),function(a,b,c){"use strict";b.namespace("CreatePage"),b.CreatePage.CurrencyView=b.Backbone.View.extend({el:"body",bindings:{"#id_group-details-currency":"currency",".js-selected-currency":"formattedCurrency","#id_group-payment_options-epp_country":"country","#id_group-payment_options-paypal_email":"paypalEmail"},initialize:function(){c.bindAll(this,"modelChangedEvent","showTooltip","hideTooltip","submitMakeEventLive","handleLinkClick","handleIsFreeChange","handleModelChanged","handleATDChange","showOnErrors","handleErrorsAfterAjax"),this.model.on("paypalError",this.handleErrorsAfterAjax),this.$currencySelect=this.$("#id_group-details-currency"),this.$countrySelectContainer=this.$("#currency_lightbox_epp_country"),this.$countrySelect=this.$("#id_group-payment_options-epp_country"),this.$paypalEmailInputContainer=this.$("#currency_lightbox_paypal_email"),this.$paypalEmailInput=this.$("#id_group-payment_options-paypal_email"),this.$lightbox=this.$("#id_group-details-currency_lightbox"),this.$editCurrencyLink=this.$(".js-change-currency-link"),this.hasClickedMakeEventLive=this.model.hasClickedMakeEventLive,this.model.set("currency",this.$currencySelect.val()),this.model.set("country",this.$countrySelect.val()),this.model.set("paypalEmail",this.$paypalEmailInput.val()),this.model.on("currency-changed country-changed",this.modelChangedEvent),this.$editCurrencyLink.on("click",this.handleLinkClick),this.listenTo(this.options.eventModel,"change:is_free",this.handleIsFreeChange),this.listenTo(this.options.eventModel,"change:is_atd",this.handleATDChange),this.updateFieldDisplay(),b.MobileUtils.isIOS()||this.$(".paypal-help-tooltip").hoverIntent(this.showTooltip,this.hideTooltip),this.showOnErrors(),this.render()},render:function(){return this},show:function(){this.modelChangedEvent(this.model.toJSON())},handleLinkClick:function(){this.show()},handleIsFreeChange:function(){this.options.eventModel.get("is_free")?this.$(".js-change-currency").addClass("is-hidden"):this.$(".js-change-currency").removeClass("is-hidden")},handleATDChange:function(){this.options.eventModel.get("is_atd")===!0?this.$editCurrencyLink.addClass("is-hidden"):this.$editCurrencyLink.removeClass("is-hidden")},showOnErrors:function(b){var c=a(".error").not(".hidden, div"),d=this.$lightbox.find(".error").not(".hidden, div"),e=this.$(".save"),f=d.length&&!this.$editCurrencyLink.is(".hide_errors");if(c.length&&this.hasClickedMakeEventLive&&!b&&e.text(this.options.eventModel.get("is_live")?window.gettext("Save"):window.gettext("Make Event Live")).on("click",this.submitMakeEventLive),this.model.publishFailed&&f){var g=this.$editCurrencyLink;require(["eb-styleguide/js/ui_components/component_library"],function(a){a.then(function(){g.trigger("click")})})}},handleErrorsAfterAjax:function(){this.$lightbox.removeClass("hide_errors"),this.showOnErrors(1)},submitMakeEventLive:function(a){a.stopImmediatePropagation(),b.CreatePage.submit(1)},updateFieldDisplay:function(){var a=this.$lightbox.data("editable");a||this.$lightbox.find("input, select").prop("disabled",!0)},modelChangedEvent:function(a){a.usingPaypal&&this.showPaypalEmailInput(),a.isTLDCurrency?a.hasCurrencyErrors?(this.$countrySelectContainer.show(),this.showPaypalEmailInput()):a.isEUR?(this.$countrySelectContainer.show(),a.requiresPaypal?this.showPaypalEmailInput():this.hidePaypalEmailInput()):a.isCCP?(this.$countrySelectContainer.hide(),this.hidePaypalEmailInput()):(this.$countrySelectContainer.hide(),this.showPaypalEmailInput()):(this.$countrySelectContainer.show(),a.requiresPaypal?(this.showPaypalEmailInput(),this.$countrySelect.val()||this.$countrySelectContainer.hide()):this.hidePaypalEmailInput()),this.handleModelChanged()},handleModelChanged:function(){b.Taxes.update_tax_options(this.model.get("currency"),this.model.get("country")),b.PaypalCurrencies.check_for_special_requirements(this.model.get("currency"))},hidePaypalEmailInput:function(){this.model.isNonCCPOptionsSelected()||(this.$paypalEmailInput.attr("disabled",!0),this.$paypalEmailInputContainer.hide())},showPaypalEmailInput:function(){this.$paypalEmailInput.removeAttr("disabled"),this.$paypalEmailInputContainer.show()},showTooltip:function(){this.$(".paypal_tooltip_balloon").fadeIn(333)},hideTooltip:function(){this.$(".paypal_tooltip_balloon").fadeOut(333)},get$ErrorMessageForAttr:function(a){var b=this.get$InputForAttr(a);return this.$("#"+b[0].id+"_errors").addClass("errorlist")}}).mixin(b.Backbone.Mixins.withStickit).mixin(b.Backbone.Mixins.withInputValidation)}(window.jQuery,window.EB,window._),window.EB=window.EB||{},EB.PaypalCurrencies=function(){var a={};return{init:function(b){a=b},check_for_special_requirements:function(b){b in a&&alert(a[b])}}}(jQuery,EB),/*
    Require.js notes:
        This module depends on jQuery
*/
window.EB=window.EB||{},EB.DirtyPage=function(a){var b=!1,c=function(){return b},d=function(a){b=a};return{isDirty:c,setDirty:d,init:function(){a("input, select, textarea").each(function(){a(this).data("initial",a(this).val())}),a("input, select, textarea").change(function(){a(this).val()!=a(this).data("initial")&&EB.DirtyPage.setDirty(!0)}),a(window).bind("beforeunload",function(){return EB.DirtyPage.isDirty()?gettext("Your changes will not be saved."):void 0})}}}(jQuery),"function"==typeof define&&define("eb/dirty",function(){"use strict";return EB.DirtyPage}),function(a){a.datepicker.settings={closeText:gettext("Done"),prevText:gettext("Prev"),nextText:gettext("Next"),currentText:gettext("Today"),monthNames:window.EB_I18N.monthNamesFull,monthNamesShort:window.EB_I18N.monthNamesMedium,dayNames:window.EB_I18N.dayNamesFull,dayNamesShort:window.EB_I18N.dayNamesMedium,dayNamesMin:window.EB_I18N.dayNamesShort,weekHeader:gettext("Wk"),dateFormat:window.EB_I18N.datepickerFormat,firstDay:window.EB_I18N.firstWeekDay,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},a.datepicker.setDefaults(a.datepicker.settings)}(jQuery),/*!
 * jQuery UI Touch Punch 0.2.3
 *
 * Copyright 2011–2014, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Distributed by Eventbrite, where we choose the MIT license.
 *
 * Copyright (c) 2012 David Furfero

 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:

 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.

 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */
function(a){function b(a,b){if(!(a.originalEvent.touches.length>1)){a.preventDefault();var c=a.originalEvent.changedTouches[0],d=document.createEvent("MouseEvents");d.initMouseEvent(b,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(d)}}if(a.support.touch="ontouchend"in document,a.support.touch){var c,d=a.ui.mouse.prototype,e=d._mouseInit,f=d._mouseDestroy;d._touchStart=function(a){var d=this;!c&&d._mouseCapture(a.originalEvent.changedTouches[0])&&(c=!0,d._touchMoved=!1,b(a,"mouseover"),b(a,"mousemove"),b(a,"mousedown"))},d._touchMove=function(a){c&&(this._touchMoved=!0,b(a,"mousemove"))},d._touchEnd=function(a){c&&(b(a,"mouseup"),b(a,"mouseout"),this._touchMoved||b(a,"click"),c=!1)},d._mouseInit=function(){var b=this;b.element.bind({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),e.call(b)},d._mouseDestroy=function(){var b=this;b.element.unbind({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),f.call(b)}}}(jQuery),/**
 * This script gives you the zone info key representing your device's time zone setting.
 *
 * @name jsTimezoneDetect
 * @version 1.0.5
 * @author Jon Nylander
 * @license MIT License - http://www.opensource.org/licenses/mit-license.php
 *
 * For usage and examples, visit:
 * http://pellepim.bitbucket.org/jstz/
 *
 * Copyright (c) Jon Nylander
 */
function(a){var b=function(){"use strict";var a="s",c=function(a){var b=-a.getTimezoneOffset();return null!==b?b:0},d=function(a,b,c){var d=new Date;return void 0!==a&&d.setFullYear(a),d.setMonth(b),d.setDate(c),d},e=function(a){return c(d(a,0,2))},f=function(a){return c(d(a,5,2))},g=function(a){var b=a.getMonth()>7,d=b?f(a.getFullYear()):e(a.getFullYear()),g=c(a),h=0>d,i=d-g;return h||b?0!==i:0>i},h=function(){var b=e(),c=f(),d=b-c;return 0>d?b+",1":d>0?c+",1,"+a:b+",0"},i=function(){var a=h();return new b.TimeZone(b.olson.timezones[a])},j=function(a){var b=new Date(2010,6,15,1,0,0,0),c={"America/Denver":new Date(2011,2,13,3,0,0,0),"America/Mazatlan":new Date(2011,3,3,3,0,0,0),"America/Chicago":new Date(2011,2,13,3,0,0,0),"America/Mexico_City":new Date(2011,3,3,3,0,0,0),"America/Asuncion":new Date(2012,9,7,3,0,0,0),"America/Santiago":new Date(2012,9,3,3,0,0,0),"America/Campo_Grande":new Date(2012,9,21,5,0,0,0),"America/Montevideo":new Date(2011,9,2,3,0,0,0),"America/Sao_Paulo":new Date(2011,9,16,5,0,0,0),"America/Los_Angeles":new Date(2011,2,13,8,0,0,0),"America/Santa_Isabel":new Date(2011,3,5,8,0,0,0),"America/Havana":new Date(2012,2,10,2,0,0,0),"America/New_York":new Date(2012,2,10,7,0,0,0),"Europe/Helsinki":new Date(2013,2,31,5,0,0,0),"Pacific/Auckland":new Date(2011,8,26,7,0,0,0),"America/Halifax":new Date(2011,2,13,6,0,0,0),"America/Goose_Bay":new Date(2011,2,13,2,1,0,0),"America/Miquelon":new Date(2011,2,13,5,0,0,0),"America/Godthab":new Date(2011,2,27,1,0,0,0),"Europe/Moscow":b,"Asia/Amman":new Date(2013,2,29,1,0,0,0),"Asia/Beirut":new Date(2013,2,31,2,0,0,0),"Asia/Damascus":new Date(2013,3,6,2,0,0,0),"Asia/Jerusalem":new Date(2013,2,29,5,0,0,0),"Asia/Yekaterinburg":b,"Asia/Omsk":b,"Asia/Krasnoyarsk":b,"Asia/Irkutsk":b,"Asia/Yakutsk":b,"Asia/Vladivostok":b,"Asia/Baku":new Date(2013,2,31,4,0,0),"Asia/Yerevan":new Date(2013,2,31,3,0,0),"Asia/Kamchatka":b,"Asia/Gaza":new Date(2010,2,27,4,0,0),"Africa/Cairo":new Date(2010,4,1,3,0,0),"Europe/Minsk":b,"Pacific/Apia":new Date(2010,10,1,1,0,0,0),"Pacific/Fiji":new Date(2010,11,1,0,0,0),"Australia/Perth":new Date(2008,10,1,1,0,0,0)};return c[a]};return{determine:i,date_is_dst:g,dst_start_for:j}}();b.TimeZone=function(a){"use strict";var c={"America/Denver":["America/Denver","America/Mazatlan"],"America/Chicago":["America/Chicago","America/Mexico_City"],"America/Santiago":["America/Santiago","America/Asuncion","America/Campo_Grande"],"America/Montevideo":["America/Montevideo","America/Sao_Paulo"],"Asia/Beirut":["Asia/Amman","Asia/Jerusalem","Asia/Beirut","Europe/Helsinki","Asia/Damascus"],"Pacific/Auckland":["Pacific/Auckland","Pacific/Fiji"],"America/Los_Angeles":["America/Los_Angeles","America/Santa_Isabel"],"America/New_York":["America/Havana","America/New_York"],"America/Halifax":["America/Goose_Bay","America/Halifax"],"America/Godthab":["America/Miquelon","America/Godthab"],"Asia/Dubai":["Europe/Moscow"],"Asia/Dhaka":["Asia/Yekaterinburg"],"Asia/Jakarta":["Asia/Omsk"],"Asia/Shanghai":["Asia/Krasnoyarsk","Australia/Perth"],"Asia/Tokyo":["Asia/Irkutsk"],"Australia/Brisbane":["Asia/Yakutsk"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Tarawa":["Asia/Kamchatka","Pacific/Fiji"],"Pacific/Tongatapu":["Pacific/Apia"],"Asia/Baghdad":["Europe/Minsk"],"Asia/Baku":["Asia/Yerevan","Asia/Baku"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"]},d=a,e=function(){for(var a=c[d],e=a.length,f=0,g=a[0];e>f;f+=1)if(g=a[f],b.date_is_dst(b.dst_start_for(g)))return d=g,void 0},f=function(){return"undefined"!=typeof c[d]};return f()&&e(),{name:function(){return d}}},b.olson={},b.olson.timezones={"-720,0":"Pacific/Majuro","-660,0":"Pacific/Pago_Pago","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Santiago","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"America/Noronha","-120,1":"America/Noronha","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Tarawa","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},"undefined"!=typeof exports?exports.jstz=b:a.jstz=b}(this);



